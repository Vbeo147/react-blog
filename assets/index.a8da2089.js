function LF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nR(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ye={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=Symbol.for("react.element"),$F=Symbol.for("react.portal"),MF=Symbol.for("react.fragment"),jF=Symbol.for("react.strict_mode"),FF=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),qF=Symbol.for("react.context"),BF=Symbol.for("react.forward_ref"),VF=Symbol.for("react.suspense"),zF=Symbol.for("react.memo"),HF=Symbol.for("react.lazy"),tT=Symbol.iterator;function WF(t){return t===null||typeof t!="object"?null:(t=tT&&t[tT]||t["@@iterator"],typeof t=="function"?t:null)}var rR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iR=Object.assign,oR={};function Ku(t,e,n){this.props=t,this.context=e,this.refs=oR,this.updater=n||rR}Ku.prototype.isReactComponent={};Ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sR(){}sR.prototype=Ku.prototype;function z_(t,e,n){this.props=t,this.context=e,this.refs=oR,this.updater=n||rR}var H_=z_.prototype=new sR;H_.constructor=z_;iR(H_,Ku.prototype);H_.isPureReactComponent=!0;var nT=Array.isArray,aR=Object.prototype.hasOwnProperty,W_={current:null},uR={key:!0,ref:!0,__self:!0,__source:!0};function lR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)aR.call(e,r)&&!uR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nf,type:t,key:o,ref:s,props:i,_owner:W_.current}}function GF(t,e){return{$$typeof:Nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nf}function KF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rT=/\/+/g;function My(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KF(""+t.key):e.toString(36)}function vh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Nf:case $F:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+My(s,0):r,nT(i)?(n="",t!=null&&(n=t.replace(rT,"$&/")+"/"),vh(i,e,n,"",function(l){return l})):i!=null&&(G_(i)&&(i=GF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",nT(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+My(o,a);s+=vh(o,e,n,u,i)}else if(u=WF(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+My(o,a++),s+=vh(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return vh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function QF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},_h={transition:null},YF={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:_h,ReactCurrentOwner:W_};Be.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!G_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Ku;Be.Fragment=MF;Be.Profiler=FF;Be.PureComponent=z_;Be.StrictMode=jF;Be.Suspense=VF;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YF;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=W_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)aR.call(e,u)&&!uR.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Nf,type:t.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:qF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UF,_context:t},t.Consumer=t};Be.createElement=lR;Be.createFactory=function(t){var e=lR.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:BF,render:t}};Be.isValidElement=G_;Be.lazy=function(t){return{$$typeof:HF,_payload:{_status:-1,_result:t},_init:QF}};Be.memo=function(t,e){return{$$typeof:zF,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=_h.transition;_h.transition={};try{t()}finally{_h.transition=e}};Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Be.useCallback=function(t,e){return Mn.current.useCallback(t,e)};Be.useContext=function(t){return Mn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Mn.current.useEffect(t,e)};Be.useId=function(){return Mn.current.useId()};Be.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Mn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};Be.useRef=function(t){return Mn.current.useRef(t)};Be.useState=function(t){return Mn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Mn.current.useTransition()};Be.version="18.2.0";(function(t){t.exports=Be})(ye);const Bo=tR(ye.exports),b0=LF({__proto__:null,default:Bo},[ye.exports]);var w0={},fg={exports:{}},pr={},cR={exports:{}},fR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,H){var W=G.length;G.push(H);e:for(;0<W;){var M=W-1>>>1,U=G[M];if(0<i(U,H))G[M]=H,G[W]=U,W=M;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],W=G.pop();if(W!==H){G[0]=W;e:for(var M=0,U=G.length,q=U>>>1;M<q;){var $=2*(M+1)-1,j=G[$],N=$+1,V=G[N];if(0>i(j,W))N<U&&0>i(V,j)?(G[M]=V,G[N]=W,M=N):(G[M]=j,G[$]=W,M=$);else if(N<U&&0>i(V,W))G[M]=V,G[N]=W,M=N;else break e}}return H}function i(G,H){var W=G.sortIndex-H.sortIndex;return W!==0?W:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],f=1,c=null,d=3,g=!1,y=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var H=n(l);H!==null;){if(H.callback===null)r(l);else if(H.startTime<=G)r(l),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(l)}}function v(G){if(m=!1,b(G),!y)if(n(u)!==null)y=!0,D(w);else{var H=n(l);H!==null&&F(v,H.startTime-G)}}function w(G,H){y=!1,m&&(m=!1,p(E),E=-1),g=!0;var W=d;try{for(b(H),c=n(u);c!==null&&(!(c.expirationTime>H)||G&&!S());){var M=c.callback;if(typeof M=="function"){c.callback=null,d=c.priorityLevel;var U=M(c.expirationTime<=H);H=t.unstable_now(),typeof U=="function"?c.callback=U:c===n(u)&&r(u),b(H)}else r(u);c=n(u)}if(c!==null)var q=!0;else{var $=n(l);$!==null&&F(v,$.startTime-H),q=!1}return q}finally{c=null,d=W,g=!1}}var O=!1,T=null,E=-1,k=5,A=-1;function S(){return!(t.unstable_now()-A<k)}function R(){if(T!==null){var G=t.unstable_now();A=G;var H=!0;try{H=T(!0,G)}finally{H?I():(O=!1,T=null)}}else O=!1}var I;if(typeof h=="function")I=function(){h(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,x=P.port2;P.port1.onmessage=R,I=function(){x.postMessage(null)}}else I=function(){_(R,0)};function D(G){T=G,O||(O=!0,I())}function F(G,H){E=_(function(){G(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,D(w))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var W=d;d=H;try{return G()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=d;d=G;try{return H()}finally{d=W}},t.unstable_scheduleCallback=function(G,H,W){var M=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?M+W:M):W=M,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,G={id:f++,callback:H,priorityLevel:G,startTime:W,expirationTime:U,sortIndex:-1},W>M?(G.sortIndex=W,e(l,G),n(u)===null&&G===n(l)&&(m?(p(E),E=-1):m=!0,F(v,W-M))):(G.sortIndex=U,e(u,G),y||g||(y=!0,D(w))),G},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(G){var H=d;return function(){var W=d;d=H;try{return G.apply(this,arguments)}finally{d=W}}}})(fR);(function(t){t.exports=fR})(cR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=ye.exports,cr=cR.exports;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hR=new Set,Nc={};function ya(t,e){Eu(t,e),Eu(t+"Capture",e)}function Eu(t,e){for(Nc[t]=e,t=0;t<e.length;t++)hR.add(e[t])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=Object.prototype.hasOwnProperty,XF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iT={},oT={};function ZF(t){return E0.call(oT,t)?!0:E0.call(iT,t)?!1:XF.test(t)?oT[t]=!0:(iT[t]=!0,!1)}function JF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e3(t,e,n,r){if(e===null||typeof e>"u"||JF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var K_=/[\-:]([a-z])/g;function Q_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K_,Q_);fn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K_,Q_);fn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K_,Q_);fn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y_(t,e,n,r){var i=fn.hasOwnProperty(e)?fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e3(e,n,i,r)&&(n=null),r||i===null?ZF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xi=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),za=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),pR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),J_=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),mR=Symbol.for("react.offscreen"),sT=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,jy;function ec(t){if(jy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jy=e&&e[1]||""}return`
`+jy+t}var Fy=!1;function Uy(t,e){if(!t||Fy)return"";Fy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{Fy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function t3(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=Uy(t.type,!1),t;case 11:return t=Uy(t.type.render,!1),t;case 1:return t=Uy(t.type,!0),t;default:return""}}function A0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ha:return"Fragment";case za:return"Portal";case O0:return"Profiler";case X_:return"StrictMode";case T0:return"Suspense";case S0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gR:return(t.displayName||"Context")+".Consumer";case pR:return(t._context.displayName||"Context")+".Provider";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J_:return e=t.displayName||null,e!==null?e:A0(t.type)||"Memo";case go:e=t._payload,t=t._init;try{return A0(t(e))}catch{}}return null}function n3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A0(e);case 8:return e===X_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r3(t){var e=yR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dd(t){t._valueTracker||(t._valueTracker=r3(t))}function vR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I0(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function aT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _R(t,e){e=e.checked,e!=null&&Y_(t,"checked",e,!1)}function k0(t,e){_R(t,e);var n=Vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x0(t,e.type,n):e.hasOwnProperty("defaultValue")&&x0(t,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x0(t,e,n){(e!=="number"||zh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function au(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(tc(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vo(n)}}function bR(t,e){var n=Vo(e.value),r=Vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ld,ER=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ld=Ld||document.createElement("div"),Ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i3=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(t){i3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fc[e]=fc[t]})});function OR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fc.hasOwnProperty(t)&&fc[t]?(""+e).trim():e+"px"}function TR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var o3=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C0(t,e){if(e){if(o3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function N0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=null;function eb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L0=null,uu=null,lu=null;function fT(t){if(t=$f(t)){if(typeof L0!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=mg(e),L0(t.stateNode,t.type,e))}}function SR(t){uu?lu?lu.push(t):lu=[t]:uu=t}function AR(){if(uu){var t=uu,e=lu;if(lu=uu=null,fT(t),e)for(t=0;t<e.length;t++)fT(e[t])}}function IR(t,e){return t(e)}function kR(){}var qy=!1;function xR(t,e,n){if(qy)return t(e,n);qy=!0;try{return IR(t,e,n)}finally{qy=!1,(uu!==null||lu!==null)&&(kR(),AR())}}function Lc(t,e){var n=t.stateNode;if(n===null)return null;var r=mg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var $0=!1;if(qi)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){$0=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{$0=!1}function s3(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(f){this.onError(f)}}var dc=!1,Hh=null,Wh=!1,M0=null,a3={onError:function(t){dc=!0,Hh=t}};function u3(t,e,n,r,i,o,s,a,u){dc=!1,Hh=null,s3.apply(a3,arguments)}function l3(t,e,n,r,i,o,s,a,u){if(u3.apply(this,arguments),dc){if(dc){var l=Hh;dc=!1,Hh=null}else throw Error(ve(198));Wh||(Wh=!0,M0=l)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dT(t){if(va(t)!==t)throw Error(ve(188))}function c3(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dT(i),t;if(o===r)return dT(i),e;o=o.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function PR(t){return t=c3(t),t!==null?CR(t):null}function CR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CR(t);if(e!==null)return e;t=t.sibling}return null}var NR=cr.unstable_scheduleCallback,hT=cr.unstable_cancelCallback,f3=cr.unstable_shouldYield,d3=cr.unstable_requestPaint,St=cr.unstable_now,h3=cr.unstable_getCurrentPriorityLevel,tb=cr.unstable_ImmediatePriority,DR=cr.unstable_UserBlockingPriority,Gh=cr.unstable_NormalPriority,p3=cr.unstable_LowPriority,LR=cr.unstable_IdlePriority,dg=null,ai=null;function g3(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(dg,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:v3,m3=Math.log,y3=Math.LN2;function v3(t){return t>>>=0,t===0?32:31-(m3(t)/y3|0)|0}var $d=64,Md=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=nc(a):(o&=s,o!==0&&(r=nc(o)))}else s=n&~i,s!==0?r=nc(s):o!==0&&(r=nc(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mr(e),i=1<<n,r|=t[n],e&=~i;return r}function _3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mr(o),a=1<<s,u=i[s];u===-1?((a&n)===0||(a&r)!==0)&&(i[s]=_3(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function j0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $R(){var t=$d;return $d<<=1,($d&4194240)===0&&($d=64),t}function By(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=n}function w3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function nb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function MR(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var jR,rb,FR,UR,qR,F0=!1,jd=[],ko=null,xo=null,Ro=null,$c=new Map,Mc=new Map,yo=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pT(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":$c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function Pl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$f(e),e!==null&&rb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function O3(t,e,n,r,i){switch(e){case"focusin":return ko=Pl(ko,t,e,n,r,i),!0;case"dragenter":return xo=Pl(xo,t,e,n,r,i),!0;case"mouseover":return Ro=Pl(Ro,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $c.set(o,Pl($c.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mc.set(o,Pl(Mc.get(o)||null,t,e,n,r,i)),!0}return!1}function BR(t){var e=Ps(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=RR(n),e!==null){t.blockedOn=e,qR(t.priority,function(){FR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=U0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);D0=r,n.target.dispatchEvent(r),D0=null}else return e=$f(n),e!==null&&rb(e),t.blockedOn=n,!1;e.shift()}return!0}function gT(t,e,n){bh(t)&&n.delete(e)}function T3(){F0=!1,ko!==null&&bh(ko)&&(ko=null),xo!==null&&bh(xo)&&(xo=null),Ro!==null&&bh(Ro)&&(Ro=null),$c.forEach(gT),Mc.forEach(gT)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,F0||(F0=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,T3)))}function jc(t){function e(i){return Cl(i,t)}if(0<jd.length){Cl(jd[0],t);for(var n=1;n<jd.length;n++){var r=jd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ko!==null&&Cl(ko,t),xo!==null&&Cl(xo,t),Ro!==null&&Cl(Ro,t),$c.forEach(e),Mc.forEach(e),n=0;n<yo.length;n++)r=yo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)BR(n),n.blockedOn===null&&yo.shift()}var cu=Xi.ReactCurrentBatchConfig,Qh=!0;function S3(t,e,n,r){var i=Qe,o=cu.transition;cu.transition=null;try{Qe=1,ib(t,e,n,r)}finally{Qe=i,cu.transition=o}}function A3(t,e,n,r){var i=Qe,o=cu.transition;cu.transition=null;try{Qe=4,ib(t,e,n,r)}finally{Qe=i,cu.transition=o}}function ib(t,e,n,r){if(Qh){var i=U0(t,e,n,r);if(i===null)Zy(t,e,r,Yh,n),pT(t,r);else if(O3(i,t,e,n,r))r.stopPropagation();else if(pT(t,r),e&4&&-1<E3.indexOf(t)){for(;i!==null;){var o=$f(i);if(o!==null&&jR(o),o=U0(t,e,n,r),o===null&&Zy(t,e,r,Yh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zy(t,e,r,null,n)}}var Yh=null;function U0(t,e,n,r){if(Yh=null,t=eb(r),t=Ps(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yh=t,null}function VR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h3()){case tb:return 1;case DR:return 4;case Gh:case p3:return 16;case LR:return 536870912;default:return 16}default:return 16}}var Eo=null,ob=null,wh=null;function zR(){if(wh)return wh;var t,e=ob,n=e.length,r,i="value"in Eo?Eo.value:Eo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return wh=i.slice(t,1<r?1-r:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fd(){return!0}function mT(){return!1}function gr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fd:mT,this.isPropagationStopped=mT,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),e}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sb=gr(Qu),Lf=yt({},Qu,{view:0,detail:0}),I3=gr(Lf),Vy,zy,Nl,hg=yt({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ab,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(Vy=t.screenX-Nl.screenX,zy=t.screenY-Nl.screenY):zy=Vy=0,Nl=t),Vy)},movementY:function(t){return"movementY"in t?t.movementY:zy}}),yT=gr(hg),k3=yt({},hg,{dataTransfer:0}),x3=gr(k3),R3=yt({},Lf,{relatedTarget:0}),Hy=gr(R3),P3=yt({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),C3=gr(P3),N3=yt({},Qu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D3=gr(N3),L3=yt({},Qu,{data:0}),vT=gr(L3),$3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j3[t])?!!e[t]:!1}function ab(){return F3}var U3=yt({},Lf,{key:function(t){if(t.key){var e=$3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ab,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q3=gr(U3),B3=yt({},hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_T=gr(B3),V3=yt({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ab}),z3=gr(V3),H3=yt({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),W3=gr(H3),G3=yt({},hg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K3=gr(G3),Q3=[9,13,27,32],ub=qi&&"CompositionEvent"in window,hc=null;qi&&"documentMode"in document&&(hc=document.documentMode);var Y3=qi&&"TextEvent"in window&&!hc,HR=qi&&(!ub||hc&&8<hc&&11>=hc),bT=String.fromCharCode(32),wT=!1;function WR(t,e){switch(t){case"keyup":return Q3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function X3(t,e){switch(t){case"compositionend":return GR(e);case"keypress":return e.which!==32?null:(wT=!0,bT);case"textInput":return t=e.data,t===bT&&wT?null:t;default:return null}}function Z3(t,e){if(Wa)return t==="compositionend"||!ub&&WR(t,e)?(t=zR(),wh=ob=Eo=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HR&&e.locale!=="ko"?null:e.data;default:return null}}var J3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ET(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J3[t.type]:e==="textarea"}function KR(t,e,n,r){SR(r),e=Xh(e,"onChange"),0<e.length&&(n=new sb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pc=null,Fc=null;function eU(t){oP(t,0)}function pg(t){var e=Qa(t);if(vR(e))return t}function tU(t,e){if(t==="change")return e}var QR=!1;if(qi){var Wy;if(qi){var Gy="oninput"in document;if(!Gy){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),Gy=typeof OT.oninput=="function"}Wy=Gy}else Wy=!1;QR=Wy&&(!document.documentMode||9<document.documentMode)}function TT(){pc&&(pc.detachEvent("onpropertychange",YR),Fc=pc=null)}function YR(t){if(t.propertyName==="value"&&pg(Fc)){var e=[];KR(e,Fc,t,eb(t)),xR(eU,e)}}function nU(t,e,n){t==="focusin"?(TT(),pc=e,Fc=n,pc.attachEvent("onpropertychange",YR)):t==="focusout"&&TT()}function rU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pg(Fc)}function iU(t,e){if(t==="click")return pg(e)}function oU(t,e){if(t==="input"||t==="change")return pg(e)}function sU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:sU;function Uc(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!E0.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function ST(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AT(t,e){var n=ST(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ST(n)}}function XR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZR(){for(var t=window,e=zh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zh(t.document)}return e}function lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aU(t){var e=ZR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XR(n.ownerDocument.documentElement,n)){if(r!==null&&lb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=AT(n,o);var s=AT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uU=qi&&"documentMode"in document&&11>=document.documentMode,Ga=null,q0=null,gc=null,B0=!1;function IT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B0||Ga==null||Ga!==zh(r)||(r=Ga,"selectionStart"in r&&lb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Uc(gc,r)||(gc=r,r=Xh(q0,"onSelect"),0<r.length&&(e=new sb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ga)))}function Ud(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},Ky={},JR={};qi&&(JR=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function gg(t){if(Ky[t])return Ky[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JR)return Ky[t]=e[n];return t}var eP=gg("animationend"),tP=gg("animationiteration"),nP=gg("animationstart"),rP=gg("transitionend"),iP=new Map,kT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(t,e){iP.set(t,e),ya(e,[t])}for(var Qy=0;Qy<kT.length;Qy++){var Yy=kT[Qy],lU=Yy.toLowerCase(),cU=Yy[0].toUpperCase()+Yy.slice(1);ns(lU,"on"+cU)}ns(eP,"onAnimationEnd");ns(tP,"onAnimationIteration");ns(nP,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(rP,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fU=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function xT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l3(r,e,void 0,t),t.currentTarget=null}function oP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;xT(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;xT(i,a,l),o=u}}}if(Wh)throw t=M0,Wh=!1,M0=null,t}function rt(t,e){var n=e[G0];n===void 0&&(n=e[G0]=new Set);var r=t+"__bubble";n.has(r)||(sP(e,t,2,!1),n.add(r))}function Xy(t,e,n){var r=0;e&&(r|=4),sP(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[qd]){t[qd]=!0,hR.forEach(function(n){n!=="selectionchange"&&(fU.has(n)||Xy(n,!1,t),Xy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,Xy("selectionchange",!1,e))}}function sP(t,e,n,r){switch(VR(e)){case 1:var i=S3;break;case 4:i=A3;break;default:i=ib}n=i.bind(null,e,n,t),i=void 0,!$0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zy(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ps(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}xR(function(){var l=o,f=eb(n),c=[];e:{var d=iP.get(t);if(d!==void 0){var g=sb,y=t;switch(t){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":g=q3;break;case"focusin":y="focus",g=Hy;break;case"focusout":y="blur",g=Hy;break;case"beforeblur":case"afterblur":g=Hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=x3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=z3;break;case eP:case tP:case nP:g=C3;break;case rP:g=W3;break;case"scroll":g=I3;break;case"wheel":g=K3;break;case"copy":case"cut":case"paste":g=D3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_T}var m=(e&4)!==0,_=!m&&t==="scroll",p=m?d!==null?d+"Capture":null:d;m=[];for(var h=l,b;h!==null;){b=h;var v=b.stateNode;if(b.tag===5&&v!==null&&(b=v,p!==null&&(v=Lc(h,p),v!=null&&m.push(Bc(h,v,b)))),_)break;h=h.return}0<m.length&&(d=new g(d,y,null,n,f),c.push({event:d,listeners:m}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==D0&&(y=n.relatedTarget||n.fromElement)&&(Ps(y)||y[Bi]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=l,y=y?Ps(y):null,y!==null&&(_=va(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=l),g!==y)){if(m=yT,v="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(m=_T,v="onPointerLeave",p="onPointerEnter",h="pointer"),_=g==null?d:Qa(g),b=y==null?d:Qa(y),d=new m(v,h+"leave",g,n,f),d.target=_,d.relatedTarget=b,v=null,Ps(f)===l&&(m=new m(p,h+"enter",y,n,f),m.target=b,m.relatedTarget=_,v=m),_=v,g&&y)t:{for(m=g,p=y,h=0,b=m;b;b=Ma(b))h++;for(b=0,v=p;v;v=Ma(v))b++;for(;0<h-b;)m=Ma(m),h--;for(;0<b-h;)p=Ma(p),b--;for(;h--;){if(m===p||p!==null&&m===p.alternate)break t;m=Ma(m),p=Ma(p)}m=null}else m=null;g!==null&&RT(c,d,g,m,!1),y!==null&&_!==null&&RT(c,_,y,m,!0)}}e:{if(d=l?Qa(l):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var w=tU;else if(ET(d))if(QR)w=oU;else{w=rU;var O=nU}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=iU);if(w&&(w=w(t,l))){KR(c,w,n,f);break e}O&&O(t,d,l),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&x0(d,"number",d.value)}switch(O=l?Qa(l):window,t){case"focusin":(ET(O)||O.contentEditable==="true")&&(Ga=O,q0=l,gc=null);break;case"focusout":gc=q0=Ga=null;break;case"mousedown":B0=!0;break;case"contextmenu":case"mouseup":case"dragend":B0=!1,IT(c,n,f);break;case"selectionchange":if(uU)break;case"keydown":case"keyup":IT(c,n,f)}var T;if(ub)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Wa?WR(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(HR&&n.locale!=="ko"&&(Wa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Wa&&(T=zR()):(Eo=f,ob="value"in Eo?Eo.value:Eo.textContent,Wa=!0)),O=Xh(l,E),0<O.length&&(E=new vT(E,t,null,n,f),c.push({event:E,listeners:O}),T?E.data=T:(T=GR(n),T!==null&&(E.data=T)))),(T=Y3?X3(t,n):Z3(t,n))&&(l=Xh(l,"onBeforeInput"),0<l.length&&(f=new vT("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:l}),f.data=T))}oP(c,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lc(t,n),o!=null&&r.unshift(Bc(t,o,i)),o=Lc(t,e),o!=null&&r.push(Bc(t,o,i))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RT(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Lc(n,o),u!=null&&s.unshift(Bc(n,u,a))):i||(u=Lc(n,o),u!=null&&s.push(Bc(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dU=/\r\n?/g,hU=/\u0000|\uFFFD/g;function PT(t){return(typeof t=="string"?t:""+t).replace(dU,`
`).replace(hU,"")}function Bd(t,e,n){if(e=PT(e),PT(t)!==e&&n)throw Error(ve(425))}function Zh(){}var V0=null,z0=null;function H0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,pU=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,gU=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(t){return CT.resolve(null).then(t).catch(mU)}:W0;function mU(t){setTimeout(function(){throw t})}function Jy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jc(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Yu,Vc="__reactProps$"+Yu,Bi="__reactContainer$"+Yu,G0="__reactEvents$"+Yu,yU="__reactListeners$"+Yu,vU="__reactHandles$"+Yu;function Ps(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bi]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NT(t);t!==null;){if(n=t[Kr])return n;t=NT(t)}return e}t=n,n=t.parentNode}return null}function $f(t){return t=t[Kr]||t[Bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function mg(t){return t[Vc]||null}var K0=[],Ya=-1;function rs(t){return{current:t}}function st(t){0>Ya||(t.current=K0[Ya],K0[Ya]=null,Ya--)}function nt(t,e){Ya++,K0[Ya]=t.current,t.current=e}var zo={},On=rs(zo),Xn=rs(!1),Qs=zo;function Ou(t,e){var n=t.type.contextTypes;if(!n)return zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function Jh(){st(Xn),st(On)}function DT(t,e,n){if(On.current!==zo)throw Error(ve(168));nt(On,e),nt(Xn,n)}function aP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,n3(t)||"Unknown",i));return yt({},n,r)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zo,Qs=On.current,nt(On,t),nt(Xn,Xn.current),!0}function LT(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=aP(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,st(Xn),st(On),nt(On,t)):st(Xn),nt(Xn,n)}var ki=null,yg=!1,ev=!1;function uP(t){ki===null?ki=[t]:ki.push(t)}function _U(t){yg=!0,uP(t)}function is(){if(!ev&&ki!==null){ev=!0;var t=0,e=Qe;try{var n=ki;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ki=null,yg=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),NR(tb,is),i}finally{Qe=e,ev=!1}}return null}var Xa=[],Za=0,tp=null,np=0,vr=[],_r=0,Ys=null,Ri=1,Pi="";function bs(t,e){Xa[Za++]=np,Xa[Za++]=tp,tp=t,np=e}function lP(t,e,n){vr[_r++]=Ri,vr[_r++]=Pi,vr[_r++]=Ys,Ys=t;var r=Ri;t=Pi;var i=32-Mr(r)-1;r&=~(1<<i),n+=1;var o=32-Mr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ri=1<<32-Mr(e)+i|n<<i|r,Pi=o+t}else Ri=1<<o|n<<i|r,Pi=t}function cb(t){t.return!==null&&(bs(t,1),lP(t,1,0))}function fb(t){for(;t===tp;)tp=Xa[--Za],Xa[Za]=null,np=Xa[--Za],Xa[Za]=null;for(;t===Ys;)Ys=vr[--_r],vr[_r]=null,Pi=vr[--_r],vr[_r]=null,Ri=vr[--_r],vr[_r]=null}var ur=null,sr=null,lt=!1,Lr=null;function cP(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $T(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,sr=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:Ri,overflow:Pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,sr=null,!0):!1;default:return!1}}function Q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y0(t){if(lt){var e=sr;if(e){var n=e;if(!$T(t,e)){if(Q0(t))throw Error(ve(418));e=Po(n.nextSibling);var r=ur;e&&$T(t,e)?cP(r,n):(t.flags=t.flags&-4097|2,lt=!1,ur=t)}}else{if(Q0(t))throw Error(ve(418));t.flags=t.flags&-4097|2,lt=!1,ur=t}}}function MT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function Vd(t){if(t!==ur)return!1;if(!lt)return MT(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H0(t.type,t.memoizedProps)),e&&(e=sr)){if(Q0(t))throw fP(),Error(ve(418));for(;e;)cP(t,e),e=Po(e.nextSibling)}if(MT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ur?Po(t.stateNode.nextSibling):null;return!0}function fP(){for(var t=sr;t;)t=Po(t.nextSibling)}function Tu(){sr=ur=null,lt=!1}function db(t){Lr===null?Lr=[t]:Lr.push(t)}var bU=Xi.ReactCurrentBatchConfig;function Nr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rp=rs(null),ip=null,Ja=null,hb=null;function pb(){hb=Ja=ip=null}function gb(t){var e=rp.current;st(rp),t._currentValue=e}function X0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fu(t,e){ip=t,hb=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Gn=!0),t.firstContext=null)}function Ar(t){var e=t._currentValue;if(hb!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(ip===null)throw Error(ve(308));Ja=t,ip.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Cs=null;function mb(t){Cs===null?Cs=[t]:Cs.push(t)}function dP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vi(t,r)}function Vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function yb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Co(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(We&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vi(t,n)}return i=r.interleaved,i===null?(e.next=e,mb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vi(t,n)}function Oh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nb(t,n)}}function jT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function op(t,e,n,r){var i=t.updateQueue;mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=u))}if(o!==null){var c=i.baseState;s=0,f=l=u=null,a=o;do{var d=a.lane,g=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(d=e,g=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){c=y.call(g,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(g,c,d):y,d==null)break e;c=yt({},c,d);break e;case 2:mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(l=f=g,u=c):f=f.next=g,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zs|=s,t.lanes=s,t.memoizedState=c}}function FT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var pP=new dR.Component().refs;function Z0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vg={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Do(t),o=Mi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Co(t,o,i),e!==null&&(jr(e,t,i,r),Oh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Do(t),o=Mi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Co(t,o,i),e!==null&&(jr(e,t,i,r),Oh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Do(t),i=Mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Co(t,i,r),e!==null&&(jr(e,t,r,n),Oh(e,t,r))}};function UT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Uc(n,r)||!Uc(i,o):!0}function gP(t,e,n){var r=!1,i=zo,o=e.contextType;return typeof o=="object"&&o!==null?o=Ar(o):(i=Zn(e)?Qs:On.current,r=e.contextTypes,o=(r=r!=null)?Ou(t,i):zo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vg.enqueueReplaceState(e,e.state,null)}function J0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pP,yb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ar(o):(o=Zn(e)?Qs:On.current,i.context=Ou(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Z0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vg.enqueueReplaceState(i,i.state,null),op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===pP&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BT(t){var e=t._init;return e(t._payload)}function mP(t){function e(p,h){if(t){var b=p.deletions;b===null?(p.deletions=[h],p.flags|=16):b.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Lo(p,h),p.index=0,p.sibling=null,p}function o(p,h,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<h?(p.flags|=2,h):b):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,h,b,v){return h===null||h.tag!==6?(h=av(b,p.mode,v),h.return=p,h):(h=i(h,b),h.return=p,h)}function u(p,h,b,v){var w=b.type;return w===Ha?f(p,h,b.props.children,v,b.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===go&&BT(w)===h.type)?(v=i(h,b.props),v.ref=Dl(p,h,b),v.return=p,v):(v=xh(b.type,b.key,b.props,null,p.mode,v),v.ref=Dl(p,h,b),v.return=p,v)}function l(p,h,b,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==b.containerInfo||h.stateNode.implementation!==b.implementation?(h=uv(b,p.mode,v),h.return=p,h):(h=i(h,b.children||[]),h.return=p,h)}function f(p,h,b,v,w){return h===null||h.tag!==7?(h=qs(b,p.mode,v,w),h.return=p,h):(h=i(h,b),h.return=p,h)}function c(p,h,b){if(typeof h=="string"&&h!==""||typeof h=="number")return h=av(""+h,p.mode,b),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Nd:return b=xh(h.type,h.key,h.props,null,p.mode,b),b.ref=Dl(p,null,h),b.return=p,b;case za:return h=uv(h,p.mode,b),h.return=p,h;case go:var v=h._init;return c(p,v(h._payload),b)}if(tc(h)||xl(h))return h=qs(h,p.mode,b,null),h.return=p,h;zd(p,h)}return null}function d(p,h,b,v){var w=h!==null?h.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(p,h,""+b,v);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nd:return b.key===w?u(p,h,b,v):null;case za:return b.key===w?l(p,h,b,v):null;case go:return w=b._init,d(p,h,w(b._payload),v)}if(tc(b)||xl(b))return w!==null?null:f(p,h,b,v,null);zd(p,b)}return null}function g(p,h,b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(b)||null,a(h,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:return p=p.get(v.key===null?b:v.key)||null,u(h,p,v,w);case za:return p=p.get(v.key===null?b:v.key)||null,l(h,p,v,w);case go:var O=v._init;return g(p,h,b,O(v._payload),w)}if(tc(v)||xl(v))return p=p.get(b)||null,f(h,p,v,w,null);zd(h,v)}return null}function y(p,h,b,v){for(var w=null,O=null,T=h,E=h=0,k=null;T!==null&&E<b.length;E++){T.index>E?(k=T,T=null):k=T.sibling;var A=d(p,T,b[E],v);if(A===null){T===null&&(T=k);break}t&&T&&A.alternate===null&&e(p,T),h=o(A,h,E),O===null?w=A:O.sibling=A,O=A,T=k}if(E===b.length)return n(p,T),lt&&bs(p,E),w;if(T===null){for(;E<b.length;E++)T=c(p,b[E],v),T!==null&&(h=o(T,h,E),O===null?w=T:O.sibling=T,O=T);return lt&&bs(p,E),w}for(T=r(p,T);E<b.length;E++)k=g(T,p,E,b[E],v),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?E:k.key),h=o(k,h,E),O===null?w=k:O.sibling=k,O=k);return t&&T.forEach(function(S){return e(p,S)}),lt&&bs(p,E),w}function m(p,h,b,v){var w=xl(b);if(typeof w!="function")throw Error(ve(150));if(b=w.call(b),b==null)throw Error(ve(151));for(var O=w=null,T=h,E=h=0,k=null,A=b.next();T!==null&&!A.done;E++,A=b.next()){T.index>E?(k=T,T=null):k=T.sibling;var S=d(p,T,A.value,v);if(S===null){T===null&&(T=k);break}t&&T&&S.alternate===null&&e(p,T),h=o(S,h,E),O===null?w=S:O.sibling=S,O=S,T=k}if(A.done)return n(p,T),lt&&bs(p,E),w;if(T===null){for(;!A.done;E++,A=b.next())A=c(p,A.value,v),A!==null&&(h=o(A,h,E),O===null?w=A:O.sibling=A,O=A);return lt&&bs(p,E),w}for(T=r(p,T);!A.done;E++,A=b.next())A=g(T,p,E,A.value,v),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),h=o(A,h,E),O===null?w=A:O.sibling=A,O=A);return t&&T.forEach(function(R){return e(p,R)}),lt&&bs(p,E),w}function _(p,h,b,v){if(typeof b=="object"&&b!==null&&b.type===Ha&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Nd:e:{for(var w=b.key,O=h;O!==null;){if(O.key===w){if(w=b.type,w===Ha){if(O.tag===7){n(p,O.sibling),h=i(O,b.props.children),h.return=p,p=h;break e}}else if(O.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===go&&BT(w)===O.type){n(p,O.sibling),h=i(O,b.props),h.ref=Dl(p,O,b),h.return=p,p=h;break e}n(p,O);break}else e(p,O);O=O.sibling}b.type===Ha?(h=qs(b.props.children,p.mode,v,b.key),h.return=p,p=h):(v=xh(b.type,b.key,b.props,null,p.mode,v),v.ref=Dl(p,h,b),v.return=p,p=v)}return s(p);case za:e:{for(O=b.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===b.containerInfo&&h.stateNode.implementation===b.implementation){n(p,h.sibling),h=i(h,b.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=uv(b,p.mode,v),h.return=p,p=h}return s(p);case go:return O=b._init,_(p,h,O(b._payload),v)}if(tc(b))return y(p,h,b,v);if(xl(b))return m(p,h,b,v);zd(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,b),h.return=p,p=h):(n(p,h),h=av(b,p.mode,v),h.return=p,p=h),s(p)):n(p,h)}return _}var Su=mP(!0),yP=mP(!1),Mf={},ui=rs(Mf),zc=rs(Mf),Hc=rs(Mf);function Ns(t){if(t===Mf)throw Error(ve(174));return t}function vb(t,e){switch(nt(Hc,e),nt(zc,t),nt(ui,Mf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P0(e,t)}st(ui),nt(ui,e)}function Au(){st(ui),st(zc),st(Hc)}function vP(t){Ns(Hc.current);var e=Ns(ui.current),n=P0(e,t.type);e!==n&&(nt(zc,t),nt(ui,n))}function _b(t){zc.current===t&&(st(ui),st(zc))}var gt=rs(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tv=[];function bb(){for(var t=0;t<tv.length;t++)tv[t]._workInProgressVersionPrimary=null;tv.length=0}var Th=Xi.ReactCurrentDispatcher,nv=Xi.ReactCurrentBatchConfig,Xs=0,mt=null,Nt=null,qt=null,ap=!1,mc=!1,Wc=0,wU=0;function mn(){throw Error(ve(321))}function wb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function Eb(t,e,n,r,i,o){if(Xs=o,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Th.current=t===null||t.memoizedState===null?SU:AU,t=n(r,i),mc){o=0;do{if(mc=!1,Wc=0,25<=o)throw Error(ve(301));o+=1,qt=Nt=null,e.updateQueue=null,Th.current=IU,t=n(r,i)}while(mc)}if(Th.current=up,e=Nt!==null&&Nt.next!==null,Xs=0,qt=Nt=mt=null,ap=!1,e)throw Error(ve(300));return t}function Ob(){var t=Wc!==0;return Wc=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?mt.memoizedState=qt=t:qt=qt.next=t,qt}function Ir(){if(Nt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=qt===null?mt.memoizedState:qt.next;if(e!==null)qt=e,Nt=t;else{if(t===null)throw Error(ve(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},qt===null?mt.memoizedState=qt=t:qt=qt.next=t}return qt}function Gc(t,e){return typeof e=="function"?e(t):e}function rv(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var f=l.lane;if((Xs&f)===f)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var c={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=c,s=r):u=u.next=c,mt.lanes|=f,Zs|=f}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,Ur(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,mt.lanes|=o,Zs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iv(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ur(o,e.memoizedState)||(Gn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _P(){}function bP(t,e){var n=mt,r=Ir(),i=e(),o=!Ur(r.memoizedState,i);if(o&&(r.memoizedState=i,Gn=!0),r=r.queue,Tb(OP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Kc(9,EP.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(ve(349));(Xs&30)!==0||wP(n,e,i)}return i}function wP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EP(t,e,n,r){e.value=n,e.getSnapshot=r,TP(e)&&SP(t)}function OP(t,e,n){return n(function(){TP(e)&&SP(t)})}function TP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function SP(t){var e=Vi(t,1);e!==null&&jr(e,t,1,-1)}function VT(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:t},e.queue=t,t=t.dispatch=TU.bind(null,mt,t),[e.memoizedState,t]}function Kc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AP(){return Ir().memoizedState}function Sh(t,e,n,r){var i=Gr();mt.flags|=t,i.memoizedState=Kc(1|e,n,void 0,r===void 0?null:r)}function _g(t,e,n,r){var i=Ir();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&wb(r,s.deps)){i.memoizedState=Kc(e,n,o,r);return}}mt.flags|=t,i.memoizedState=Kc(1|e,n,o,r)}function zT(t,e){return Sh(8390656,8,t,e)}function Tb(t,e){return _g(2048,8,t,e)}function IP(t,e){return _g(4,2,t,e)}function kP(t,e){return _g(4,4,t,e)}function xP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RP(t,e,n){return n=n!=null?n.concat([t]):null,_g(4,4,xP.bind(null,e,t),n)}function Sb(){}function PP(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CP(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NP(t,e,n){return(Xs&21)===0?(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n):(Ur(n,e)||(n=$R(),mt.lanes|=n,Zs|=n,t.baseState=!0),e)}function EU(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=nv.transition;nv.transition={};try{t(!1),e()}finally{Qe=n,nv.transition=r}}function DP(){return Ir().memoizedState}function OU(t,e,n){var r=Do(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LP(t))$P(e,n);else if(n=dP(t,e,n,r),n!==null){var i=Nn();jr(n,t,r,i),MP(n,e,r)}}function TU(t,e,n){var r=Do(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LP(t))$P(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,s)){var u=e.interleaved;u===null?(i.next=i,mb(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=dP(t,e,i,r),n!==null&&(i=Nn(),jr(n,t,r,i),MP(n,e,r))}}function LP(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function $P(t,e){mc=ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MP(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nb(t,n)}}var up={readContext:Ar,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},SU={readContext:Ar,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:Ar,useEffect:zT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4194308,4,xP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sh(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OU.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:VT,useDebugValue:Sb,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=VT(!1),e=t[0];return t=EU.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Gr();if(lt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),zt===null)throw Error(ve(349));(Xs&30)!==0||wP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zT(OP.bind(null,r,o,t),[t]),r.flags|=2048,Kc(9,EP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Gr(),e=zt.identifierPrefix;if(lt){var n=Pi,r=Ri;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AU={readContext:Ar,useCallback:PP,useContext:Ar,useEffect:Tb,useImperativeHandle:RP,useInsertionEffect:IP,useLayoutEffect:kP,useMemo:CP,useReducer:rv,useRef:AP,useState:function(){return rv(Gc)},useDebugValue:Sb,useDeferredValue:function(t){var e=Ir();return NP(e,Nt.memoizedState,t)},useTransition:function(){var t=rv(Gc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:_P,useSyncExternalStore:bP,useId:DP,unstable_isNewReconciler:!1},IU={readContext:Ar,useCallback:PP,useContext:Ar,useEffect:Tb,useImperativeHandle:RP,useInsertionEffect:IP,useLayoutEffect:kP,useMemo:CP,useReducer:iv,useRef:AP,useState:function(){return iv(Gc)},useDebugValue:Sb,useDeferredValue:function(t){var e=Ir();return Nt===null?e.memoizedState=t:NP(e,Nt.memoizedState,t)},useTransition:function(){var t=iv(Gc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:_P,useSyncExternalStore:bP,useId:DP,unstable_isNewReconciler:!1};function Iu(t,e){try{var n="",r=e;do n+=t3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ov(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function e1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kU=typeof WeakMap=="function"?WeakMap:Map;function jP(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cp||(cp=!0,c1=r),e1(t,e)},n}function FP(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){e1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){e1(t,e),typeof r!="function"&&(No===null?No=new Set([this]):No.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function HT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BU.bind(null,t,e,n),e.then(t,t))}function WT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GT(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,Co(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var xU=Xi.ReactCurrentOwner,Gn=!1;function kn(t,e,n,r){e.child=t===null?yP(e,null,n,r):Su(e,t.child,n,r)}function KT(t,e,n,r,i){n=n.render;var o=e.ref;return fu(e,i),r=Eb(t,e,n,r,o,i),n=Ob(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(lt&&n&&cb(e),e.flags|=1,kn(t,e,r,i),e.child)}function QT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Nb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UP(t,e,o,r,i)):(t=xh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Uc,n(s,r)&&t.ref===e.ref)return zi(t,e,i)}return e.flags|=1,t=Lo(o,r),t.ref=e.ref,t.return=e,e.child=t}function UP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Uc(o,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Gn=!0);else return e.lanes=t.lanes,zi(t,e,i)}return t1(t,e,n,r,i)}function qP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(tu,ir),ir|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(tu,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nt(tu,ir),ir|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nt(tu,ir),ir|=r;return kn(t,e,i,n),e.child}function BP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function t1(t,e,n,r,i){var o=Zn(n)?Qs:On.current;return o=Ou(e,o),fu(e,i),n=Eb(t,e,n,r,o,i),r=Ob(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(lt&&r&&cb(e),e.flags|=1,kn(t,e,n,i),e.child)}function YT(t,e,n,r,i){if(Zn(n)){var o=!0;ep(e)}else o=!1;if(fu(e,i),e.stateNode===null)Ah(t,e),gP(e,n,r),J0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ar(l):(l=Zn(n)?Qs:On.current,l=Ou(e,l));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&qT(e,s,r,l),mo=!1;var d=e.memoizedState;s.state=d,op(e,r,s,i),u=e.memoizedState,a!==r||d!==u||Xn.current||mo?(typeof f=="function"&&(Z0(e,n,f,r),u=e.memoizedState),(a=mo||UT(e,n,a,r,d,u,l))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,hP(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Nr(e.type,a),s.props=l,c=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ar(u):(u=Zn(n)?Qs:On.current,u=Ou(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||d!==u)&&qT(e,s,r,u),mo=!1,d=e.memoizedState,s.state=d,op(e,r,s,i);var y=e.memoizedState;a!==c||d!==y||Xn.current||mo?(typeof g=="function"&&(Z0(e,n,g,r),y=e.memoizedState),(l=mo||UT(e,n,l,r,d,y,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return n1(t,e,n,r,o,i)}function n1(t,e,n,r,i,o){BP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&LT(e,n,!1),zi(t,e,o);r=e.stateNode,xU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Su(e,t.child,null,o),e.child=Su(e,null,a,o)):kn(t,e,a,o),e.memoizedState=r.state,i&&LT(e,n,!0),e.child}function VP(t){var e=t.stateNode;e.pendingContext?DT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DT(t,e.context,!1),vb(t,e.containerInfo)}function XT(t,e,n,r,i){return Tu(),db(i),e.flags|=256,kn(t,e,n,r),e.child}var r1={dehydrated:null,treeContext:null,retryLane:0};function i1(t){return{baseLanes:t,cachePool:null,transitions:null}}function zP(t,e,n){var r=e.pendingProps,i=gt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(gt,i&1),t===null)return Y0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Eg(s,r,0,null),t=qs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=i1(n),e.memoizedState=r1,t):Ab(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Lo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Lo(a,o):(o=qs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?i1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=r1,r}return o=t.child,t=o.sibling,r=Lo(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ab(t,e){return e=Eg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hd(t,e,n,r){return r!==null&&db(r),Su(e,t.child,null,n),t=Ab(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ov(Error(ve(422))),Hd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Eg({mode:"visible",children:r.children},i,0,null),o=qs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&Su(e,t.child,null,s),e.child.memoizedState=i1(s),e.memoizedState=r1,o);if((e.mode&1)===0)return Hd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ve(419)),r=ov(o,r,void 0),Hd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Gn||a){if(r=zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vi(t,i),jr(r,t,i,-1))}return Cb(),r=ov(Error(ve(421))),Hd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sr=Po(i.nextSibling),ur=e,lt=!0,Lr=null,t!==null&&(vr[_r++]=Ri,vr[_r++]=Pi,vr[_r++]=Ys,Ri=t.id,Pi=t.overflow,Ys=e),e=Ab(e,r.children),e.flags|=4096,e)}function ZT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X0(t.return,e,n)}function sv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function HP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(kn(t,e,r.children,n),r=gt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZT(t,n,e);else if(t.tag===19)ZT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(gt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sv(e,!0,n,null,o);break;case"together":sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ah(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PU(t,e,n){switch(e.tag){case 3:VP(e),Tu();break;case 5:vP(e);break;case 1:Zn(e.type)&&ep(e);break;case 4:vb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(rp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(gt,gt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?zP(t,e,n):(nt(gt,gt.current&1),t=zi(t,e,n),t!==null?t.sibling:null);nt(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return HP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,qP(t,e,n)}return zi(t,e,n)}var WP,o1,GP,KP;WP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o1=function(){};GP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ns(ui.current);var o=null;switch(n){case"input":i=I0(t,i),r=I0(t,r),o=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),o=[];break;case"textarea":i=R0(t,i),r=R0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}C0(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Nc.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&rt("scroll",t),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};KP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CU(t,e,n){var r=e.pendingProps;switch(fb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return Zn(e.type)&&Jh(),yn(e),null;case 3:return r=e.stateNode,Au(),st(Xn),st(On),bb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Lr!==null&&(h1(Lr),Lr=null))),o1(t,e),yn(e),null;case 5:_b(e);var i=Ns(Hc.current);if(n=e.type,t!==null&&e.stateNode!=null)GP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return yn(e),null}if(t=Ns(ui.current),Vd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kr]=e,r[Vc]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<rc.length;i++)rt(rc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":aT(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":lT(r,o),rt("invalid",r)}C0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bd(r.textContent,a,t),i=["children",""+a]):Nc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":Dd(r),uT(r,o,!0);break;case"textarea":Dd(r),cT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kr]=e,t[Vc]=r,WP(t,e,!1,!1),e.stateNode=t;e:{switch(s=N0(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rc.length;i++)rt(rc[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":aT(t,r),i=I0(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":lT(t,r),i=R0(t,r),rt("invalid",t);break;default:i=r}C0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?TR(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ER(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Dc(t,u):typeof u=="number"&&Dc(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&rt("scroll",t):u!=null&&Y_(t,o,u,s))}switch(n){case"input":Dd(t),uT(t,r,!1);break;case"textarea":Dd(t),cT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?au(t,!!r.multiple,o,!1):r.defaultValue!=null&&au(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)KP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Ns(Hc.current),Ns(ui.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(o=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:Bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return yn(e),null;case 13:if(st(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&sr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)fP(),Tu(),e.flags|=98560,o=!1;else if(o=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ve(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));o[Kr]=e}else Tu(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;yn(e),o=!1}else Lr!==null&&(h1(Lr),Lr=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(gt.current&1)!==0?Lt===0&&(Lt=3):Cb())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Au(),o1(t,e),t===null&&qc(e.stateNode.containerInfo),yn(e),null;case 10:return gb(e.type._context),yn(e),null;case 17:return Zn(e.type)&&Jh(),yn(e),null;case 19:if(st(gt),o=e.memoizedState,o===null)return yn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ll(o,!1);else{if(Lt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=sp(t),s!==null){for(e.flags|=128,Ll(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>ku&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=sp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return yn(e),null}else 2*St()-o.renderingStartTime>ku&&n!==1073741824&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=gt.current,nt(gt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return Pb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ir&1073741824)!==0&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function NU(t,e){switch(fb(e),e.tag){case 1:return Zn(e.type)&&Jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Au(),st(Xn),st(On),bb(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return _b(e),null;case 13:if(st(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Tu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(gt),null;case 4:return Au(),null;case 10:return gb(e.type._context),null;case 22:case 23:return Pb(),null;case 24:return null;default:return null}}var Wd=!1,vn=!1,DU=typeof WeakSet=="function"?WeakSet:Set,Te=null;function eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function s1(t,e,n){try{n()}catch(r){_t(t,e,r)}}var JT=!1;function LU(t,e){if(V0=Qh,t=ZR(),lb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,f=0,c=t,d=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(u=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===t)break t;if(d===n&&++l===i&&(a=s),d===o&&++f===r&&(u=s),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(z0={focusedElem:t,selectionRange:n},Qh=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,_=y.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:Nr(e.type,m),_);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(v){_t(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return y=JT,JT=!1,y}function yc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&s1(e,n,o)}i=i.next}while(i!==r)}}function bg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function a1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QP(t){var e=t.alternate;e!==null&&(t.alternate=null,QP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[Vc],delete e[G0],delete e[yU],delete e[vU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YP(t){return t.tag===5||t.tag===3||t.tag===4}function eS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function u1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(u1(t,e,n),t=t.sibling;t!==null;)u1(t,e,n),t=t.sibling}function l1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l1(t,e,n),t=t.sibling;t!==null;)l1(t,e,n),t=t.sibling}var rn=null,Dr=!1;function ao(t,e,n){for(n=n.child;n!==null;)XP(t,e,n),n=n.sibling}function XP(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(dg,n)}catch{}switch(n.tag){case 5:vn||eu(n,e);case 6:var r=rn,i=Dr;rn=null,ao(t,e,n),rn=r,Dr=i,rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?Jy(t.parentNode,n):t.nodeType===1&&Jy(t,n),jc(t)):Jy(rn,n.stateNode));break;case 4:r=rn,i=Dr,rn=n.stateNode.containerInfo,Dr=!0,ao(t,e,n),rn=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&s1(n,e,s),i=i.next}while(i!==r)}ao(t,e,n);break;case 1:if(!vn&&(eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_t(n,e,a)}ao(t,e,n);break;case 21:ao(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,ao(t,e,n),vn=r):ao(t,e,n);break;default:ao(t,e,n)}}function tS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DU),e.forEach(function(r){var i=zU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,Dr=!1;break e;case 3:rn=a.stateNode.containerInfo,Dr=!0;break e;case 4:rn=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(rn===null)throw Error(ve(160));XP(o,s,i),rn=null,Dr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){_t(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZP(e,t),e=e.sibling}function ZP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(e,t),zr(t),r&4){try{yc(3,t,t.return),bg(3,t)}catch(m){_t(t,t.return,m)}try{yc(5,t,t.return)}catch(m){_t(t,t.return,m)}}break;case 1:Pr(e,t),zr(t),r&512&&n!==null&&eu(n,n.return);break;case 5:if(Pr(e,t),zr(t),r&512&&n!==null&&eu(n,n.return),t.flags&32){var i=t.stateNode;try{Dc(i,"")}catch(m){_t(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_R(i,o),N0(a,s);var l=N0(a,o);for(s=0;s<u.length;s+=2){var f=u[s],c=u[s+1];f==="style"?TR(i,c):f==="dangerouslySetInnerHTML"?ER(i,c):f==="children"?Dc(i,c):Y_(i,f,c,l)}switch(a){case"input":k0(i,o);break;case"textarea":bR(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?au(i,!!o.multiple,g,!1):d!==!!o.multiple&&(o.defaultValue!=null?au(i,!!o.multiple,o.defaultValue,!0):au(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vc]=o}catch(m){_t(t,t.return,m)}}break;case 6:if(Pr(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){_t(t,t.return,m)}}break;case 3:if(Pr(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(m){_t(t,t.return,m)}break;case 4:Pr(e,t),zr(t);break;case 13:Pr(e,t),zr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xb=St())),r&4&&tS(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(l=vn)||f,Pr(e,t),vn=l):Pr(e,t),zr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!f&&(t.mode&1)!==0)for(Te=t,f=t.child;f!==null;){for(c=Te=f;Te!==null;){switch(d=Te,g=d.child,d.tag){case 0:case 11:case 14:case 15:yc(4,d,d.return);break;case 1:eu(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){_t(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(d.memoizedState!==null){rS(c);continue}}g!==null?(g.return=d,Te=g):rS(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,u=c.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=OR("display",s))}catch(m){_t(t,t.return,m)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){_t(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Pr(e,t),zr(t),r&4&&tS(t);break;case 21:break;default:Pr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YP(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dc(i,""),r.flags&=-33);var o=eS(t);l1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eS(t);u1(t,a,s);break;default:throw Error(ve(161))}}catch(u){_t(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $U(t,e,n){Te=t,JP(t)}function JP(t,e,n){for(var r=(t.mode&1)!==0;Te!==null;){var i=Te,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Wd;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||vn;a=Wd;var l=vn;if(Wd=s,(vn=u)&&!l)for(Te=i;Te!==null;)s=Te,u=s.child,s.tag===22&&s.memoizedState!==null?iS(i):u!==null?(u.return=s,Te=u):iS(i);for(;o!==null;)Te=o,JP(o),o=o.sibling;Te=i,Wd=a,vn=l}nS(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,Te=o):nS(t)}}function nS(t){for(;Te!==null;){var e=Te;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:vn||bg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&FT(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var f=l.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&jc(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}vn||e.flags&512&&a1(e)}catch(d){_t(e,e.return,d)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function rS(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function iS(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bg(4,e)}catch(u){_t(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){_t(e,i,u)}}var o=e.return;try{a1(e)}catch(u){_t(e,o,u)}break;case 5:var s=e.return;try{a1(e)}catch(u){_t(e,s,u)}}}catch(u){_t(e,e.return,u)}if(e===t){Te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Te=a;break}Te=e.return}}var MU=Math.ceil,lp=Xi.ReactCurrentDispatcher,Ib=Xi.ReactCurrentOwner,Tr=Xi.ReactCurrentBatchConfig,We=0,zt=null,xt=null,un=0,ir=0,tu=rs(0),Lt=0,Qc=null,Zs=0,wg=0,kb=0,vc=null,zn=null,xb=0,ku=1/0,Ii=null,cp=!1,c1=null,No=null,Gd=!1,Oo=null,fp=0,_c=0,f1=null,Ih=-1,kh=0;function Nn(){return(We&6)!==0?St():Ih!==-1?Ih:Ih=St()}function Do(t){return(t.mode&1)===0?1:(We&2)!==0&&un!==0?un&-un:bU.transition!==null?(kh===0&&(kh=$R()),kh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:VR(t.type)),t)}function jr(t,e,n,r){if(50<_c)throw _c=0,f1=null,Error(ve(185));Df(t,n,r),((We&2)===0||t!==zt)&&(t===zt&&((We&2)===0&&(wg|=n),Lt===4&&vo(t,un)),Jn(t,r),n===1&&We===0&&(e.mode&1)===0&&(ku=St()+500,yg&&is()))}function Jn(t,e){var n=t.callbackNode;b3(t,e);var r=Kh(t,t===zt?un:0);if(r===0)n!==null&&hT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hT(n),e===1)t.tag===0?_U(oS.bind(null,t)):uP(oS.bind(null,t)),gU(function(){(We&6)===0&&is()}),n=null;else{switch(MR(r)){case 1:n=tb;break;case 4:n=DR;break;case 16:n=Gh;break;case 536870912:n=LR;break;default:n=Gh}n=aC(n,eC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eC(t,e){if(Ih=-1,kh=0,(We&6)!==0)throw Error(ve(327));var n=t.callbackNode;if(du()&&t.callbackNode!==n)return null;var r=Kh(t,t===zt?un:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=dp(t,r);else{e=r;var i=We;We|=2;var o=nC();(zt!==t||un!==e)&&(Ii=null,ku=St()+500,Us(t,e));do try{UU();break}catch(a){tC(t,a)}while(1);pb(),lp.current=o,We=i,xt!==null?e=0:(zt=null,un=0,e=Lt)}if(e!==0){if(e===2&&(i=j0(t),i!==0&&(r=i,e=d1(t,i))),e===1)throw n=Qc,Us(t,0),vo(t,r),Jn(t,St()),n;if(e===6)vo(t,r);else{if(i=t.current.alternate,(r&30)===0&&!jU(i)&&(e=dp(t,r),e===2&&(o=j0(t),o!==0&&(r=o,e=d1(t,o))),e===1))throw n=Qc,Us(t,0),vo(t,r),Jn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:ws(t,zn,Ii);break;case 3:if(vo(t,r),(r&130023424)===r&&(e=xb+500-St(),10<e)){if(Kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W0(ws.bind(null,t,zn,Ii),e);break}ws(t,zn,Ii);break;case 4:if(vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MU(r/1960))-r,10<r){t.timeoutHandle=W0(ws.bind(null,t,zn,Ii),r);break}ws(t,zn,Ii);break;case 5:ws(t,zn,Ii);break;default:throw Error(ve(329))}}}return Jn(t,St()),t.callbackNode===n?eC.bind(null,t):null}function d1(t,e){var n=vc;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=dp(t,e),t!==2&&(e=zn,zn=n,e!==null&&h1(e)),t}function h1(t){zn===null?zn=t:zn.push.apply(zn,t)}function jU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ur(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~kb,e&=~wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mr(e),r=1<<n;t[n]=-1,e&=~r}}function oS(t){if((We&6)!==0)throw Error(ve(327));du();var e=Kh(t,0);if((e&1)===0)return Jn(t,St()),null;var n=dp(t,e);if(t.tag!==0&&n===2){var r=j0(t);r!==0&&(e=r,n=d1(t,r))}if(n===1)throw n=Qc,Us(t,0),vo(t,e),Jn(t,St()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,zn,Ii),Jn(t,St()),null}function Rb(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(ku=St()+500,yg&&is())}}function Js(t){Oo!==null&&Oo.tag===0&&(We&6)===0&&du();var e=We;We|=1;var n=Tr.transition,r=Qe;try{if(Tr.transition=null,Qe=1,t)return t()}finally{Qe=r,Tr.transition=n,We=e,(We&6)===0&&is()}}function Pb(){ir=tu.current,st(tu)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pU(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(fb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jh();break;case 3:Au(),st(Xn),st(On),bb();break;case 5:_b(r);break;case 4:Au();break;case 13:st(gt);break;case 19:st(gt);break;case 10:gb(r.type._context);break;case 22:case 23:Pb()}n=n.return}if(zt=t,xt=t=Lo(t.current,null),un=ir=e,Lt=0,Qc=null,kb=wg=Zs=0,zn=vc=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cs=null}return t}function tC(t,e){do{var n=xt;try{if(pb(),Th.current=up,ap){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ap=!1}if(Xs=0,qt=Nt=mt=null,mc=!1,Wc=0,Ib.current=null,n===null||n.return===null){Lt=1,Qc=e,xt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=un,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,f=a,c=f.tag;if((f.mode&1)===0&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=WT(s);if(g!==null){g.flags&=-257,GT(g,s,a,o,e),g.mode&1&&HT(o,l,e),e=g,u=l;var y=e.updateQueue;if(y===null){var m=new Set;m.add(u),e.updateQueue=m}else y.add(u);break e}else{if((e&1)===0){HT(o,l,e),Cb();break e}u=Error(ve(426))}}else if(lt&&a.mode&1){var _=WT(s);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),GT(_,s,a,o,e),db(Iu(u,a));break e}}o=u=Iu(u,a),Lt!==4&&(Lt=2),vc===null?vc=[o]:vc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=jP(o,u,e);jT(o,p);break e;case 1:a=u;var h=o.type,b=o.stateNode;if((o.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(No===null||!No.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=FP(o,a,e);jT(o,v);break e}}o=o.return}while(o!==null)}iC(n)}catch(w){e=w,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function nC(){var t=lp.current;return lp.current=up,t===null?up:t}function Cb(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||(Zs&268435455)===0&&(wg&268435455)===0||vo(zt,un)}function dp(t,e){var n=We;We|=2;var r=nC();(zt!==t||un!==e)&&(Ii=null,Us(t,e));do try{FU();break}catch(i){tC(t,i)}while(1);if(pb(),We=n,lp.current=r,xt!==null)throw Error(ve(261));return zt=null,un=0,Lt}function FU(){for(;xt!==null;)rC(xt)}function UU(){for(;xt!==null&&!f3();)rC(xt)}function rC(t){var e=sC(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?iC(t):xt=e,Ib.current=null}function iC(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=CU(n,e,ir),n!==null){xt=n;return}}else{if(n=NU(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,xt=null;return}}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Lt===0&&(Lt=5)}function ws(t,e,n){var r=Qe,i=Tr.transition;try{Tr.transition=null,Qe=1,qU(t,e,n,r)}finally{Tr.transition=i,Qe=r}return null}function qU(t,e,n,r){do du();while(Oo!==null);if((We&6)!==0)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(w3(t,o),t===zt&&(xt=zt=null,un=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Gd||(Gd=!0,aC(Gh,function(){return du(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Tr.transition,Tr.transition=null;var s=Qe;Qe=1;var a=We;We|=4,Ib.current=null,LU(t,n),ZP(n,t),aU(z0),Qh=!!V0,z0=V0=null,t.current=n,$U(n),d3(),We=a,Qe=s,Tr.transition=o}else t.current=n;if(Gd&&(Gd=!1,Oo=t,fp=i),o=t.pendingLanes,o===0&&(No=null),g3(n.stateNode),Jn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cp)throw cp=!1,t=c1,c1=null,t;return(fp&1)!==0&&t.tag!==0&&du(),o=t.pendingLanes,(o&1)!==0?t===f1?_c++:(_c=0,f1=t):_c=0,is(),null}function du(){if(Oo!==null){var t=MR(fp),e=Tr.transition,n=Qe;try{if(Tr.transition=null,Qe=16>t?16:t,Oo===null)var r=!1;else{if(t=Oo,Oo=null,fp=0,(We&6)!==0)throw Error(ve(331));var i=We;for(We|=4,Te=t.current;Te!==null;){var o=Te,s=o.child;if((Te.flags&16)!==0){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Te=l;Te!==null;){var f=Te;switch(f.tag){case 0:case 11:case 15:yc(8,f,o)}var c=f.child;if(c!==null)c.return=f,Te=c;else for(;Te!==null;){f=Te;var d=f.sibling,g=f.return;if(QP(f),f===l){Te=null;break}if(d!==null){d.return=g,Te=d;break}Te=g}}}var y=o.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Te=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,Te=s;else e:for(;Te!==null;){if(o=Te,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:yc(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Te=p;break e}Te=o.return}}var h=t.current;for(Te=h;Te!==null;){s=Te;var b=s.child;if((s.subtreeFlags&2064)!==0&&b!==null)b.return=s,Te=b;else e:for(s=h;Te!==null;){if(a=Te,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:bg(9,a)}}catch(w){_t(a,a.return,w)}if(a===s){Te=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Te=v;break e}Te=a.return}}if(We=i,is(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(dg,t)}catch{}r=!0}return r}finally{Qe=n,Tr.transition=e}}return!1}function sS(t,e,n){e=Iu(n,e),e=jP(t,e,1),t=Co(t,e,1),e=Nn(),t!==null&&(Df(t,1,e),Jn(t,e))}function _t(t,e,n){if(t.tag===3)sS(t,t,n);else for(;e!==null;){if(e.tag===3){sS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(No===null||!No.has(r))){t=Iu(n,t),t=FP(e,t,1),e=Co(e,t,1),t=Nn(),e!==null&&(Df(e,1,t),Jn(e,t));break}}e=e.return}}function BU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(un&n)===n&&(Lt===4||Lt===3&&(un&130023424)===un&&500>St()-xb?Us(t,0):kb|=n),Jn(t,e)}function oC(t,e){e===0&&((t.mode&1)===0?e=1:(e=Md,Md<<=1,(Md&130023424)===0&&(Md=4194304)));var n=Nn();t=Vi(t,e),t!==null&&(Df(t,e,n),Jn(t,n))}function VU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oC(t,n)}function zU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),oC(t,n)}var sC;sC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xn.current)Gn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Gn=!1,PU(t,e,n);Gn=(t.flags&131072)!==0}else Gn=!1,lt&&(e.flags&1048576)!==0&&lP(e,np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ah(t,e),t=e.pendingProps;var i=Ou(e,On.current);fu(e,n),i=Eb(null,e,r,t,i,n);var o=Ob();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(o=!0,ep(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yb(e),i.updater=vg,e.stateNode=i,i._reactInternals=e,J0(e,r,t,n),e=n1(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&cb(e),kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WU(r),t=Nr(r,t),i){case 0:e=t1(null,e,r,t,n);break e;case 1:e=YT(null,e,r,t,n);break e;case 11:e=KT(null,e,r,t,n);break e;case 14:e=QT(null,e,r,Nr(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),t1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),YT(t,e,r,i,n);case 3:e:{if(VP(e),t===null)throw Error(ve(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hP(t,e),op(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Iu(Error(ve(423)),e),e=XT(t,e,r,n,i);break e}else if(r!==i){i=Iu(Error(ve(424)),e),e=XT(t,e,r,n,i);break e}else for(sr=Po(e.stateNode.containerInfo.firstChild),ur=e,lt=!0,Lr=null,n=yP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===i){e=zi(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return vP(e),t===null&&Y0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,H0(r,i)?s=null:o!==null&&H0(r,o)&&(e.flags|=32),BP(t,e),kn(t,e,s,n),e.child;case 6:return t===null&&Y0(e),null;case 13:return zP(t,e,n);case 4:return vb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Su(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),KT(t,e,r,i,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nt(rp,r._currentValue),r._currentValue=s,o!==null)if(Ur(o.value,s)){if(o.children===i.children&&!Xn.current){e=zi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Mi(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),X0(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ve(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),X0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fu(e,n),i=Ar(i),r=r(i),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),QT(t,e,r,i,n);case 15:return UP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Ah(t,e),e.tag=1,Zn(r)?(t=!0,ep(e)):t=!1,fu(e,n),gP(e,r,i),J0(e,r,i,n),n1(null,e,r,!0,t,n);case 19:return HP(t,e,n);case 22:return qP(t,e,n)}throw Error(ve(156,e.tag))};function aC(t,e){return NR(t,e)}function HU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new HU(t,e,n,r)}function Nb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WU(t){if(typeof t=="function")return Nb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z_)return 11;if(t===J_)return 14}return 2}function Lo(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Nb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ha:return qs(n.children,i,o,e);case X_:s=8,i|=8;break;case O0:return t=wr(12,n,e,i|2),t.elementType=O0,t.lanes=o,t;case T0:return t=wr(13,n,e,i),t.elementType=T0,t.lanes=o,t;case S0:return t=wr(19,n,e,i),t.elementType=S0,t.lanes=o,t;case mR:return Eg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pR:s=10;break e;case gR:s=9;break e;case Z_:s=11;break e;case J_:s=14;break e;case go:s=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=wr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function qs(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function Eg(t,e,n,r){return t=wr(22,t,r,e),t.elementType=mR,t.lanes=n,t.stateNode={isHidden:!1},t}function av(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function uv(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=By(0),this.expirationTimes=By(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=By(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Db(t,e,n,r,i,o,s,a,u){return t=new GU(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yb(o),t}function KU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uC(t){if(!t)return zo;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(Zn(n))return aP(t,n,e)}return e}function lC(t,e,n,r,i,o,s,a,u){return t=Db(n,r,!0,t,i,o,s,a,u),t.context=uC(null),n=t.current,r=Nn(),i=Do(n),o=Mi(r,i),o.callback=e!=null?e:null,Co(n,o,i),t.current.lanes=i,Df(t,i,r),Jn(t,r),t}function Og(t,e,n,r){var i=e.current,o=Nn(),s=Do(i);return n=uC(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Co(i,e,s),t!==null&&(jr(t,i,s,o),Oh(t,i,s)),s}function hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lb(t,e){aS(t,e),(t=t.alternate)&&aS(t,e)}function QU(){return null}var cC=typeof reportError=="function"?reportError:function(t){console.error(t)};function $b(t){this._internalRoot=t}Tg.prototype.render=$b.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Og(t,e,null,null)};Tg.prototype.unmount=$b.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Og(null,t,null,null)}),e[Bi]=null}};function Tg(t){this._internalRoot=t}Tg.prototype.unstable_scheduleHydration=function(t){if(t){var e=UR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yo.length&&e!==0&&e<yo[n].priority;n++);yo.splice(n,0,t),n===0&&BR(t)}};function Mb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uS(){}function YU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=hp(s);o.call(l)}}var s=lC(e,r,t,0,null,!1,!1,"",uS);return t._reactRootContainer=s,t[Bi]=s.current,qc(t.nodeType===8?t.parentNode:t),Js(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=hp(u);a.call(l)}}var u=Db(t,0,!1,null,null,!1,!1,"",uS);return t._reactRootContainer=u,t[Bi]=u.current,qc(t.nodeType===8?t.parentNode:t),Js(function(){Og(e,u,n,r)}),u}function Ag(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=hp(s);a.call(u)}}Og(e,s,t,i)}else s=YU(n,e,t,i,r);return hp(s)}jR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(nb(e,n|1),Jn(e,St()),(We&6)===0&&(ku=St()+500,is()))}break;case 13:Js(function(){var r=Vi(t,1);if(r!==null){var i=Nn();jr(r,t,1,i)}}),Lb(t,1)}};rb=function(t){if(t.tag===13){var e=Vi(t,134217728);if(e!==null){var n=Nn();jr(e,t,134217728,n)}Lb(t,134217728)}};FR=function(t){if(t.tag===13){var e=Do(t),n=Vi(t,e);if(n!==null){var r=Nn();jr(n,t,e,r)}Lb(t,e)}};UR=function(){return Qe};qR=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};L0=function(t,e,n){switch(e){case"input":if(k0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mg(r);if(!i)throw Error(ve(90));vR(r),k0(r,i)}}}break;case"textarea":bR(t,n);break;case"select":e=n.value,e!=null&&au(t,!!n.multiple,e,!1)}};IR=Rb;kR=Js;var XU={usingClientEntryPoint:!1,Events:[$f,Qa,mg,SR,AR,Rb]},$l={findFiberByHostInstance:Ps,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZU={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PR(t),t===null?null:t.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||QU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{dg=Kd.inject(ZU),ai=Kd}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XU;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(e))throw Error(ve(200));return KU(t,e,null,n)};pr.createRoot=function(t,e){if(!Mb(t))throw Error(ve(299));var n=!1,r="",i=cC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Db(t,1,!1,null,null,n,!1,r,i),t[Bi]=e.current,qc(t.nodeType===8?t.parentNode:t),new $b(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=PR(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return Js(t)};pr.hydrate=function(t,e,n){if(!Sg(e))throw Error(ve(200));return Ag(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!Mb(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=cC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=lC(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Bi]=e.current,qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tg(e)};pr.render=function(t,e,n){if(!Sg(e))throw Error(ve(200));return Ag(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!Sg(t))throw Error(ve(40));return t._reactRootContainer?(Js(function(){Ag(null,null,t,!1,function(){t._reactRootContainer=null,t[Bi]=null})}),!0):!1};pr.unstable_batchedUpdates=Rb;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sg(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Ag(t,e,n,!1,r)};pr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=pr})(fg);var lS=fg.exports;w0.createRoot=lS.createRoot,w0.hydrateRoot=lS.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var To;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(To||(To={}));const cS="popstate";function JU(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return p1("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jb(i)}return n4(e,n,null,t)}function e4(){return Math.random().toString(36).substr(2,8)}function fS(t){return{usr:t.state,key:t.key}}function p1(t,e,n,r){return n===void 0&&(n=null),Yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xu(e):e,{state:n,key:e&&e.key||r||e4()})}function jb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t4(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof t=="string"?t:jb(t);return new URL(n,e)}function n4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=To.Pop,u=null;function l(){a=To.Pop,u&&u({action:a,location:d.location})}function f(g,y){a=To.Push;let m=p1(d.location,g,y);n&&n(m,g);let _=fS(m),p=d.createHref(m);try{s.pushState(_,"",p)}catch{i.location.assign(p)}o&&u&&u({action:a,location:d.location})}function c(g,y){a=To.Replace;let m=p1(d.location,g,y);n&&n(m,g);let _=fS(m),p=d.createHref(m);s.replaceState(_,"",p),o&&u&&u({action:a,location:d.location})}let d={get action(){return a},get location(){return t(i,s)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(cS,l),u=g,()=>{i.removeEventListener(cS,l),u=null}},createHref(g){return e(i,g)},encodeLocation(g){let y=t4(jb(g));return Yc({},g,{pathname:y.pathname,search:y.search,hash:y.hash})},push:f,replace:c,go(g){return s.go(g)}};return d}var dS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dS||(dS={}));function r4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xu(e):e,i=dC(r.pathname||"/",n);if(i==null)return null;let o=fC(t);i4(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=h4(o[a],m4(i));return s}function fC(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(Ht(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let a=Bs([r,s.relativePath]),u=n.concat(s);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),fC(i.children,e,u,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:f4(a,i.index),routesMeta:u})}),e}function i4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o4=/^:\w+$/,s4=3,a4=2,u4=1,l4=10,c4=-2,hS=t=>t==="*";function f4(t,e){let n=t.split("/"),r=n.length;return n.some(hS)&&(r+=c4),e&&(r+=a4),n.filter(i=>!hS(i)).reduce((i,o)=>i+(o4.test(o)?s4:o===""?u4:l4),r)}function d4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h4(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",f=p4({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!f)return null;Object.assign(r,f.params);let c=a.route;o.push({params:r,pathname:Bs([i,f.pathname]),pathnameBase:E4(Bs([i,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(i=Bs([i,f.pathnameBase]))}return o}function p4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,f,c)=>{if(f==="*"){let d=a[c]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return l[f]=y4(a[c]||"",f),l},{}),pathname:o,pathnameBase:s,pattern:t}}function g4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m4(t){try{return decodeURI(t)}catch(e){return Fb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function y4(t,e){try{return decodeURIComponent(t)}catch(n){return Fb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function dC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xu(t):t;return{pathname:n?n.startsWith("/")?n:_4(n,e):e,search:O4(r),hash:T4(i)}}function _4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xu(t):(i=Yc({},t),Ht(!i.pathname||!i.pathname.includes("?"),lv("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),lv("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),lv("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let c=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}a=c>=0?e[c]:"/"}let u=v4(i,a),l=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||f)&&(u.pathname+="/"),u}const Bs=t=>t.join("/").replace(/\/\/+/g,"/"),E4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class S4{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function A4(t){return t instanceof S4}const I4=new Set(["POST","PUT","PATCH","DELETE"]);[...I4];var Ig={exports:{}},kg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=ye.exports,x4=Symbol.for("react.element"),R4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,C4=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N4={key:!0,ref:!0,__self:!0,__source:!0};function hC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)P4.call(e,r)&&!N4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x4,type:t,key:o,ref:s,props:i,_owner:C4.current}}kg.Fragment=R4;kg.jsx=hC;kg.jsxs=hC;(function(t){t.exports=kg})(Ig);const Dn=Ig.exports.Fragment,fe=Ig.exports.jsx,$e=Ig.exports.jsxs;/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(this,arguments)}function D4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const L4=typeof Object.is=="function"?Object.is:D4,{useState:$4,useEffect:M4,useLayoutEffect:j4,useDebugValue:F4}=b0;function U4(t,e,n){const r=e(),[{inst:i},o]=$4({inst:{value:r,getSnapshot:e}});return j4(()=>{i.value=r,i.getSnapshot=e,cv(i)&&o({inst:i})},[t,r,e]),M4(()=>(cv(i)&&o({inst:i}),t(()=>{cv(i)&&o({inst:i})})),[t]),F4(r),r}function cv(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!L4(n,r)}catch{return!0}}function q4(t,e,n){return e()}const B4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V4=!B4,z4=V4?q4:U4;"useSyncExternalStore"in b0&&(t=>t.useSyncExternalStore)(b0);const H4=ye.exports.createContext(null),W4=ye.exports.createContext(null),Ub=ye.exports.createContext(null),pC=ye.exports.createContext(null),xg=ye.exports.createContext(null),jf=ye.exports.createContext({outlet:null,matches:[]}),gC=ye.exports.createContext(null);function Ff(){return ye.exports.useContext(xg)!=null}function mC(){return Ff()||Ht(!1),ye.exports.useContext(xg).location}function os(){Ff()||Ht(!1);let{basename:t,navigator:e}=ye.exports.useContext(pC),{matches:n}=ye.exports.useContext(jf),{pathname:r}=mC(),i=JSON.stringify(b4(n).map(a=>a.pathnameBase)),o=ye.exports.useRef(!1);return ye.exports.useEffect(()=>{o.current=!0}),ye.exports.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let l=w4(a,JSON.parse(i),r,u.relative==="path");t!=="/"&&(l.pathname=l.pathname==="/"?t:Bs([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state,u)},[t,e,i,r])}function qb(){let{matches:t}=ye.exports.useContext(jf),e=t[t.length-1];return e?e.params:{}}function G4(t,e){Ff()||Ht(!1);let n=ye.exports.useContext(Ub),{matches:r}=ye.exports.useContext(jf),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let a=mC(),u;if(e){var l;let y=typeof e=="string"?Xu(e):e;s==="/"||((l=y.pathname)==null?void 0:l.startsWith(s))||Ht(!1),u=y}else u=a;let f=u.pathname||"/",c=s==="/"?f:f.slice(s.length)||"/",d=r4(t,{pathname:c}),g=X4(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Bs([s,y.pathname]),pathnameBase:y.pathnameBase==="/"?s:Bs([s,y.pathnameBase])})),r,n||void 0);return e&&g?fe(xg.Provider,{value:{location:g1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:To.Pop},children:g}):g}function K4(){let t=J4(),e=A4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return $e(Dn,{children:[fe("h2",{children:"Unhandled Thrown Error!"}),fe("h3",{style:{fontStyle:"italic"},children:e}),n?fe("pre",{style:i,children:n}):null,fe("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),$e("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",fe("code",{style:o,children:"errorElement"})," props on\xA0",fe("code",{style:o,children:"<Route>"})]})]})}class Q4 extends ye.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?fe(gC.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Y4(t){let{routeContext:e,match:n,children:r}=t,i=ye.exports.useContext(H4);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),fe(jf.Provider,{value:e,children:r})}function X4(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Ht(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let u=s.route.id?i==null?void 0:i[s.route.id]:null,l=n?s.route.errorElement||fe(K4,{}):null,f=()=>fe(Y4,{match:s,routeContext:{outlet:o,matches:e.concat(r.slice(0,a+1))},children:u?l:s.route.element!==void 0?s.route.element:o});return n&&(s.route.errorElement||a===0)?fe(Q4,{location:n.location,component:l,error:u,children:f()}):f()},null)}var pS;(function(t){t.UseRevalidator="useRevalidator"})(pS||(pS={}));var m1;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(m1||(m1={}));function Z4(t){let e=ye.exports.useContext(Ub);return e||Ht(!1),e}function J4(){var t;let e=ye.exports.useContext(gC),n=Z4(m1.UseRouteError),r=ye.exports.useContext(jf),i=r.matches[r.matches.length-1];return e||(r||Ht(!1),i.route.id||Ht(!1),(t=n.errors)==null?void 0:t[i.route.id])}function e5(t){let{to:e,replace:n,state:r,relative:i}=t;Ff()||Ht(!1);let o=ye.exports.useContext(Ub),s=os();return ye.exports.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function po(t){Ht(!1)}function t5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=To.Pop,navigator:o,static:s=!1}=t;Ff()&&Ht(!1);let a=e.replace(/^\/*/,"/"),u=ye.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Xu(r));let{pathname:l="/",search:f="",hash:c="",state:d=null,key:g="default"}=r,y=ye.exports.useMemo(()=>{let m=dC(l,a);return m==null?null:{pathname:m,search:f,hash:c,state:d,key:g}},[a,l,f,c,d,g]);return y==null?null:fe(pC.Provider,{value:u,children:fe(xg.Provider,{children:n,value:{location:y,navigationType:i}})})}function n5(t){let{children:e,location:n}=t,r=ye.exports.useContext(W4),i=r&&!e?r.router.routes:y1(e);return G4(i,n)}var gS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(gS||(gS={}));new Promise(()=>{});function y1(t,e){e===void 0&&(e=[]);let n=[];return ye.exports.Children.forEach(t,(r,i)=>{if(!ye.exports.isValidElement(r))return;if(r.type===ye.exports.Fragment){n.push.apply(n,y1(r.props.children,e));return}r.type!==po&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let o=[...e,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=y1(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r5(t){let{basename:e,children:n,window:r}=t,i=ye.exports.useRef();i.current==null&&(i.current=JU({window:r,v5Compat:!0}));let o=i.current,[s,a]=ye.exports.useState({action:o.action,location:o.location});return ye.exports.useLayoutEffect(()=>o.listen(a),[o]),fe(t5,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var mS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(mS||(mS={}));var yS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yS||(yS={}));var yC={exports:{}},vC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=ye.exports;function i5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var o5=typeof Object.is=="function"?Object.is:i5,s5=xu.useState,a5=xu.useEffect,u5=xu.useLayoutEffect,l5=xu.useDebugValue;function c5(t,e){var n=e(),r=s5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return u5(function(){i.value=n,i.getSnapshot=e,fv(i)&&o({inst:i})},[t,n,e]),a5(function(){return fv(i)&&o({inst:i}),t(function(){fv(i)&&o({inst:i})})},[t]),l5(n),n}function fv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o5(t,n)}catch{return!0}}function f5(t,e){return e()}var d5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f5:c5;vC.useSyncExternalStore=xu.useSyncExternalStore!==void 0?xu.useSyncExternalStore:d5;(function(t){t.exports=vC})(yC);var _C={exports:{}},bC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=ye.exports,h5=yC.exports;function p5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g5=typeof Object.is=="function"?Object.is:p5,m5=h5.useSyncExternalStore,y5=Rg.useRef,v5=Rg.useEffect,_5=Rg.useMemo,b5=Rg.useDebugValue;bC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=y5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=_5(function(){function u(g){if(!l){if(l=!0,f=g,g=r(g),i!==void 0&&s.hasValue){var y=s.value;if(i(y,g))return c=y}return c=g}if(y=c,g5(f,g))return y;var m=r(g);return i!==void 0&&i(y,m)?y:(f=g,c=m)}var l=!1,f,c,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,i]);var a=m5(t,o[0],o[1]);return v5(function(){s.hasValue=!0,s.value=a},[a]),b5(a),a};(function(t){t.exports=bC})(_C);function w5(t){t()}let wC=w5;const E5=t=>wC=t,O5=()=>wC,pp=ye.exports.createContext(null);function T5(){return ye.exports.useContext(pp)}const S5=()=>{throw new Error("uSES not initialized!")};let EC=S5;const A5=t=>{EC=t},I5=(t,e)=>t===e;function k5(t=pp){const e=t===pp?T5:()=>ye.exports.useContext(t);return function(r,i=I5){const{store:o,subscription:s,getServerState:a}=e(),u=EC(s.addNestedSub,o.getState,a||o.getState,r,i);return ye.exports.useDebugValue(u),u}}const er=k5();var Pg={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=typeof Symbol=="function"&&Symbol.for,Bb=Xt?Symbol.for("react.element"):60103,Vb=Xt?Symbol.for("react.portal"):60106,Cg=Xt?Symbol.for("react.fragment"):60107,Ng=Xt?Symbol.for("react.strict_mode"):60108,Dg=Xt?Symbol.for("react.profiler"):60114,Lg=Xt?Symbol.for("react.provider"):60109,$g=Xt?Symbol.for("react.context"):60110,zb=Xt?Symbol.for("react.async_mode"):60111,Mg=Xt?Symbol.for("react.concurrent_mode"):60111,jg=Xt?Symbol.for("react.forward_ref"):60112,Fg=Xt?Symbol.for("react.suspense"):60113,x5=Xt?Symbol.for("react.suspense_list"):60120,Ug=Xt?Symbol.for("react.memo"):60115,qg=Xt?Symbol.for("react.lazy"):60116,R5=Xt?Symbol.for("react.block"):60121,P5=Xt?Symbol.for("react.fundamental"):60117,C5=Xt?Symbol.for("react.responder"):60118,N5=Xt?Symbol.for("react.scope"):60119;function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bb:switch(t=t.type,t){case zb:case Mg:case Cg:case Dg:case Ng:case Fg:return t;default:switch(t=t&&t.$$typeof,t){case $g:case jg:case qg:case Ug:case Lg:return t;default:return e}}case Vb:return e}}}function OC(t){return mr(t)===Mg}Ye.AsyncMode=zb;Ye.ConcurrentMode=Mg;Ye.ContextConsumer=$g;Ye.ContextProvider=Lg;Ye.Element=Bb;Ye.ForwardRef=jg;Ye.Fragment=Cg;Ye.Lazy=qg;Ye.Memo=Ug;Ye.Portal=Vb;Ye.Profiler=Dg;Ye.StrictMode=Ng;Ye.Suspense=Fg;Ye.isAsyncMode=function(t){return OC(t)||mr(t)===zb};Ye.isConcurrentMode=OC;Ye.isContextConsumer=function(t){return mr(t)===$g};Ye.isContextProvider=function(t){return mr(t)===Lg};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bb};Ye.isForwardRef=function(t){return mr(t)===jg};Ye.isFragment=function(t){return mr(t)===Cg};Ye.isLazy=function(t){return mr(t)===qg};Ye.isMemo=function(t){return mr(t)===Ug};Ye.isPortal=function(t){return mr(t)===Vb};Ye.isProfiler=function(t){return mr(t)===Dg};Ye.isStrictMode=function(t){return mr(t)===Ng};Ye.isSuspense=function(t){return mr(t)===Fg};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cg||t===Mg||t===Dg||t===Ng||t===Fg||t===x5||typeof t=="object"&&t!==null&&(t.$$typeof===qg||t.$$typeof===Ug||t.$$typeof===Lg||t.$$typeof===$g||t.$$typeof===jg||t.$$typeof===P5||t.$$typeof===C5||t.$$typeof===N5||t.$$typeof===R5)};Ye.typeOf=mr;(function(t){t.exports=Ye})(Pg);var Hb=Pg.exports,D5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wb={};Wb[Hb.ForwardRef]=$5;Wb[Hb.Memo]=TC;function vS(t){return Hb.isMemo(t)?TC:Wb[t.$$typeof]||D5}var M5=Object.defineProperty,j5=Object.getOwnPropertyNames,_S=Object.getOwnPropertySymbols,F5=Object.getOwnPropertyDescriptor,U5=Object.getPrototypeOf,bS=Object.prototype;function SC(t,e,n){if(typeof e!="string"){if(bS){var r=U5(e);r&&r!==bS&&SC(t,r,n)}var i=j5(e);_S&&(i=i.concat(_S(e)));for(var o=vS(t),s=vS(e),a=0;a<i.length;++a){var u=i[a];if(!L5[u]&&!(n&&n[u])&&!(s&&s[u])&&!(o&&o[u])){var l=F5(e,u);try{M5(t,u,l)}catch{}}}}return t}var Uf=SC,q5={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=Symbol.for("react.element"),Kb=Symbol.for("react.portal"),Bg=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),B5=Symbol.for("react.server_context"),Gg=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Qg=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),V5=Symbol.for("react.offscreen"),AC;AC=Symbol.for("react.module.reference");function Rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gb:switch(t=t.type,t){case Bg:case zg:case Vg:case Kg:case Qg:return t;default:switch(t=t&&t.$$typeof,t){case B5:case Wg:case Gg:case Xg:case Yg:case Hg:return t;default:return e}}case Kb:return e}}}Xe.ContextConsumer=Wg;Xe.ContextProvider=Hg;Xe.Element=Gb;Xe.ForwardRef=Gg;Xe.Fragment=Bg;Xe.Lazy=Xg;Xe.Memo=Yg;Xe.Portal=Kb;Xe.Profiler=zg;Xe.StrictMode=Vg;Xe.Suspense=Kg;Xe.SuspenseList=Qg;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return Rr(t)===Wg};Xe.isContextProvider=function(t){return Rr(t)===Hg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gb};Xe.isForwardRef=function(t){return Rr(t)===Gg};Xe.isFragment=function(t){return Rr(t)===Bg};Xe.isLazy=function(t){return Rr(t)===Xg};Xe.isMemo=function(t){return Rr(t)===Yg};Xe.isPortal=function(t){return Rr(t)===Kb};Xe.isProfiler=function(t){return Rr(t)===zg};Xe.isStrictMode=function(t){return Rr(t)===Vg};Xe.isSuspense=function(t){return Rr(t)===Kg};Xe.isSuspenseList=function(t){return Rr(t)===Qg};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bg||t===zg||t===Vg||t===Kg||t===Qg||t===V5||typeof t=="object"&&t!==null&&(t.$$typeof===Xg||t.$$typeof===Yg||t.$$typeof===Hg||t.$$typeof===Wg||t.$$typeof===Gg||t.$$typeof===AC||t.getModuleId!==void 0)};Xe.typeOf=Rr;(function(t){t.exports=Xe})(q5);function z5(){const t=O5();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const wS={notify(){},get:()=>[]};function H5(t,e){let n,r=wS;function i(c){return u(),r.subscribe(c)}function o(){r.notify()}function s(){f.onStateChange&&f.onStateChange()}function a(){return Boolean(n)}function u(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=z5())}function l(){n&&(n(),n=void 0,r.clear(),r=wS)}const f={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return f}const W5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G5=W5?ye.exports.useLayoutEffect:ye.exports.useEffect;function K5({store:t,context:e,children:n,serverState:r}){const i=ye.exports.useMemo(()=>{const a=H5(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),o=ye.exports.useMemo(()=>t.getState(),[t]);return G5(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]),fe((e||pp).Provider,{value:i,children:n})}A5(_C.exports.useSyncExternalStoreWithSelector);E5(fg.exports.unstable_batchedUpdates);function In(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ES=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),dv=function(){return Math.random().toString(36).substring(7).split("").join(".")},gp={INIT:"@@redux/INIT"+dv(),REPLACE:"@@redux/REPLACE"+dv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+dv()}};function Q5(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function IC(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(In(1));return n(IC)(t,e)}if(typeof t!="function")throw new Error(In(2));var i=t,o=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function f(){if(u)throw new Error(In(3));return o}function c(m){if(typeof m!="function")throw new Error(In(4));if(u)throw new Error(In(5));var _=!0;return l(),a.push(m),function(){if(!!_){if(u)throw new Error(In(6));_=!1,l();var h=a.indexOf(m);a.splice(h,1),s=null}}}function d(m){if(!Q5(m))throw new Error(In(7));if(typeof m.type>"u")throw new Error(In(8));if(u)throw new Error(In(9));try{u=!0,o=i(o,m)}finally{u=!1}for(var _=s=a,p=0;p<_.length;p++){var h=_[p];h()}return m}function g(m){if(typeof m!="function")throw new Error(In(10));i=m,d({type:gp.REPLACE})}function y(){var m,_=c;return m={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(In(11));function b(){h.next&&h.next(f())}b();var v=_(b);return{unsubscribe:v}}},m[ES]=function(){return this},m}return d({type:gp.INIT}),r={dispatch:d,subscribe:c,getState:f,replaceReducer:g},r[ES]=y,r}var Y5=IC;function X5(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:gp.INIT});if(typeof r>"u")throw new Error(In(12));if(typeof n(void 0,{type:gp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function Z5(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{X5(n)}catch(a){s=a}return function(u,l){if(u===void 0&&(u={}),s)throw s;for(var f=!1,c={},d=0;d<o.length;d++){var g=o[d],y=n[g],m=u[g],_=y(m,l);if(typeof _>"u")throw l&&l.type,new Error(In(14));c[g]=_,f=f||_!==m}return f=f||o.length!==Object.keys(u).length,f?c:u}}var Wt={exports:{}},Zg={},kC={};(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(kC);var hv,OS;function qf(){return OS||(OS=1,hv={}),hv}var Ct=kC,J5=qf(),TS=Array.prototype.push;function eq(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function pv(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function SS(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function tq(t){return function(e){return t({},e)}}function nq(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[e],s=i.slice(0,e);return o&&TS.apply(s,o),e!=r&&TS.apply(s,i.slice(e+1)),t.apply(this,s)}}function gv(t,e){return function(){var n=arguments.length;if(!!n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function v1(t,e,n,r){var i=typeof e=="function",o=e===Object(e);if(o&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var s={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},a=i?n:J5,u="curry"in r&&r.curry,l="fixed"in r&&r.fixed,f="rearg"in r&&r.rearg,c=i?n.runInContext():void 0,d=i?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},g=d.ary,y=d.assign,m=d.clone,_=d.curry,p=d.forEach,h=d.isArray,b=d.isError,v=d.isFunction,w=d.isWeakMap,O=d.keys,T=d.rearg,E=d.toInteger,k=d.toPath,A=O(Ct.aryMethod),S={castArray:function(j){return function(){var N=arguments[0];return h(N)?j(SS(N)):j.apply(void 0,arguments)}},iteratee:function(j){return function(){var N=arguments[0],V=arguments[1],K=j(N,V),X=K.length;return s.cap&&typeof V=="number"?(V=V>2?V-2:1,X&&X<=V?K:pv(K,V)):K}},mixin:function(j){return function(N){var V=this;if(!v(V))return j(V,Object(N));var K=[];return p(O(N),function(X){v(N[X])&&K.push([X,V.prototype[X]])}),j(V,Object(N)),p(K,function(X){var Y=X[1];v(Y)?V.prototype[X[0]]=Y:delete V.prototype[X[0]]}),V}},nthArg:function(j){return function(N){var V=N<0?1:E(N)+1;return _(j(N),V)}},rearg:function(j){return function(N,V){var K=V?V.length:0;return _(j(N,V),K)}},runInContext:function(j){return function(N){return v1(t,j(N),r)}}};function R(j,N){if(s.cap){var V=Ct.iterateeRearg[j];if(V)return W(N,V);var K=!i&&Ct.iterateeAry[j];if(K)return H(N,K)}return N}function I(j,N,V){return u||s.curry&&V>1?_(N,V):N}function P(j,N,V){if(s.fixed&&(l||!Ct.skipFixed[j])){var K=Ct.methodSpread[j],X=K&&K.start;return X===void 0?g(N,V):nq(N,X)}return N}function x(j,N,V){return s.rearg&&V>1&&(f||!Ct.skipRearg[j])?T(N,Ct.methodRearg[j]||Ct.aryRearg[V]):N}function D(j,N){N=k(N);for(var V=-1,K=N.length,X=K-1,Y=m(Object(j)),z=Y;z!=null&&++V<K;){var Q=N[V],ee=z[Q];ee!=null&&!(v(ee)||b(ee)||w(ee))&&(z[Q]=m(V==X?ee:Object(ee))),z=z[Q]}return Y}function F(j){return q.runInContext.convert(j)(void 0)}function G(j,N){var V=Ct.aliasToReal[j]||j,K=Ct.remap[V]||V,X=r;return function(Y){var z=i?c:d,Q=i?c[K]:N,ee=y(y({},X),Y);return v1(z,V,Q,ee)}}function H(j,N){return M(j,function(V){return typeof V=="function"?pv(V,N):V})}function W(j,N){return M(j,function(V){var K=N.length;return eq(T(pv(V,K),N),K)})}function M(j,N){return function(){var V=arguments.length;if(!V)return j();for(var K=Array(V);V--;)K[V]=arguments[V];var X=s.rearg?0:V-1;return K[X]=N(K[X]),j.apply(void 0,K)}}function U(j,N,V){var K,X=Ct.aliasToReal[j]||j,Y=N,z=S[X];return z?Y=z(N):s.immutable&&(Ct.mutate.array[X]?Y=gv(N,SS):Ct.mutate.object[X]?Y=gv(N,tq(N)):Ct.mutate.set[X]&&(Y=gv(N,D))),p(A,function(Q){return p(Ct.aryMethod[Q],function(ee){if(X==ee){var te=Ct.methodSpread[X],oe=te&&te.afterRearg;return K=oe?P(X,x(X,Y,Q),Q):x(X,P(X,Y,Q),Q),K=R(X,K),K=I(X,K,Q),!1}}),!K}),K||(K=Y),K==N&&(K=u?_(K,1):function(){return N.apply(this,arguments)}),K.convert=G(X,N),K.placeholder=N.placeholder=V,K}if(!o)return U(e,n,a);var q=n,$=[];return p(A,function(j){p(Ct.aryMethod[j],function(N){var V=q[Ct.remap[N]||N];V&&$.push([N,U(N,V,q)])})}),p(O(q),function(j){var N=q[j];if(typeof N=="function"){for(var V=$.length;V--;)if($[V][0]==j)return;N.convert=G(j,N),$.push([j,N])}}),p($,function(j){q[j[0]]=j[1]}),q.convert=F,q.placeholder=q,p(O(q),function(j){p(Ct.realToAlias[j]||[],function(N){q[N]=q[j]})}),q}var rq=v1;function iq(t){return t}var Bf=iq,oq=typeof Wn=="object"&&Wn&&Wn.Object===Object&&Wn,xC=oq,sq=xC,aq=typeof self=="object"&&self&&self.Object===Object&&self,uq=sq||aq||Function("return this")(),nr=uq,lq=nr,cq=lq.Symbol,Zu=cq,AS=Zu,RC=Object.prototype,fq=RC.hasOwnProperty,dq=RC.toString,Ml=AS?AS.toStringTag:void 0;function hq(t){var e=fq.call(t,Ml),n=t[Ml];try{t[Ml]=void 0;var r=!0}catch{}var i=dq.call(t);return r&&(e?t[Ml]=n:delete t[Ml]),i}var pq=hq,gq=Object.prototype,mq=gq.toString;function yq(t){return mq.call(t)}var vq=yq,IS=Zu,_q=pq,bq=vq,wq="[object Null]",Eq="[object Undefined]",kS=IS?IS.toStringTag:void 0;function Oq(t){return t==null?t===void 0?Eq:wq:kS&&kS in Object(t)?_q(t):bq(t)}var vi=Oq;function Tq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pt=Tq,Sq=vi,Aq=Pt,Iq="[object AsyncFunction]",kq="[object Function]",xq="[object GeneratorFunction]",Rq="[object Proxy]";function Pq(t){if(!Aq(t))return!1;var e=Sq(t);return e==kq||e==xq||e==Iq||e==Rq}var Jg=Pq,Cq=nr,Nq=Cq["__core-js_shared__"],Dq=Nq,mv=Dq,xS=function(){var t=/[^.]+$/.exec(mv&&mv.keys&&mv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lq(t){return!!xS&&xS in t}var $q=Lq,Mq=Function.prototype,jq=Mq.toString;function Fq(t){if(t!=null){try{return jq.call(t)}catch{}try{return t+""}catch{}}return""}var PC=Fq,Uq=Jg,qq=$q,Bq=Pt,Vq=PC,zq=/[\\^$.*+?()[\]{}|]/g,Hq=/^\[object .+?Constructor\]$/,Wq=Function.prototype,Gq=Object.prototype,Kq=Wq.toString,Qq=Gq.hasOwnProperty,Yq=RegExp("^"+Kq.call(Qq).replace(zq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xq(t){if(!Bq(t)||qq(t))return!1;var e=Uq(t)?Yq:Hq;return e.test(Vq(t))}var Zq=Xq;function Jq(t,e){return t==null?void 0:t[e]}var eB=Jq,tB=Zq,nB=eB;function rB(t,e){var n=nB(t,e);return tB(n)?n:void 0}var _a=rB,iB=_a,oB=nr,sB=iB(oB,"WeakMap"),CC=sB,RS=CC,aB=RS&&new RS,NC=aB,uB=Bf,PS=NC,lB=PS?function(t,e){return PS.set(t,e),t}:uB,DC=lB,cB=Pt,CS=Object.create,fB=function(){function t(){}return function(e){if(!cB(e))return{};if(CS)return CS(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),em=fB,dB=em,hB=Pt;function pB(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dB(t.prototype),r=t.apply(n,e);return hB(r)?r:n}}var tm=pB,gB=tm,mB=nr,yB=1;function vB(t,e,n){var r=e&yB,i=gB(t);function o(){var s=this&&this!==mB&&this instanceof o?i:t;return s.apply(r?n:this,arguments)}return o}var _B=vB;function bB(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var nm=bB,wB=Math.max;function EB(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,l=wB(o-s,0),f=Array(u+l),c=!r;++a<u;)f[a]=e[a];for(;++i<s;)(c||i<o)&&(f[n[i]]=t[i]);for(;l--;)f[a++]=t[i++];return f}var LC=EB,OB=Math.max;function TB(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,f=OB(o-a,0),c=Array(f+l),d=!r;++i<f;)c[i]=t[i];for(var g=i;++u<l;)c[g+u]=e[u];for(;++s<a;)(d||i<o)&&(c[g+n[s]]=t[i++]);return c}var $C=TB;function SB(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var AB=SB;function IB(){}var Qb=IB,kB=em,xB=Qb,RB=4294967295;function mp(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=RB,this.__views__=[]}mp.prototype=kB(xB.prototype);mp.prototype.constructor=mp;var Yb=mp;function PB(){}var MC=PB,NS=NC,CB=MC,NB=NS?function(t){return NS.get(t)}:CB,jC=NB,DB={},LB=DB,DS=LB,$B=Object.prototype,MB=$B.hasOwnProperty;function jB(t){for(var e=t.name+"",n=DS[e],r=MB.call(DS,e)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==t)return i.name}return e}var FB=jB,UB=em,qB=Qb;function yp(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}yp.prototype=UB(qB.prototype);yp.prototype.constructor=yp;var FC=yp,BB=Array.isArray,pt=BB;function VB(t){return t!=null&&typeof t=="object"}var Fn=VB;function zB(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Vf=zB,HB=Yb,WB=FC,GB=Vf;function KB(t){if(t instanceof HB)return t.clone();var e=new WB(t.__wrapped__,t.__chain__);return e.__actions__=GB(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var QB=KB,YB=Yb,LS=FC,XB=Qb,ZB=pt,JB=Fn,e6=QB,t6=Object.prototype,n6=t6.hasOwnProperty;function vp(t){if(JB(t)&&!ZB(t)&&!(t instanceof YB)){if(t instanceof LS)return t;if(n6.call(t,"__wrapped__"))return e6(t)}return new LS(t)}vp.prototype=XB.prototype;vp.prototype.constructor=vp;var r6=vp,i6=Yb,o6=jC,s6=FB,a6=r6;function u6(t){var e=s6(t),n=a6[e];if(typeof n!="function"||!(e in i6.prototype))return!1;if(t===n)return!0;var r=o6(n);return!!r&&t===r[0]}var l6=u6,c6=800,f6=16,d6=Date.now;function h6(t){var e=0,n=0;return function(){var r=d6(),i=f6-(r-n);if(n=r,i>0){if(++e>=c6)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var UC=h6,p6=DC,g6=UC,m6=g6(p6),qC=m6,y6=/\{\n\/\* \[wrapped with (.+)\] \*/,v6=/,? & /;function _6(t){var e=t.match(y6);return e?e[1].split(v6):[]}var b6=_6,w6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function E6(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(w6,`{
/* [wrapped with `+e+`] */
`)}var O6=E6;function T6(t){return function(){return t}}var BC=T6,S6=_a,A6=function(){try{var t=S6(Object,"defineProperty");return t({},"",{}),t}catch{}}(),VC=A6,I6=BC,$S=VC,k6=Bf,x6=$S?function(t,e){return $S(t,"toString",{configurable:!0,enumerable:!1,value:I6(e),writable:!0})}:k6,R6=x6,P6=R6,C6=UC,N6=C6(P6),Xb=N6;function D6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var rm=D6;function L6(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $6=L6;function M6(t){return t!==t}var j6=M6;function F6(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var U6=F6,q6=$6,B6=j6,V6=U6;function z6(t,e,n){return e===e?V6(t,e,n):q6(t,B6,n)}var Zb=z6,H6=Zb;function W6(t,e){var n=t==null?0:t.length;return!!n&&H6(t,e,0)>-1}var Jb=W6,G6=rm,K6=Jb,Q6=1,Y6=2,X6=8,Z6=16,J6=32,e8=64,t8=128,n8=256,r8=512,i8=[["ary",t8],["bind",Q6],["bindKey",Y6],["curry",X6],["curryRight",Z6],["flip",r8],["partial",J6],["partialRight",e8],["rearg",n8]];function o8(t,e){return G6(i8,function(n){var r="_."+n[0];e&n[1]&&!K6(t,r)&&t.push(r)}),t.sort()}var s8=o8,a8=b6,u8=O6,l8=Xb,c8=s8;function f8(t,e,n){var r=e+"";return l8(t,u8(r,c8(a8(r),n)))}var zC=f8,d8=l6,h8=qC,p8=zC,g8=1,m8=2,y8=4,v8=8,MS=32,jS=64;function _8(t,e,n,r,i,o,s,a,u,l){var f=e&v8,c=f?s:void 0,d=f?void 0:s,g=f?o:void 0,y=f?void 0:o;e|=f?MS:jS,e&=~(f?jS:MS),e&y8||(e&=~(g8|m8));var m=[t,e,i,g,c,y,d,a,u,l],_=n.apply(void 0,m);return d8(t)&&h8(_,m),_.placeholder=r,p8(_,t,e)}var HC=_8;function b8(t){var e=t;return e.placeholder}var WC=b8,w8=9007199254740991,E8=/^(?:0|[1-9]\d*)$/;function O8(t,e){var n=typeof t;return e=e==null?w8:e,!!e&&(n=="number"||n!="symbol"&&E8.test(t))&&t>-1&&t%1==0&&t<e}var Ju=O8,T8=Vf,S8=Ju,A8=Math.min;function I8(t,e){for(var n=t.length,r=A8(e.length,n),i=T8(t);r--;){var o=e[r];t[r]=S8(o,n)?i[o]:void 0}return t}var k8=I8,FS="__lodash_placeholder__";function x8(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];(s===e||s===FS)&&(t[n]=FS,o[i++]=n)}return o}var ew=x8,R8=LC,P8=$C,C8=AB,US=tm,N8=HC,D8=WC,L8=k8,$8=ew,M8=nr,j8=1,F8=2,U8=8,q8=16,B8=128,V8=512;function GC(t,e,n,r,i,o,s,a,u,l){var f=e&B8,c=e&j8,d=e&F8,g=e&(U8|q8),y=e&V8,m=d?void 0:US(t);function _(){for(var p=arguments.length,h=Array(p),b=p;b--;)h[b]=arguments[b];if(g)var v=D8(_),w=C8(h,v);if(r&&(h=R8(h,r,i,g)),o&&(h=P8(h,o,s,g)),p-=w,g&&p<l){var O=$8(h,v);return N8(t,e,GC,_.placeholder,n,h,O,a,u,l-p)}var T=c?n:this,E=d?T[t]:t;return p=h.length,a?h=L8(h,a):y&&p>1&&h.reverse(),f&&u<p&&(h.length=u),this&&this!==M8&&this instanceof _&&(E=m||US(E)),E.apply(T,h)}return _}var KC=GC,z8=nm,H8=tm,W8=KC,G8=HC,K8=WC,Q8=ew,Y8=nr;function X8(t,e,n){var r=H8(t);function i(){for(var o=arguments.length,s=Array(o),a=o,u=K8(i);a--;)s[a]=arguments[a];var l=o<3&&s[0]!==u&&s[o-1]!==u?[]:Q8(s,u);if(o-=l.length,o<n)return G8(t,e,W8,i.placeholder,void 0,s,l,void 0,void 0,n-o);var f=this&&this!==Y8&&this instanceof i?r:t;return z8(f,this,s)}return i}var Z8=X8,J8=nm,e9=tm,t9=nr,n9=1;function r9(t,e,n,r){var i=e&n9,o=e9(t);function s(){for(var a=-1,u=arguments.length,l=-1,f=r.length,c=Array(f+u),d=this&&this!==t9&&this instanceof s?o:t;++l<f;)c[l]=r[l];for(;u--;)c[l++]=arguments[++a];return J8(d,i?n:this,c)}return s}var i9=r9,o9=LC,s9=$C,qS=ew,BS="__lodash_placeholder__",yv=1,a9=2,u9=4,VS=8,jl=128,zS=256,l9=Math.min;function c9(t,e){var n=t[1],r=e[1],i=n|r,o=i<(yv|a9|jl),s=r==jl&&n==VS||r==jl&&n==zS&&t[7].length<=e[8]||r==(jl|zS)&&e[7].length<=e[8]&&n==VS;if(!(o||s))return t;r&yv&&(t[2]=e[2],i|=n&yv?0:u9);var a=e[3];if(a){var u=t[3];t[3]=u?o9(u,a,e[4]):a,t[4]=u?qS(t[3],BS):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?s9(u,a,e[6]):a,t[6]=u?qS(t[5],BS):e[6]),a=e[7],a&&(t[7]=a),r&jl&&(t[8]=t[8]==null?e[8]:l9(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var f9=c9,d9=/\s/;function h9(t){for(var e=t.length;e--&&d9.test(t.charAt(e)););return e}var p9=h9,g9=p9,m9=/^\s+/;function y9(t){return t&&t.slice(0,g9(t)+1).replace(m9,"")}var QC=y9,v9=vi,_9=Fn,b9="[object Symbol]";function w9(t){return typeof t=="symbol"||_9(t)&&v9(t)==b9}var zf=w9,E9=QC,HS=Pt,O9=zf,WS=0/0,T9=/^[-+]0x[0-9a-f]+$/i,S9=/^0b[01]+$/i,A9=/^0o[0-7]+$/i,I9=parseInt;function k9(t){if(typeof t=="number")return t;if(O9(t))return WS;if(HS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=E9(t);var n=S9.test(t);return n||A9.test(t)?I9(t.slice(2),n?2:8):T9.test(t)?WS:+t}var x9=k9,R9=x9,GS=1/0,P9=17976931348623157e292;function C9(t){if(!t)return t===0?t:0;if(t=R9(t),t===GS||t===-GS){var e=t<0?-1:1;return e*P9}return t===t?t:0}var N9=C9,D9=N9;function L9(t){var e=D9(t),n=e%1;return e===e?n?e-n:e:0}var YC=L9,$9=DC,M9=_B,j9=Z8,F9=KC,U9=i9,q9=jC,B9=f9,V9=qC,z9=zC,KS=YC,H9="Expected a function",QS=1,W9=2,vv=8,_v=16,bv=32,YS=64,XS=Math.max;function G9(t,e,n,r,i,o,s,a){var u=e&W9;if(!u&&typeof t!="function")throw new TypeError(H9);var l=r?r.length:0;if(l||(e&=~(bv|YS),r=i=void 0),s=s===void 0?s:XS(KS(s),0),a=a===void 0?a:KS(a),l-=i?i.length:0,e&YS){var f=r,c=i;r=i=void 0}var d=u?void 0:q9(t),g=[t,e,n,r,i,f,c,o,s,a];if(d&&B9(g,d),t=g[0],e=g[1],n=g[2],r=g[3],i=g[4],a=g[9]=g[9]===void 0?u?0:t.length:XS(g[9]-l,0),!a&&e&(vv|_v)&&(e&=~(vv|_v)),!e||e==QS)var y=M9(t,e,n);else e==vv||e==_v?y=j9(t,e,a):(e==bv||e==(QS|bv))&&!i.length?y=U9(t,e,n,r):y=F9.apply(void 0,g);var m=d?$9:V9;return z9(m(y,g),t,e)}var tw=G9,K9=tw,Q9=128;function Y9(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,K9(t,Q9,void 0,void 0,void 0,void 0,e)}var X9=Y9,ZS=VC;function Z9(t,e,n){e=="__proto__"&&ZS?ZS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var el=Z9;function J9(t,e){return t===e||t!==t&&e!==e}var Hf=J9,eV=el,tV=Hf,nV=Object.prototype,rV=nV.hasOwnProperty;function iV(t,e,n){var r=t[e];(!(rV.call(t,e)&&tV(r,n))||n===void 0&&!(e in t))&&eV(t,e,n)}var im=iV,oV=im,sV=el;function aV(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;u===void 0&&(u=t[a]),i?sV(n,a,u):oV(n,a,u)}return n}var ba=aV;function uV(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lV=uV,cV=vi,fV=Fn,dV="[object Arguments]";function hV(t){return fV(t)&&cV(t)==dV}var pV=hV,JS=pV,gV=Fn,XC=Object.prototype,mV=XC.hasOwnProperty,yV=XC.propertyIsEnumerable,vV=JS(function(){return arguments}())?JS:function(t){return gV(t)&&mV.call(t,"callee")&&!yV.call(t,"callee")},Wf=vV,ea={exports:{}};function _V(){return!1}var bV=_V;(function(t,e){var n=nr,r=bV,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(ea,ea.exports);var wV=9007199254740991;function EV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wV}var nw=EV,OV=vi,TV=nw,SV=Fn,AV="[object Arguments]",IV="[object Array]",kV="[object Boolean]",xV="[object Date]",RV="[object Error]",PV="[object Function]",CV="[object Map]",NV="[object Number]",DV="[object Object]",LV="[object RegExp]",$V="[object Set]",MV="[object String]",jV="[object WeakMap]",FV="[object ArrayBuffer]",UV="[object DataView]",qV="[object Float32Array]",BV="[object Float64Array]",VV="[object Int8Array]",zV="[object Int16Array]",HV="[object Int32Array]",WV="[object Uint8Array]",GV="[object Uint8ClampedArray]",KV="[object Uint16Array]",QV="[object Uint32Array]",it={};it[qV]=it[BV]=it[VV]=it[zV]=it[HV]=it[WV]=it[GV]=it[KV]=it[QV]=!0;it[AV]=it[IV]=it[FV]=it[kV]=it[UV]=it[xV]=it[RV]=it[PV]=it[CV]=it[NV]=it[DV]=it[LV]=it[$V]=it[MV]=it[jV]=!1;function YV(t){return SV(t)&&TV(t.length)&&!!it[OV(t)]}var XV=YV;function ZV(t){return function(e){return t(e)}}var om=ZV,Xc={exports:{}};(function(t,e){var n=xC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Xc,Xc.exports);var JV=XV,ez=om,eA=Xc.exports,tA=eA&&eA.isTypedArray,tz=tA?ez(tA):JV,sm=tz,nz=lV,rz=Wf,iz=pt,oz=ea.exports,sz=Ju,az=sm,uz=Object.prototype,lz=uz.hasOwnProperty;function cz(t,e){var n=iz(t),r=!n&&rz(t),i=!n&&!r&&oz(t),o=!n&&!r&&!i&&az(t),s=n||r||i||o,a=s?nz(t.length,String):[],u=a.length;for(var l in t)(e||lz.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||sz(l,u)))&&a.push(l);return a}var ZC=cz,fz=Object.prototype;function dz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fz;return t===n}var Gf=dz;function hz(t,e){return function(n){return t(e(n))}}var JC=hz,pz=JC,gz=pz(Object.keys,Object),mz=gz,yz=Gf,vz=mz,_z=Object.prototype,bz=_z.hasOwnProperty;function wz(t){if(!yz(t))return vz(t);var e=[];for(var n in Object(t))bz.call(t,n)&&n!="constructor"&&e.push(n);return e}var am=wz,Ez=Jg,Oz=nw;function Tz(t){return t!=null&&Oz(t.length)&&!Ez(t)}var Zi=Tz,Sz=ZC,Az=am,Iz=Zi;function kz(t){return Iz(t)?Sz(t):Az(t)}var tl=kz,xz=ba,Rz=tl;function Pz(t,e){return t&&xz(e,Rz(e),t)}var eN=Pz;function Cz(){this.__data__=[],this.size=0}var Nz=Cz,Dz=Hf;function Lz(t,e){for(var n=t.length;n--;)if(Dz(t[n][0],e))return n;return-1}var um=Lz,$z=um,Mz=Array.prototype,jz=Mz.splice;function Fz(t){var e=this.__data__,n=$z(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jz.call(e,n,1),--this.size,!0}var Uz=Fz,qz=um;function Bz(t){var e=this.__data__,n=qz(e,t);return n<0?void 0:e[n][1]}var Vz=Bz,zz=um;function Hz(t){return zz(this.__data__,t)>-1}var Wz=Hz,Gz=um;function Kz(t,e){var n=this.__data__,r=Gz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Qz=Kz,Yz=Nz,Xz=Uz,Zz=Vz,Jz=Wz,e7=Qz;function nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nl.prototype.clear=Yz;nl.prototype.delete=Xz;nl.prototype.get=Zz;nl.prototype.has=Jz;nl.prototype.set=e7;var lm=nl,t7=lm;function n7(){this.__data__=new t7,this.size=0}var r7=n7;function i7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var o7=i7;function s7(t){return this.__data__.get(t)}var a7=s7;function u7(t){return this.__data__.has(t)}var l7=u7,c7=_a,f7=nr,d7=c7(f7,"Map"),rw=d7,h7=_a,p7=h7(Object,"create"),cm=p7,nA=cm;function g7(){this.__data__=nA?nA(null):{},this.size=0}var m7=g7;function y7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var v7=y7,_7=cm,b7="__lodash_hash_undefined__",w7=Object.prototype,E7=w7.hasOwnProperty;function O7(t){var e=this.__data__;if(_7){var n=e[t];return n===b7?void 0:n}return E7.call(e,t)?e[t]:void 0}var T7=O7,S7=cm,A7=Object.prototype,I7=A7.hasOwnProperty;function k7(t){var e=this.__data__;return S7?e[t]!==void 0:I7.call(e,t)}var x7=k7,R7=cm,P7="__lodash_hash_undefined__";function C7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=R7&&e===void 0?P7:e,this}var N7=C7,D7=m7,L7=v7,$7=T7,M7=x7,j7=N7;function rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rl.prototype.clear=D7;rl.prototype.delete=L7;rl.prototype.get=$7;rl.prototype.has=M7;rl.prototype.set=j7;var F7=rl,rA=F7,U7=lm,q7=rw;function B7(){this.size=0,this.__data__={hash:new rA,map:new(q7||U7),string:new rA}}var V7=B7;function z7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var H7=z7,W7=H7;function G7(t,e){var n=t.__data__;return W7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var fm=G7,K7=fm;function Q7(t){var e=K7(this,t).delete(t);return this.size-=e?1:0,e}var Y7=Q7,X7=fm;function Z7(t){return X7(this,t).get(t)}var J7=Z7,eH=fm;function tH(t){return eH(this,t).has(t)}var nH=tH,rH=fm;function iH(t,e){var n=rH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oH=iH,sH=V7,aH=Y7,uH=J7,lH=nH,cH=oH;function il(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}il.prototype.clear=sH;il.prototype.delete=aH;il.prototype.get=uH;il.prototype.has=lH;il.prototype.set=cH;var iw=il,fH=lm,dH=rw,hH=iw,pH=200;function gH(t,e){var n=this.__data__;if(n instanceof fH){var r=n.__data__;if(!dH||r.length<pH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hH(r)}return n.set(t,e),this.size=n.size,this}var mH=gH,yH=lm,vH=r7,_H=o7,bH=a7,wH=l7,EH=mH;function ol(t){var e=this.__data__=new yH(t);this.size=e.size}ol.prototype.clear=vH;ol.prototype.delete=_H;ol.prototype.get=bH;ol.prototype.has=wH;ol.prototype.set=EH;var dm=ol;function OH(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var TH=OH,SH=Pt,AH=Gf,IH=TH,kH=Object.prototype,xH=kH.hasOwnProperty;function RH(t){if(!SH(t))return IH(t);var e=AH(t),n=[];for(var r in t)r=="constructor"&&(e||!xH.call(t,r))||n.push(r);return n}var PH=RH,CH=ZC,NH=PH,DH=Zi;function LH(t){return DH(t)?CH(t,!0):NH(t)}var Kf=LH,$H=ba,MH=Kf;function jH(t,e){return t&&$H(e,MH(e),t)}var FH=jH,_p={exports:{}};(function(t,e){var n=nr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function u(l,f){if(f)return l.slice();var c=l.length,d=a?a(c):new l.constructor(c);return l.copy(d),d}t.exports=u})(_p,_p.exports);function UH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ow=UH;function qH(){return[]}var tN=qH,BH=ow,VH=tN,zH=Object.prototype,HH=zH.propertyIsEnumerable,iA=Object.getOwnPropertySymbols,WH=iA?function(t){return t==null?[]:(t=Object(t),BH(iA(t),function(e){return HH.call(t,e)}))}:VH,sw=WH,GH=ba,KH=sw;function QH(t,e){return GH(t,KH(t),e)}var YH=QH;function XH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var aw=XH,ZH=JC,JH=ZH(Object.getPrototypeOf,Object),uw=JH,eW=aw,tW=uw,nW=sw,rW=tN,iW=Object.getOwnPropertySymbols,oW=iW?function(t){for(var e=[];t;)eW(e,nW(t)),t=tW(t);return e}:rW,nN=oW,sW=ba,aW=nN;function uW(t,e){return sW(t,aW(t),e)}var lW=uW,cW=aw,fW=pt;function dW(t,e,n){var r=e(t);return fW(t)?r:cW(r,n(t))}var rN=dW,hW=rN,pW=sw,gW=tl;function mW(t){return hW(t,gW,pW)}var iN=mW,yW=rN,vW=nN,_W=Kf;function bW(t){return yW(t,_W,vW)}var lw=bW,wW=_a,EW=nr,OW=wW(EW,"DataView"),TW=OW,SW=_a,AW=nr,IW=SW(AW,"Promise"),kW=IW,xW=_a,RW=nr,PW=xW(RW,"Set"),oN=PW,_1=TW,b1=rw,w1=kW,E1=oN,O1=CC,sN=vi,sl=PC,oA="[object Map]",CW="[object Object]",sA="[object Promise]",aA="[object Set]",uA="[object WeakMap]",lA="[object DataView]",NW=sl(_1),DW=sl(b1),LW=sl(w1),$W=sl(E1),MW=sl(O1),Es=sN;(_1&&Es(new _1(new ArrayBuffer(1)))!=lA||b1&&Es(new b1)!=oA||w1&&Es(w1.resolve())!=sA||E1&&Es(new E1)!=aA||O1&&Es(new O1)!=uA)&&(Es=function(t){var e=sN(t),n=e==CW?t.constructor:void 0,r=n?sl(n):"";if(r)switch(r){case NW:return lA;case DW:return oA;case LW:return sA;case $W:return aA;case MW:return uA}return e});var wa=Es,jW=Object.prototype,FW=jW.hasOwnProperty;function UW(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&FW.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var qW=UW,BW=nr,VW=BW.Uint8Array,aN=VW,cA=aN;function zW(t){var e=new t.constructor(t.byteLength);return new cA(e).set(new cA(t)),e}var cw=zW,HW=cw;function WW(t,e){var n=e?HW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var GW=WW,KW=/\w*$/;function QW(t){var e=new t.constructor(t.source,KW.exec(t));return e.lastIndex=t.lastIndex,e}var YW=QW,fA=Zu,dA=fA?fA.prototype:void 0,hA=dA?dA.valueOf:void 0;function XW(t){return hA?Object(hA.call(t)):{}}var ZW=XW,JW=cw;function eG(t,e){var n=e?JW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var uN=eG,tG=cw,nG=GW,rG=YW,iG=ZW,oG=uN,sG="[object Boolean]",aG="[object Date]",uG="[object Map]",lG="[object Number]",cG="[object RegExp]",fG="[object Set]",dG="[object String]",hG="[object Symbol]",pG="[object ArrayBuffer]",gG="[object DataView]",mG="[object Float32Array]",yG="[object Float64Array]",vG="[object Int8Array]",_G="[object Int16Array]",bG="[object Int32Array]",wG="[object Uint8Array]",EG="[object Uint8ClampedArray]",OG="[object Uint16Array]",TG="[object Uint32Array]";function SG(t,e,n){var r=t.constructor;switch(e){case pG:return tG(t);case sG:case aG:return new r(+t);case gG:return nG(t,n);case mG:case yG:case vG:case _G:case bG:case wG:case EG:case OG:case TG:return oG(t,n);case uG:return new r;case lG:case dG:return new r(t);case cG:return rG(t);case fG:return new r;case hG:return iG(t)}}var AG=SG,IG=em,kG=uw,xG=Gf;function RG(t){return typeof t.constructor=="function"&&!xG(t)?IG(kG(t)):{}}var lN=RG,PG=wa,CG=Fn,NG="[object Map]";function DG(t){return CG(t)&&PG(t)==NG}var LG=DG,$G=LG,MG=om,pA=Xc.exports,gA=pA&&pA.isMap,jG=gA?MG(gA):$G,FG=jG,UG=wa,qG=Fn,BG="[object Set]";function VG(t){return qG(t)&&UG(t)==BG}var zG=VG,HG=zG,WG=om,mA=Xc.exports,yA=mA&&mA.isSet,GG=yA?WG(yA):HG,KG=GG,QG=dm,YG=rm,XG=im,ZG=eN,JG=FH,eK=_p.exports,tK=Vf,nK=YH,rK=lW,iK=iN,oK=lw,sK=wa,aK=qW,uK=AG,lK=lN,cK=pt,fK=ea.exports,dK=FG,hK=Pt,pK=KG,gK=tl,mK=Kf,yK=1,vK=2,_K=4,cN="[object Arguments]",bK="[object Array]",wK="[object Boolean]",EK="[object Date]",OK="[object Error]",fN="[object Function]",TK="[object GeneratorFunction]",SK="[object Map]",AK="[object Number]",dN="[object Object]",IK="[object RegExp]",kK="[object Set]",xK="[object String]",RK="[object Symbol]",PK="[object WeakMap]",CK="[object ArrayBuffer]",NK="[object DataView]",DK="[object Float32Array]",LK="[object Float64Array]",$K="[object Int8Array]",MK="[object Int16Array]",jK="[object Int32Array]",FK="[object Uint8Array]",UK="[object Uint8ClampedArray]",qK="[object Uint16Array]",BK="[object Uint32Array]",et={};et[cN]=et[bK]=et[CK]=et[NK]=et[wK]=et[EK]=et[DK]=et[LK]=et[$K]=et[MK]=et[jK]=et[SK]=et[AK]=et[dN]=et[IK]=et[kK]=et[xK]=et[RK]=et[FK]=et[UK]=et[qK]=et[BK]=!0;et[OK]=et[fN]=et[PK]=!1;function Rh(t,e,n,r,i,o){var s,a=e&yK,u=e&vK,l=e&_K;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!hK(t))return t;var f=cK(t);if(f){if(s=aK(t),!a)return tK(t,s)}else{var c=sK(t),d=c==fN||c==TK;if(fK(t))return eK(t,a);if(c==dN||c==cN||d&&!i){if(s=u||d?{}:lK(t),!a)return u?rK(t,JG(s,t)):nK(t,ZG(s,t))}else{if(!et[c])return i?t:{};s=uK(t,c,a)}}o||(o=new QG);var g=o.get(t);if(g)return g;o.set(t,s),pK(t)?t.forEach(function(_){s.add(Rh(_,e,n,_,t,o))}):dK(t)&&t.forEach(function(_,p){s.set(p,Rh(_,e,n,p,t,o))});var y=l?u?oK:iK:u?mK:gK,m=f?void 0:y(t);return YG(m||t,function(_,p){m&&(p=_,_=t[p]),XG(s,p,Rh(_,e,n,p,t,o))}),s}var hm=Rh,VK=hm,zK=4;function HK(t){return VK(t,zK)}var WK=HK,GK=tw,KK=8;function fw(t,e,n){e=n?void 0:e;var r=GK(t,KK,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=fw.placeholder,r}fw.placeholder={};var QK=fw,YK=vi,XK=uw,ZK=Fn,JK="[object Object]",eQ=Function.prototype,tQ=Object.prototype,hN=eQ.toString,nQ=tQ.hasOwnProperty,rQ=hN.call(Object);function iQ(t){if(!ZK(t)||YK(t)!=JK)return!1;var e=XK(t);if(e===null)return!0;var n=nQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hN.call(n)==rQ}var dw=iQ,oQ=vi,sQ=Fn,aQ=dw,uQ="[object DOMException]",lQ="[object Error]";function cQ(t){if(!sQ(t))return!1;var e=oQ(t);return e==lQ||e==uQ||typeof t.message=="string"&&typeof t.name=="string"&&!aQ(t)}var fQ=cQ,dQ=wa,hQ=Fn,pQ="[object WeakMap]";function gQ(t){return hQ(t)&&dQ(t)==pQ}var mQ=gQ,yQ="__lodash_hash_undefined__";function vQ(t){return this.__data__.set(t,yQ),this}var _Q=vQ;function bQ(t){return this.__data__.has(t)}var wQ=bQ,EQ=iw,OQ=_Q,TQ=wQ;function bp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new EQ;++e<n;)this.add(t[e])}bp.prototype.add=bp.prototype.push=OQ;bp.prototype.has=TQ;var hw=bp;function SQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var pN=SQ;function AQ(t,e){return t.has(e)}var pw=AQ,IQ=hw,kQ=pN,xQ=pw,RQ=1,PQ=2;function CQ(t,e,n,r,i,o){var s=n&RQ,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var c=-1,d=!0,g=n&PQ?new IQ:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var y=t[c],m=e[c];if(r)var _=s?r(m,y,c,e,t,o):r(y,m,c,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(g){if(!kQ(e,function(p,h){if(!xQ(g,h)&&(y===p||i(y,p,n,r,o)))return g.push(h)})){d=!1;break}}else if(!(y===m||i(y,m,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var gN=CQ;function NQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var DQ=NQ;function LQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var gw=LQ,vA=Zu,_A=aN,$Q=Hf,MQ=gN,jQ=DQ,FQ=gw,UQ=1,qQ=2,BQ="[object Boolean]",VQ="[object Date]",zQ="[object Error]",HQ="[object Map]",WQ="[object Number]",GQ="[object RegExp]",KQ="[object Set]",QQ="[object String]",YQ="[object Symbol]",XQ="[object ArrayBuffer]",ZQ="[object DataView]",bA=vA?vA.prototype:void 0,wv=bA?bA.valueOf:void 0;function JQ(t,e,n,r,i,o,s){switch(n){case ZQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XQ:return!(t.byteLength!=e.byteLength||!o(new _A(t),new _A(e)));case BQ:case VQ:case WQ:return $Q(+t,+e);case zQ:return t.name==e.name&&t.message==e.message;case GQ:case QQ:return t==e+"";case HQ:var a=jQ;case KQ:var u=r&UQ;if(a||(a=FQ),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=qQ,s.set(t,e);var f=MQ(a(t),a(e),r,i,o,s);return s.delete(t),f;case YQ:if(wv)return wv.call(t)==wv.call(e)}return!1}var eY=JQ,wA=iN,tY=1,nY=Object.prototype,rY=nY.hasOwnProperty;function iY(t,e,n,r,i,o){var s=n&tY,a=wA(t),u=a.length,l=wA(e),f=l.length;if(u!=f&&!s)return!1;for(var c=u;c--;){var d=a[c];if(!(s?d in e:rY.call(e,d)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var m=!0;o.set(t,e),o.set(e,t);for(var _=s;++c<u;){d=a[c];var p=t[d],h=e[d];if(r)var b=s?r(h,p,d,e,t,o):r(p,h,d,t,e,o);if(!(b===void 0?p===h||i(p,h,n,r,o):b)){m=!1;break}_||(_=d=="constructor")}if(m&&!_){var v=t.constructor,w=e.constructor;v!=w&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(t),o.delete(e),m}var oY=iY,Ev=dm,sY=gN,aY=eY,uY=oY,EA=wa,OA=pt,TA=ea.exports,lY=sm,cY=1,SA="[object Arguments]",AA="[object Array]",Qd="[object Object]",fY=Object.prototype,IA=fY.hasOwnProperty;function dY(t,e,n,r,i,o){var s=OA(t),a=OA(e),u=s?AA:EA(t),l=a?AA:EA(e);u=u==SA?Qd:u,l=l==SA?Qd:l;var f=u==Qd,c=l==Qd,d=u==l;if(d&&TA(t)){if(!TA(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Ev),s||lY(t)?sY(t,e,n,r,i,o):aY(t,e,u,n,r,i,o);if(!(n&cY)){var g=f&&IA.call(t,"__wrapped__"),y=c&&IA.call(e,"__wrapped__");if(g||y){var m=g?t.value():t,_=y?e.value():e;return o||(o=new Ev),i(m,_,n,r,o)}}return d?(o||(o=new Ev),uY(t,e,n,r,i,o)):!1}var hY=dY,pY=hY,kA=Fn;function mN(t,e,n,r,i){return t===e?!0:t==null||e==null||!kA(t)&&!kA(e)?t!==t&&e!==e:pY(t,e,n,r,mN,i)}var mw=mN,gY=dm,mY=mw,yY=1,vY=2;function _Y(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var u=a[0],l=t[u],f=a[1];if(s&&a[2]){if(l===void 0&&!(u in t))return!1}else{var c=new gY;if(r)var d=r(l,f,u,t,e,c);if(!(d===void 0?mY(f,l,yY|vY,r,c):d))return!1}}return!0}var bY=_Y,wY=Pt;function EY(t){return t===t&&!wY(t)}var yN=EY,OY=yN,TY=tl;function SY(t){for(var e=TY(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,OY(i)]}return e}var AY=SY;function IY(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var vN=IY,kY=bY,xY=AY,RY=vN;function PY(t){var e=xY(t);return e.length==1&&e[0][2]?RY(e[0][0],e[0][1]):function(n){return n===t||kY(n,t,e)}}var CY=PY,NY=pt,DY=zf,LY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$Y=/^\w*$/;function MY(t,e){if(NY(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||DY(t)?!0:$Y.test(t)||!LY.test(t)||e!=null&&t in Object(e)}var yw=MY,_N=iw,jY="Expected a function";function vw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(vw.Cache||_N),n}vw.Cache=_N;var FY=vw,UY=FY,qY=500;function BY(t){var e=UY(t,function(r){return n.size===qY&&n.clear(),r}),n=e.cache;return e}var VY=BY,zY=VY,HY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WY=/\\(\\)?/g,GY=zY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HY,function(n,r,i,o){e.push(i?o.replace(WY,"$1"):r||n)}),e}),bN=GY;function KY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var al=KY,xA=Zu,QY=al,YY=pt,XY=zf,ZY=1/0,RA=xA?xA.prototype:void 0,PA=RA?RA.toString:void 0;function wN(t){if(typeof t=="string")return t;if(YY(t))return QY(t,wN)+"";if(XY(t))return PA?PA.call(t):"";var e=t+"";return e=="0"&&1/t==-ZY?"-0":e}var _w=wN,JY=_w;function eX(t){return t==null?"":JY(t)}var Ea=eX,tX=pt,nX=yw,rX=bN,iX=Ea;function oX(t,e){return tX(t)?t:nX(t,e)?[t]:rX(iX(t))}var ul=oX,sX=zf,aX=1/0;function uX(t){if(typeof t=="string"||sX(t))return t;var e=t+"";return e=="0"&&1/t==-aX?"-0":e}var Oa=uX,lX=ul,cX=Oa;function fX(t,e){e=lX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cX(e[n++])];return n&&n==r?t:void 0}var pm=fX,dX=pm;function hX(t,e,n){var r=t==null?void 0:dX(t,e);return r===void 0?n:r}var _i=hX;function pX(t,e){return t!=null&&e in Object(t)}var gX=pX,mX=ul,yX=Wf,vX=pt,_X=Ju,bX=nw,wX=Oa;function EX(t,e,n){e=mX(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=wX(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&bX(i)&&_X(s,i)&&(vX(t)||yX(t)))}var EN=EX,OX=gX,TX=EN;function SX(t,e){return t!=null&&TX(t,e,OX)}var ON=SX,AX=mw,IX=_i,kX=ON,xX=yw,RX=yN,PX=vN,CX=Oa,NX=1,DX=2;function LX(t,e){return xX(t)&&RX(e)?PX(CX(t),e):function(n){var r=IX(n,t);return r===void 0&&r===e?kX(n,t):AX(e,r,NX|DX)}}var $X=LX;function MX(t){return function(e){return e==null?void 0:e[t]}}var TN=MX,jX=pm;function FX(t){return function(e){return jX(e,t)}}var UX=FX,qX=TN,BX=UX,VX=yw,zX=Oa;function HX(t){return VX(t)?qX(zX(t)):BX(t)}var WX=HX,GX=CY,KX=$X,QX=Bf,YX=pt,XX=WX;function ZX(t){return typeof t=="function"?t:t==null?QX:typeof t=="object"?YX(t)?KX(t[0],t[1]):GX(t):XX(t)}var yr=ZX,JX=hm,eZ=yr,tZ=1;function nZ(t){return eZ(typeof t=="function"?t:JX(t,tZ))}var rZ=nZ,CA=Zu,iZ=Wf,oZ=pt,NA=CA?CA.isConcatSpreadable:void 0;function sZ(t){return oZ(t)||iZ(t)||!!(NA&&t&&t[NA])}var aZ=sZ,uZ=aw,lZ=aZ;function SN(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=lZ),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?SN(a,e-1,n,r,i):uZ(i,a):r||(i[i.length]=a)}return i}var gm=SN,cZ=gm;function fZ(t){var e=t==null?0:t.length;return e?cZ(t,1):[]}var AN=fZ,dZ=nm,DA=Math.max;function hZ(t,e,n){return e=DA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=DA(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),dZ(t,this,a)}}var IN=hZ,pZ=AN,gZ=IN,mZ=Xb;function yZ(t){return mZ(gZ(t,void 0,pZ),t+"")}var bw=yZ,vZ=tw,_Z=bw,bZ=256,wZ=_Z(function(t,e){return vZ(t,bZ,void 0,void 0,void 0,e)}),EZ=wZ,OZ=al,TZ=Vf,SZ=pt,AZ=zf,IZ=bN,kZ=Oa,xZ=Ea;function RZ(t){return SZ(t)?OZ(t,kZ):AZ(t)?[t]:TZ(IZ(xZ(t)))}var PZ=RZ,CZ={ary:X9,assign:eN,clone:WK,curry:QK,forEach:rm,isArray:pt,isError:fQ,isFunction:Jg,isWeakMap:mQ,iteratee:rZ,keys:am,rearg:EZ,toInteger:YC,toPath:PZ},NZ=rq,DZ=CZ;function LZ(t,e,n){return NZ(DZ,t,e,n)}var mm=LZ,$Z=el,MZ=Hf;function jZ(t,e,n){(n!==void 0&&!MZ(t[e],n)||n===void 0&&!(e in t))&&$Z(t,e,n)}var kN=jZ;function FZ(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(n(o[u],u,o)===!1)break}return e}}var UZ=FZ,qZ=UZ,BZ=qZ(),xN=BZ,VZ=Zi,zZ=Fn;function HZ(t){return zZ(t)&&VZ(t)}var ww=HZ;function WZ(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var RN=WZ,GZ=ba,KZ=Kf;function QZ(t){return GZ(t,KZ(t))}var YZ=QZ,LA=kN,XZ=_p.exports,ZZ=uN,JZ=Vf,eJ=lN,$A=Wf,MA=pt,tJ=ww,nJ=ea.exports,rJ=Jg,iJ=Pt,oJ=dw,sJ=sm,jA=RN,aJ=YZ;function uJ(t,e,n,r,i,o,s){var a=jA(t,n),u=jA(e,n),l=s.get(u);if(l){LA(t,n,l);return}var f=o?o(a,u,n+"",t,e,s):void 0,c=f===void 0;if(c){var d=MA(u),g=!d&&nJ(u),y=!d&&!g&&sJ(u);f=u,d||g||y?MA(a)?f=a:tJ(a)?f=JZ(a):g?(c=!1,f=XZ(u,!0)):y?(c=!1,f=ZZ(u,!0)):f=[]:oJ(u)||$A(u)?(f=a,$A(a)?f=aJ(a):(!iJ(a)||rJ(a))&&(f=eJ(u))):c=!1}c&&(s.set(u,f),i(f,u,r,o,s),s.delete(u)),LA(t,n,f)}var lJ=uJ,cJ=dm,fJ=kN,dJ=xN,hJ=lJ,pJ=Pt,gJ=Kf,mJ=RN;function PN(t,e,n,r,i){t!==e&&dJ(e,function(o,s){if(i||(i=new cJ),pJ(o))hJ(t,e,s,n,PN,r,i);else{var a=r?r(mJ(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),fJ(t,s,a)}},gJ)}var Ew=PN,yJ=Bf,vJ=IN,_J=Xb;function bJ(t,e){return _J(vJ(t,e,yJ),t+"")}var ym=bJ,wJ=Hf,EJ=Zi,OJ=Ju,TJ=Pt;function SJ(t,e,n){if(!TJ(n))return!1;var r=typeof e;return(r=="number"?EJ(n)&&OJ(e,n.length):r=="string"&&e in n)?wJ(n[e],t):!1}var Ow=SJ,AJ=ym,IJ=Ow;function kJ(t){return AJ(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&IJ(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Tw=kJ,Ov,FA;function CN(){if(FA)return Ov;FA=1;var t=Ew,e=Tw,n=e(function(r,i,o){t(r,i,o)});return Ov=n,Ov}var xJ=mm,NN=xJ("merge",CN());NN.placeholder=qf();var Sw=NN,Tv={},RJ=xN,PJ=tl;function CJ(t,e){return t&&RJ(t,e,PJ)}var DN=CJ,NJ=Zi;function DJ(t,e){return function(n,r){if(n==null)return n;if(!NJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var LJ=DJ,$J=DN,MJ=LJ,jJ=MJ($J),Ta=jJ,FJ=Ta;function UJ(t,e){var n=[];return FJ(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}var LN=UJ,qJ=ow,BJ=LN,VJ=yr,zJ=pt;function HJ(t,e){var n=zJ(t)?qJ:BJ;return n(t,VJ(e))}var $N=HJ,WJ=Ta;function GJ(t,e){var n;return WJ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var KJ=GJ,QJ=pN,YJ=yr,XJ=KJ,ZJ=pt,JJ=Ow;function eee(t,e,n){var r=ZJ(t)?QJ:XJ;return n&&JJ(t,e,n)&&(e=void 0),r(t,YJ(e))}var Aw=eee,tee=mw;function nee(t,e){return tee(t,e)}var Sa=nee,Sv={};function ree(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Iw=ree;function iee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var MN=iee,oee=pm,see=MN;function aee(t,e){return e.length<2?t:oee(t,see(e,0,-1))}var uee=aee,lee=ul,cee=Iw,fee=uee,dee=Oa;function hee(t,e){return e=lee(e,t),t=fee(t,e),t==null||delete t[dee(cee(e))]}var kw=hee,pee=kw,gee=Ju,mee=Array.prototype,yee=mee.splice;function vee(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;gee(i)?yee.call(t,i,1):pee(t,i)}}return t}var _ee=vee,bee=yr,wee=_ee;function Eee(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,i=[],o=t.length;for(e=bee(e);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return wee(t,i),n}var Oee=Eee,Tee=Ta,See=Zi;function Aee(t,e){var n=-1,r=See(t)?Array(t.length):[];return Tee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Iee=Aee,kee=al,xee=yr,Ree=Iee,Pee=pt;function Cee(t,e){var n=Pee(t)?kee:Ree;return n(t,xee(e))}var ll=Cee,Nee=gm,Dee=ll;function Lee(t,e){return Nee(Dee(t,e),1)}var $ee=Lee,Av={},Mee=Object.prototype,jee=Mee.hasOwnProperty;function Fee(t,e){return t!=null&&jee.call(t,e)}var Uee=Fee,qee=Uee,Bee=EN;function Vee(t,e){return t!=null&&Bee(t,e,qee)}var xw=Vee,zee=im,Hee=ul,Wee=Ju,UA=Pt,Gee=Oa;function Kee(t,e,n,r){if(!UA(t))return t;e=Hee(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var u=Gee(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=s){var f=a[u];l=r?r(f,u,a):void 0,l===void 0&&(l=UA(f)?f:Wee(e[i+1])?[]:{})}zee(a,u,l),a=a[u]}return t}var Rw=Kee,Qee=Rw;function Yee(t,e,n){return t==null?t:Qee(t,e,n)}var Qf=Yee,Xee=Bf;function Zee(t){return typeof t=="function"?t:Xee}var Jee=Zee,ete=rm,tte=Ta,nte=Jee,rte=pt;function ite(t,e){var n=rte(t)?ete:tte;return n(t,nte(e))}var vm=ite,qA;function _m(){return qA||(qA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getChildType=d,t.getPopulateChild=m,t.getPopulateObj=c,t.getPopulateObjs=g,t.getPopulates=y,t.populateList=_,t.promisesForPopulate=p;var e=f(Aw),n=f(xw),r=f(Qf),i=f(vm),o=f(_i),s=f(ll),a=f(Pt),u=f($N),l=wi();function f(h){return h&&h.__esModule?h:{default:h}}function c(h){if(!(0,l.isString)(h))return h;var b=h.split(":");return{child:b[0],root:b[1]}}function d(h){return(0,l.isString)(h)?"string":Array.isArray(h)?"array":(0,a.default)(h)?"object":"other"}function g(h){return Array.isArray(h)?h.map(function(b){return(0,a.default)(b)?b:c(b)}):h}function y(h){var b=(0,u.default)(h,function(v){return v.indexOf("populate")!==-1||(0,a.default)(v)&&v.populates}).map(function(v){return v.split("=")[1]});return b.length?b.map(c):null}function m(h,b,v){var w=b.childParam?"/".concat(b.childParam):"",O="".concat(b.root,"/").concat(v).concat(w);return h.database().ref().child(O).once("value").then(function(T){return T.val()})}function _(h,b,v,w){return w[v.root]||(0,r.default)(w,v.root,{}),Promise.all((0,s.default)(b,function(O,T){var E=O===!0||v.populateByKey?T:O;return m(h,v,E).then(function(k){return k?(0,r.default)(w,"".concat(v.root,".").concat(E),k):w})}))}function p(h,b,v,w){var O=[],T={},E=g(typeof w=="function"?w(b,v):w),k=(0,e.default)(E,function(A){return(0,n.default)(v,A.child)});return k?(0,i.default)(E,function(A){return(0,l.isString)((0,o.default)(v,A.child))?O.push(m(h,A,(0,o.default)(v,A.child)).then(function(S){S&&(0,r.default)(T,"".concat(A.root,".").concat((0,o.default)(v,A.child)),S)})):O.push(_(h,(0,o.default)(v,A.child),A,T))}):(0,i.default)(v,function(A,S){var R=c(typeof w=="function"?w(S,A):w);(0,i.default)(R,function(I){var P=(0,o.default)(A,I.child);return P?(0,l.isString)(P)?O.push(m(h,I,P).then(function(x){return x&&(0,r.default)(T,"".concat(I.root,".").concat(P),x),T})):Array.isArray(P)||(0,a.default)(P)?O.push(_(h,P,I,T)):void 0:void 0})}),Promise.all(O).then(function(){return T})}}(Av)),Av}var Iv={},ote=vi,ste=Fn,ate="[object Number]";function ute(t){return typeof t=="number"||ste(t)&&ote(t)==ate}var jN=ute,lte=jN;function cte(t){return lte(t)&&t!=+t}var fte=cte,bi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.v3ErrorMessage=t.topLevelPaths=t.supportedAuthProviders=t.defaultConfig=t.default=t.actionsPrefix=t.actionTypes=void 0,t.actionsPrefix="@@reactReduxFirebase";var e={START:"".concat("@@reactReduxFirebase","/START"),SET:"".concat("@@reactReduxFirebase","/SET"),REMOVE:"".concat("@@reactReduxFirebase","/REMOVE"),MERGE:"".concat("@@reactReduxFirebase","/MERGE"),SET_PROFILE:"".concat("@@reactReduxFirebase","/SET_PROFILE"),LOGIN:"".concat("@@reactReduxFirebase","/LOGIN"),LOGOUT:"".concat("@@reactReduxFirebase","/LOGOUT"),LOGIN_ERROR:"".concat("@@reactReduxFirebase","/LOGIN_ERROR"),NO_VALUE:"".concat("@@reactReduxFirebase","/NO_VALUE"),UNAUTHORIZED_ERROR:"".concat("@@reactReduxFirebase","/UNAUTHORIZED_ERROR"),ERROR:"".concat("@@reactReduxFirebase","/ERROR"),CLEAR_ERRORS:"".concat("@@reactReduxFirebase","/CLEAR_ERRORS"),SET_LISTENER:"".concat("@@reactReduxFirebase","/SET_LISTENER"),UNSET_LISTENER:"".concat("@@reactReduxFirebase","/UNSET_LISTENER"),AUTHENTICATION_INIT_STARTED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_STARTED"),AUTHENTICATION_INIT_FINISHED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_FINISHED"),SESSION_START:"".concat("@@reactReduxFirebase","/SESSION_START"),SESSION_END:"".concat("@@reactReduxFirebase","/SESSION_END"),FILE_UPLOAD_START:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_START"),FILE_UPLOAD_ERROR:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_ERROR"),FILE_UPLOAD_PROGRESS:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_PROGRESS"),FILE_UPLOAD_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_COMPLETE"),FILE_DELETE_START:"".concat("@@reactReduxFirebase","/FILE_DELETE_START"),FILE_DELETE_ERROR:"".concat("@@reactReduxFirebase","/FILE_DELETE_ERROR"),FILE_DELETE_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_DELETE_COMPLETE"),AUTH_UPDATE_START:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_START"),AUTH_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_SUCCESS"),AUTH_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_ERROR"),PROFILE_UPDATE_START:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_START"),PROFILE_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_SUCCESS"),PROFILE_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_ERROR"),EMAIL_UPDATE_START:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_START"),EMAIL_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_SUCCESS"),EMAIL_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_ERROR"),AUTH_RELOAD_START:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_START"),AUTH_RELOAD_ERROR:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_ERROR"),AUTH_RELOAD_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_SUCCESS"),AUTH_LINK_START:"".concat("@@reactReduxFirebase","/AUTH_LINK_START"),AUTH_LINK_ERROR:"".concat("@@reactReduxFirebase","/AUTH_LINK_ERROR"),AUTH_LINK_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_LINK_SUCCESS"),AUTH_EMPTY_CHANGE:"".concat("@@reactReduxFirebase","/AUTH_EMPTY_CHANGE")};t.actionTypes=e;var n={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.defaultConfig=n;var r=["google","github","twitter","facebook","microsoft.com","apple.com","yahoo.com"];t.supportedAuthProviders=r;var i=["auth","profile","ordered","data"];t.topLevelPaths=i,t.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";var o={actionTypes:e,defaultConfig:n};t.default=o})(bi);var BA;function FN(){return BA||(BA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.applyParamsToQuery=g,t.getQueryIdFromPath=l,t.getWatchPath=u,t.getWatcherCount=c,t.orderedFromSnapshot=y,t.populateAndDispatch=m,t.setWatcher=f,t.unsetWatcher=d;var e=s(vm),n=s(fte),r=bi,i=_m(),o=wi();function s(_){return _&&_.__esModule?_:{default:_}}function a(_){var p=+_;return(0,n.default)(p)?_:p}function u(_,p){if(!_||_===""||!p)throw new Error("Event and path are required");return"".concat(_,":").concat(p.substring(0,1)==="/"?"":"/").concat(p)}function l(_,p){if(!(0,o.isString)(_))throw new Error("Query path must be a string");var h=_,b=_.split("#");_=b[0];var v=1<b.length,w=v?b[1].split("&"):[],O=v?w.map(function(T){var E=T.split("=");if(E[0]==="queryId")return E[1]}).filter(function(T){return T}):void 0;return O&&0<O.length?p?"".concat(p,":/").concat(O):O[0]:v?h:void 0}function f(_,p,h,b,v){var w=v||l(b,h)||u(h,b);return _._.watchers[w]?_._.watchers[w]++:_._.watchers[w]=1,p({type:r.actionTypes.SET_LISTENER,path:b,payload:{id:w}}),_._.watchers[w]}function c(_,p,h,b){var v=b||l(h,p)||u(p,h);return _._.watchers[v]}function d(_,p,h,b,v){var w=v||l(b,h)||u(h,b);b=b.split("#")[0];var O=_._.watchers;1>=O[w]?(delete O[w],h!=="first_child"&&h!=="once"&&_.database().ref().child(b).off(h)):O[w]&&O[w]--,p({type:r.actionTypes.UNSET_LISTENER,path:b,payload:{id:w}})}function g(_,p){var h=!1;return _&&_.forEach(function(b){switch(b=b.split("="),b[0]){case"orderByValue":p=p.orderByValue(),h=!0;break;case"orderByPriority":p=p.orderByPriority(),h=!0;break;case"orderByKey":p=p.orderByKey(),h=!0;break;case"orderByChild":p=p.orderByChild(b[1]);break;case"limitToFirst":p=p.limitToFirst(parseInt(b[1],10));break;case"limitToLast":p=p.limitToLast(parseInt(b[1],10));break;case"notParsed":h=!0;break;case"parsed":h=!1;break;case"equalTo":var v=h?b[1]:a(b[1]);v=v==="null"?null:v,v=v!=="false"&&v,v=v==="true"||v,p=b.length===3?p.equalTo(v,b[2]):p.equalTo(v);break;case"startAt":var w=h?b[1]:a(b[1]);w=w==="null"?null:w,p=b.length===3?p.startAt(w,b[2]):p.startAt(w);break;case"endAt":var O=h?b[1]:a(b[1]);O=O==="null"?null:O,p=b.length===3?p.endAt(O,b[2]):p.endAt(O)}}),p}function y(_){if(_.hasChildren&&!_.hasChildren())return null;var p=[];return _.forEach&&_.forEach(function(h){p.push({key:h.key,value:h.val()})}),p.length?p:null}function m(_,p,h){var b=h.data,v=h.populates,w=h.snapshot,O=h.path,T=h.storeAs;return(0,i.promisesForPopulate)(_,w.key,b,v).then(function(E){return(0,e.default)(E,function(k,A){p({type:r.actionTypes.MERGE,path:A,data:k})}),p({type:r.actionTypes.SET,path:T||O,data:b,ordered:y(w)}),E}).catch(function(E){return p({type:r.actionTypes.ERROR,payload:E}),Promise.reject(E)})}}(Iv)),Iv}var VA;function dte(){return VA||(VA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getEventsFromInput=u,t.pathStrToObj=a;var e=s(Oee),n=s(Pt),r=s($ee),i=_m(),o=FN();function s(f){return f&&f.__esModule?f:{default:f}}function a(f){var c={path:f,type:"value",isQuery:!1},d=(0,o.getQueryIdFromPath)(f);if(d){var g=f.split("#");c=Object.assign({},c,{queryId:d,isQuery:!0,path:g[0],queryParams:g[1].split("&")}),(0,i.getPopulates)(g[1].split("&"))&&(c.populates=(0,i.getPopulates)(g[1].split("&")),c.queryParams=(0,e.default)(g[1].split("&"),function(y){return y.indexOf("populate")===-1}))}return c}function u(f){return(0,r.default)(f,function(c){if(typeof c=="string"||c instanceof String)return[a(c)];if(Array.isArray(c))return[{type:"first_child",path:c[0]},{type:"child_added",path:c[0]},{type:"child_removed",path:c[0]},{type:"child_moved",path:c[0]},{type:"child_changed",path:c[0]}];if((0,n.default)(c)){if(!c.path)throw new Error("Path is a required parameter within definition object");var d=c.path;return c.storeAs&&(d+="@".concat(c.storeAs)),c.queryParams&&(d+="#".concat(c.queryParams.join("&"))),c=Object.assign({},a(d),c),[c]}throw new Error("Invalid Path Definition: ".concat(c,". Only strings, objects, and arrays accepted."))})}var l={getEventsFromInput:u};t.default=l}(Sv)),Sv}var zA;function wi(){return zA||(zA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createCallable=u,t.getChanges=d,Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return o.getEventsFromInput}}),t.invokeArrayQuery=l,t.isString=a,t.wrapDisplayName=c;var e=s($N),n=s(Aw),r=s(Sa),i=s(BC),o=dte();function s(g){return g&&g.__esModule?g:{default:g}}function a(g){return typeof g=="string"||g instanceof String}function u(g){return typeof g=="function"?g:(0,i.default)(g)}function l(g,y){var m=u(g)(y);return Array.isArray(m)?m:m?[m]:null}function f(g){return typeof g=="string"?g:g?g.displayName||g.name||"Component":void 0}function c(g,y){return"".concat(y,"(").concat(f(g),")")}function d(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],m={};return m.added=(0,e.default)(g,function(_){return!(0,n.default)(y,function(p){return(0,r.default)(_,p)})}),m.removed=(0,e.default)(y,function(_){return!(0,n.default)(g,function(p){return(0,r.default)(_,p)})}),m}}(Tv)),Tv}var Pw={},hte=el,pte=DN,gte=yr;function mte(t,e){var n={};return e=gte(e),pte(t,function(r,i,o){hte(n,i,e(r,i,o))}),n}var Cw=mte;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=b,t.wrapInDispatch=p;var e=r(Cw),n=r(Pt);function r(v){return v&&v.__esModule?v:{default:v}}function i(v,w){var O=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);w&&(T=T.filter(function(E){return Object.getOwnPropertyDescriptor(v,E).enumerable})),O.push.apply(O,T)}return O}function o(v){for(var w,O=1;O<arguments.length;O++)w=arguments[O]==null?{}:arguments[O],O%2?i(Object(w),!0).forEach(function(T){s(v,T,w[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):i(Object(w)).forEach(function(T){Object.defineProperty(v,T,Object.getOwnPropertyDescriptor(w,T))});return v}function s(v,w,O){return w in v?Object.defineProperty(v,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):v[w]=O,v}function a(v){return f(v)||l(v)||g(v)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function f(v){if(Array.isArray(v))return y(v)}function c(v,w){return _(v)||m(v,w)||g(v,w)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(v,w){if(v){if(typeof v=="string")return y(v,w);var O=Object.prototype.toString.call(v).slice(8,-1);return O==="Object"&&v.constructor&&(O=v.constructor.name),O==="Map"||O==="Set"?Array.from(v):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?y(v,w):void 0}}function y(v,w){(w==null||w>v.length)&&(w=v.length);for(var O=0,T=Array(w);O<w;O++)T[O]=v[O];return T}function m(v,w){var O=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(O!=null){var T,E,k=[],A=!0,S=!1;try{for(O=O.call(v);!(A=(T=O.next()).done)&&(k.push(T.value),!(w&&k.length===w));A=!0);}catch(R){S=!0,E=R}finally{try{A||O.return==null||O.return()}finally{if(S)throw E}}return k}}function _(v){if(Array.isArray(v))return v}function p(v,w){var O=w.meta,T=w.method,E=w.args,k=E===void 0?[]:E,A=w.types,S=c(A,3),R=S[0],I=S[1],P=S[2];return v({type:(0,n.default)(R)?R.type:R,meta:O,payload:(0,n.default)(R)?R.payload:{args:k}}),T.apply(void 0,a(k)).then(function(x){return v({type:(0,n.default)(I)?I.type:I,meta:O,payload:(0,n.default)(I)?I.payload:x}),x}).catch(function(x){return v({type:P,meta:O,payload:x}),Promise.reject(x)})}function h(v,w,O){return function(T){return function(){for(var E=arguments.length,k=Array(E),A=0;A<E;A++)k[A]=arguments[A];return T.apply(v,O?[w,v].concat(k):[v,w].concat(k))}}}function b(v,w,O,T){var E=h(v,w),k=h(v,w,!0);return o(o({},(0,e.default)(O,E)),(0,e.default)(T,k))}})(Pw);var UN={},yte=pm,vte=Rw,_te=ul;function bte(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=yte(t,s);n(a,s)&&vte(o,_te(s,t),a)}return o}var qN=bte,wte=qN,Ete=ON;function Ote(t,e){return wte(t,e,function(n,r){return Ete(t,r)})}var Tte=Ote,Ste=Tte,Ate=bw,Ite=Ate(function(t,e){return t==null?{}:Ste(t,e)}),bm=Ite,kte=dw;function xte(t){return kte(t)?void 0:t}var Rte=xte,Pte=al,Cte=hm,Nte=kw,Dte=ul,Lte=ba,$te=Rte,Mte=bw,jte=lw,Fte=1,Ute=2,qte=4,Bte=Mte(function(t,e){var n={};if(t==null)return n;var r=!1;e=Pte(e,function(o){return o=Dte(o,t),r||(r=o.length>1),o}),Lte(t,jte(t),n),r&&(n=Cte(n,Fte|Ute|qte,$te));for(var i=e.length;i--;)Nte(n,e[i]);return n}),wm=Bte,Nw={},Vte=Ew,HA=Pt;function BN(t,e,n,r,i,o){return HA(t)&&HA(e)&&(o.set(e,t),Vte(t,e,void 0,BN,o),o.delete(e)),t}var zte=BN,Hte=Ew,Wte=Tw,Gte=Wte(function(t,e,n,r){Hte(t,e,n,r)}),Kte=Gte,Qte=nm,Yte=ym,Xte=zte,Zte=Kte,Jte=Yte(function(t){return t.push(void 0,Xte),Qte(Zte,void 0,t)}),ene=Jte;function tne(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}var nne=tne;function rne(t,e,n,r,i){return i(t,function(o,s,a){n=r?(r=!1,o):e(n,o,s,a)}),n}var ine=rne,one=nne,sne=Ta,ane=yr,une=ine,lne=pt;function cne(t,e,n){var r=lne(t)?one:une,i=arguments.length<3;return r(t,ane(e),n,i,sne)}var fne=cne,dne=vi,hne=pt,pne=Fn,gne="[object String]";function mne(t){return typeof t=="string"||!hne(t)&&pne(t)&&dne(t)==gne}var yne=mne,vne=TN,_ne=vne("length"),bne=_ne,wne="\\ud800-\\udfff",Ene="\\u0300-\\u036f",One="\\ufe20-\\ufe2f",Tne="\\u20d0-\\u20ff",Sne=Ene+One+Tne,Ane="\\ufe0e\\ufe0f",Ine="\\u200d",kne=RegExp("["+Ine+wne+Sne+Ane+"]");function xne(t){return kne.test(t)}var Dw=xne,VN="\\ud800-\\udfff",Rne="\\u0300-\\u036f",Pne="\\ufe20-\\ufe2f",Cne="\\u20d0-\\u20ff",Nne=Rne+Pne+Cne,Dne="\\ufe0e\\ufe0f",Lne="["+VN+"]",T1="["+Nne+"]",S1="\\ud83c[\\udffb-\\udfff]",$ne="(?:"+T1+"|"+S1+")",zN="[^"+VN+"]",HN="(?:\\ud83c[\\udde6-\\uddff]){2}",WN="[\\ud800-\\udbff][\\udc00-\\udfff]",Mne="\\u200d",GN=$ne+"?",KN="["+Dne+"]?",jne="(?:"+Mne+"(?:"+[zN,HN,WN].join("|")+")"+KN+GN+")*",Fne=KN+GN+jne,Une="(?:"+[zN+T1+"?",T1,HN,WN,Lne].join("|")+")",WA=RegExp(S1+"(?="+S1+")|"+Une+Fne,"g");function qne(t){for(var e=WA.lastIndex=0;WA.test(t);)++e;return e}var Bne=qne,Vne=bne,zne=Dw,Hne=Bne;function Wne(t){return zne(t)?Hne(t):Vne(t)}var Gne=Wne,Kne=am,Qne=wa,Yne=Zi,Xne=yne,Zne=Gne,Jne="[object Map]",ere="[object Set]";function tre(t){if(t==null)return 0;if(Yne(t))return Xne(t)?Zne(t):t.length;var e=Qne(t);return e==Jne||e==ere?t.size:Kne(t).length}var Lw=tre,Em={},nre=kw;function rre(t,e){return t==null?!0:nre(t,e)}var QN=rre,ire=mm,YN=ire("unset",QN);YN.placeholder=qf();var ore=YN;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=d,t.getDotStrPath=c,t.getSlashStrPath=f,t.pathToArr=l,t.preserveValuesFromState=g,t.recursiveUnset=y;var e=o(ore),n=o(bm),r=o(Lw),i=o(_i);function o(m){return m&&m.__esModule?m:{default:m}}function s(m,_){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(m);_&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),p.push.apply(p,h)}return p}function a(m){for(var _,p=1;p<arguments.length;p++)_=arguments[p]==null?{}:arguments[p],p%2?s(Object(_),!0).forEach(function(h){u(m,h,_[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(h){Object.defineProperty(m,h,Object.getOwnPropertyDescriptor(_,h))});return m}function u(m,_,p){return _ in m?Object.defineProperty(m,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[_]=p,m}function l(m){return m?m.split(/\//).filter(function(_){return!!_}):[]}function f(m){return l(m).join("/")}function c(m){return l(m).join(".")}function d(m){return function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},p=1<arguments.length?arguments[1]:void 0;return Object.keys(m).reduce(function(h,b){return h[b]=m[b](_[b],p),h},{})}}function g(m,_,p){if(typeof _=="function")return _(m,p);if(_===!0)return p?a(a({},m),p):m;if(Array.isArray(_))return(0,n.default)(m,_);throw new Error("Invalid preserve parameter. It must be an Object or an Array")}function y(m,_){var p=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(!m||0<(0,r.default)((0,i.default)(_,m))&&p)return _;var h=(0,e.default)(m,_),b=m.match(/\./)?m.replace(/\.[^.]*$/,""):"";return y(b,h,!0)}})(Em);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fixPath=A,t.getVal=T,t.isEmpty=k,t.isLoaded=E,t.populate=I;var e=g(Aw),n=g(ene),r=g(fne),i=g(Cw),o=g(ll),s=g(xw),a=g(_i),u=g(Qf),l=g(Lw),f=bi,c=_m(),d=Em;function g(P){return P&&P.__esModule?P:{default:P}}function y(P){return h(P)||p(P)||_(P)||m()}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(P,x){if(P){if(typeof P=="string")return b(P,x);var D=Object.prototype.toString.call(P).slice(8,-1);return D==="Object"&&P.constructor&&(D=P.constructor.name),D==="Map"||D==="Set"?Array.from(P):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?b(P,x):void 0}}function p(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function h(P){if(Array.isArray(P))return b(P)}function b(P,x){(x==null||x>P.length)&&(x=P.length);for(var D=0,F=Array(x);D<x;D++)F[D]=P[D];return F}function v(P,x){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(P);x&&(F=F.filter(function(G){return Object.getOwnPropertyDescriptor(P,G).enumerable})),D.push.apply(D,F)}return D}function w(P){for(var x,D=1;D<arguments.length;D++)x=arguments[D]==null?{}:arguments[D],D%2?v(Object(x),!0).forEach(function(F){O(P,F,x[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(x)):v(Object(x)).forEach(function(F){Object.defineProperty(P,F,Object.getOwnPropertyDescriptor(x,F))});return P}function O(P,x,D){return x in P?Object.defineProperty(P,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[x]=D,P}function T(P,x,D){if(!P)return D;var F=(0,d.getDotStrPath)(x),G=(0,a.default)(P,F,D);return G}function E(){for(var P=arguments.length,x=Array(P),D=0;D<P;D++)x[D]=arguments[D];return!(x&&x.length)||x.every(function(F){return F!==void 0&&(0,a.default)(F,"isLoaded")!==!1})}function k(){for(var P=arguments.length,x=Array(P),D=0;D<P;D++)x[D]=arguments[D];return!(x&&x.length)||x.some(function(F){return!(F&&(0,l.default)(F))||F.isEmpty===!0})}function A(P){return(P.substring(0,1)==="/"?"":"/")+P}function S(P,x,D){var F=Array.isArray(x)?o.default:i.default;return F(x,function(G,H){var W=G;(G===!0||D.populateByKey)&&(W=H);var M=(0,d.getDotStrPath)(D.root),U=[M,W];D.childParam&&U.push(D.childParam);var q=U.join(".");return(0,a.default)(P.data,q)?D.keyProp?w(O({},D.keyProp,W),(0,a.default)(P.data,q)):(0,a.default)(P.data,q):G===!0||D.populateByKey?G:W})}function R(P,x,D){var F=(0,a.default)(x,D.child);if(!x||!F)return null;if(typeof F=="string"||F instanceof String){var G=(D.storeAs?D.storeAs:D.root).split("/").filter(Boolean).join("."),H=[G,F];D.childParam&&H.push(D.childParam);var W=H.join("."),M=(0,a.default)(P.data,W);return M?(0,u.default)({},D.childAlias||D.child,D.keyProp?w(O({},D.keyProp,F),M):M):x}return(0,u.default)({},D.childAlias||D.child,S(P,F,D))}function I(P,x,D,F){var G=x.split("/").filter(Boolean),H=f.topLevelPaths.indexOf(G[0])===-1?["data"].concat(y(G)):G,W=H.join("."),M=(0,a.default)(P,W,F);if(!P||M===F)return F;if(M===null)return null;var U=(0,c.getPopulateObjs)(typeof D=="function"?D(H.slice(-1)[0],M):D);if(Array.isArray(M)){var q=function(N){return function(V){return(0,e.default)(N,function(K){return(0,s.default)(K,V)})}},$=(0,e.default)(U,function(N){return q(M)(["value",N.child])});return $?M.map(function(N){var V=N.key,K=N.value,X=U.map(function(Y){return R(P,K,Y)}).reduce(function(Y,z){return(0,n.default)(z,Y)},K);return{key:V,value:X}}):M}var j=(0,e.default)(U,function(N){return(0,s.default)(M,N.child)});return j?U.map(function(N){return R(P,M,N)}).reduce(function(N,V){return(0,n.default)(V,N)},M):H.indexOf("profile")===-1?(0,i.default)(M,function(N,V){var K=H[0]==="ordered"?N.key:V,X=(0,c.getPopulateObjs)(typeof D=="function"?D(K,N):D),Y=(0,e.default)(X,function(z){return(0,s.default)(N,z.child)});return Y?(0,r.default)((0,o.default)(X,function(z){return R(P,N,z)}),function(z,Q){return(0,n.default)(Q,z)},N):N}):M}})(Nw);var $w={},sre=MN;function are(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:sre(t,e,n)}var Mw=are;function ure(t){return t.split("")}var lre=ure,XN="\\ud800-\\udfff",cre="\\u0300-\\u036f",fre="\\ufe20-\\ufe2f",dre="\\u20d0-\\u20ff",hre=cre+fre+dre,pre="\\ufe0e\\ufe0f",gre="["+XN+"]",A1="["+hre+"]",I1="\\ud83c[\\udffb-\\udfff]",mre="(?:"+A1+"|"+I1+")",ZN="[^"+XN+"]",JN="(?:\\ud83c[\\udde6-\\uddff]){2}",e2="[\\ud800-\\udbff][\\udc00-\\udfff]",yre="\\u200d",t2=mre+"?",n2="["+pre+"]?",vre="(?:"+yre+"(?:"+[ZN,JN,e2].join("|")+")"+n2+t2+")*",_re=n2+t2+vre,bre="(?:"+[ZN+A1+"?",A1,JN,e2,gre].join("|")+")",wre=RegExp(I1+"(?="+I1+")|"+bre+_re,"g");function Ere(t){return t.match(wre)||[]}var Ore=Ere,Tre=lre,Sre=Dw,Are=Ore;function Ire(t){return Sre(t)?Are(t):Tre(t)}var jw=Ire,kre=Mw,xre=Dw,Rre=jw,Pre=Ea;function Cre(t){return function(e){e=Pre(e);var n=xre(e)?Rre(e):void 0,r=n?n[0]:e.charAt(0),i=n?kre(n,1).join(""):e.slice(1);return r[t]()+i}}var Nre=Cre,Dre=Nre,Lre=Dre("toUpperCase"),$re=Lre,Mre=Ea,jre=$re;function Fre(t){return jre(Mre(t).toLowerCase())}var Ure=Fre;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.authIsReady=u,t.createAuthIsReady=l,t.getLoginMethodAndParams=o,t.getReauthenticateMethodAndParams=s,t.setupPresence=d,t.updateProfileOnFirestore=c,t.updateProfileOnRTDB=f;var e=r(Ure),n=bi;function r(g){return g&&g.__esModule?g:{default:g}}function i(g,y,m){var _=y.toLowerCase();if(_==="microsoft.com"||_==="apple.com"||_==="yahoo.com"){var p=new g.auth.OAuthProvider(y);return p}var h="".concat((0,e.default)(y),"AuthProvider");if(!g.auth[h])throw new Error("".concat(y," is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library."));var b=new g.auth[h],v=g._.config.customAuthParameters;return v&&v[y]&&b.setCustomParameters(v[y]),_==="twitter"||typeof b.addScope!="function"||(b.addScope("email"),m&&(Array.isArray(m)&&m.forEach(function(w){b.addScope(w)}),(typeof m=="string"||m instanceof String)&&b.addScope(m))),b}function o(g,y){var m=y.email,_=y.password,p=y.provider,h=y.type,b=y.token,v=y.scopes,w=y.phoneNumber,O=y.applicationVerifier,T=y.credential,E=y.emailLink;if(T){var k=g.auth().signInAndRetrieveDataWithCredential;return k?{method:"signInAndRetrieveDataWithCredential",params:[T]}:{method:"signInWithCredential",params:[T]}}if(p){if(n.supportedAuthProviders.indexOf(p.toLowerCase())===-1)throw new Error("".concat(p," is not a valid Auth Provider"));if(b)throw new Error("provider with token no longer supported, use credential parameter instead");var A=i(g,p,v);return h==="popup"?{method:"signInWithPopup",params:[A]}:{method:"signInWithRedirect",params:[A]}}if(b){var S=g.auth().signInAndRetrieveDataWithCustomToken;return S?{method:"signInAndRetrieveDataWithCustomToken",params:[b]}:{method:"signInWithCustomToken",params:[b]}}if(w){if(!O)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[w,O]}}return E&&m?{method:"signInWithEmailLink",params:[m,E]}:g.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[m,_]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[m,_]}}function s(g,y){var m=y.provider,_=y.type,p=y.scopes,h=y.phoneNumber,b=y.applicationVerifier,v=y.credential;if(v){var w=g.auth().reauthenticateAndRetrieveDataWithCredential;return w?{method:"reauthenticateAndRetrieveDataWithCredential",params:[v]}:{method:"reauthenticateWithCredential",params:[v]}}if(m){if(n.supportedAuthProviders.indexOf(m.toLowerCase())===-1)throw new Error("".concat(m," is not a valid Auth Provider"));var O=i(g,m,p);return _==="popup"?{method:"reauthenticateWithPopup",params:[O]}:{method:"reauthenticateWithRedirect",params:[O]}}if(!b)throw new Error("Application verifier is required for phone authentication");return{method:"reauthenticateWithPhoneNumber",params:[h,b]}}function a(g,y){var m=g.getState(),_=y?m[y]:m,p=_&&_.auth;if(!p)throw new Error("The Firebase auth state could not be found in the store under the attribute '".concat(y?"".concat(y,"."):"","auth'. Make sure your react-redux-firebase reducer is correctly set in the store"));return _.auth.isLoaded}function u(g){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"firebase";return new Promise(function(m){if(a(g,y))m();else var _=g.subscribe(function(){a(g,y)&&(_(),m())})})}function l(g,y){return typeof y.authIsReady=="function"?y.authIsReady(g,y):u(g,y.firebaseStateName)}function f(g,y){var m=g._,_=m.config,p=m.authUid,h=g.database().ref("".concat(_.userProfile,"/").concat(p));return h.update(y).then(function(){return h.once("value")})}function c(g,y){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},_=m.useSet,p=m.merge,h=g.firestore,b=g._,v=b.config,w=b.authUid,O=h().doc("".concat(v.userProfile,"/").concat(w)),T=_===void 0||_?O.set(y,{merge:p===void 0||p}):O.update(y);return T.then(function(){return O.get()})}function d(g,y){if(y.database&&y.database.ServerValue){var m=y.database().ref(),_=y._,p=_.config,h=p.presence,b=p.sessions,v=_.authUid,w=m.child(".info/connected"),O=m.child(typeof h=="function"?h(y.auth().currentUser,y):h).child(v),T=typeof b=="function"?b(y.auth().currentUser,y):b;T&&(T=m.child(b)),w.on("value",function(E){if(E.val()){if(T){g({type:n.actionTypes.SESSION_START,payload:v});var k=T.push({startedAt:y.database.ServerValue.TIMESTAMP,user:v});typeof k.setPriority=="function"&&k.setPriority(v),k.child("endedAt").onDisconnect().set(y.database.ServerValue.TIMESTAMP,function(){g({type:n.actionTypes.SESSION_END})})}O.set(!0),O.onDisconnect().remove()}})}}})($w);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createUserProfile=t.createUser=t.confirmPasswordReset=t.applyActionCode=void 0,t.handleProfileWatchResponse=O,t.init=t.handleRedirectResult=void 0,t.linkAndRetrieveDataWithCredential=V,t.linkWithCredential=void 0,t.linkWithPopup=K,t.linkWithRedirect=X,t.resetPassword=t.reloadAuth=t.reauthenticate=t.logout=t.login=void 0,t.signInWithPhoneNumber=Y,t.unWatchUserProfile=v,t.watchUserProfile=t.verifyPasswordResetCode=t.updateProfile=t.updateEmail=t.updateAuth=void 0;var e=l(bm),n=l(wm),r=l(vm),i=bi,o=Nw,s=wi(),a=$w,u=_m();function l(z){return z&&z.__esModule?z:{default:z}}function f(z){return y(z)||g(z)||d(z)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(z,Q){if(z){if(typeof z=="string")return m(z,Q);var ee=Object.prototype.toString.call(z).slice(8,-1);return ee==="Object"&&z.constructor&&(ee=z.constructor.name),ee==="Map"||ee==="Set"?Array.from(z):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?m(z,Q):void 0}}function g(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function y(z){if(Array.isArray(z))return m(z)}function m(z,Q){(Q==null||Q>z.length)&&(Q=z.length);for(var ee=0,te=Array(Q);ee<Q;ee++)te[ee]=z[ee];return te}function _(z,Q){var ee=Object.keys(z);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(z);Q&&(te=te.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),ee.push.apply(ee,te)}return ee}function p(z){for(var Q,ee=1;ee<arguments.length;ee++)Q=arguments[ee]==null?{}:arguments[ee],ee%2?_(Object(Q),!0).forEach(function(te){h(z,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Q)):_(Object(Q)).forEach(function(te){Object.defineProperty(z,te,Object.getOwnPropertyDescriptor(Q,te))});return z}function h(z,Q,ee){return Q in z?Object.defineProperty(z,Q,{value:ee,enumerable:!0,configurable:!0,writable:!0}):z[Q]=ee,z}function b(z,Q){var ee=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return z(p(p({type:i.actionTypes.LOGIN_ERROR},ee),{},{authError:Q}))}function v(z){var Q=z._,ee=Q.authUid,te=Q.config,oe=te.userProfile,ce=te.useFirestoreForProfile;z._.profileWatch&&(ce&&z.firestore?z._.profileWatch():oe&&z.database&&z.database().ref().child("".concat(oe,"/").concat(ee)).off("value",z._.profileWatch),z._.profileWatch=null)}function w(z){return z&&z.val?z.val():z&&z.data&&z.exists?z.data():null}function O(z,Q,ee,te){var oe=Q._.config,ce=oe.profileParamsToPopulate,ie=oe.autoPopulateProfile,J=oe.useFirestoreForProfile,re=oe.logErrors,ue=w(ee);ce&&!J&&(Array.isArray(ce)||(0,s.isString)(ce))?(0,u.promisesForPopulate)(Q,ee.key,ue,ce).then(function(he){if((0,r.default)(he,function(B,Z){z({type:i.actionTypes.SET,path:Z,data:B,timestamp:Date.now(),requesting:!1,requested:!0})}),!ie)z({type:i.actionTypes.SET_PROFILE,profile:te?p(p({},ue),{},{token:te}):ue});else{var C=(0,u.getPopulateObjs)(ce),L=ee.val();z({type:i.actionTypes.SET_PROFILE,profile:(0,o.populate)({profile:te?p(p({},L),{},{token:te}):L,data:he},"profile",C)})}}).catch(function(he){re&&console.error("RRF: Error retrieving data for profile population. Firebase:",he),z({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: ".concat(he.message)}),z({type:i.actionTypes.SET_PROFILE,profile:ue})}):(J&&ce&&console.warn("Profile population is not yet supported for Firestore"),z({type:i.actionTypes.SET_PROFILE,profile:te?p(p({},ue),{},{token:te}):ue}))}function T(z,Q){var ee=Q._.config,te=ee.onProfileListenerError,oe=ee.logErrors;return function(ce){if(oe&&console.error("Error with profile listener: ".concat(ce.message||""),ce),typeof te=="function"){var ie=te(ce,Q);if(typeof ie.then=="function")return ie}return Promise.reject(ce)}}var E=function(z,Q){var ee=Q._,te=ee.authUid,oe=ee.config,ce=oe.userProfile,ie=oe.useFirestoreForProfile,J=oe.enableClaims;if(v(Q),!ce)J&&(Q._.profileWatch=Q.auth().currentUser.getIdTokenResult(!0).then(function(re){z({type:i.actionTypes.SET_PROFILE,profile:{token:re}})}));else if(ie&&Q.firestore)Q._.profileWatch=Q.firestore().collection(ce).doc(te).onSnapshot(function(re){return J?Q.auth().currentUser.getIdTokenResult(!0).then(function(ue){return O(z,Q,re,ue)}):O(z,Q,re,null)},T(z,Q));else if(Q.database)Q._.profileWatch=Q.database().ref().child("".concat(ce,"/").concat(te)).on("value",function(re){J?Q.auth().currentUser.getIdTokenResult(!0).then(function(ue){return O(z,Q,re,ue)}):O(z,Q,re,null)},T(z,Q));else throw new Error("Real Time Database or Firestore must be included to enable user profile")};t.watchUserProfile=E;var k=function(z,Q,ee,te){var oe=Q._.config;if(!oe.userProfile||!Q.database&&!Q.firestore)return Promise.resolve(ee);if(typeof oe.profileFactory=="function")try{te=oe.profileFactory(ee,te,Q)}catch(ce){return console.error("Error occurred within profileFactory function:",ce.message||ce),Promise.reject(ce)}return oe.useFirestoreForProfile?Q.firestore().collection(oe.userProfile).doc(ee.uid||ee.user.uid).get().then(function(ce){if(!oe.updateProfileOnLogin&&ce.exists)return ce.data();var ie=te;if(!ie){var J=ee.uid?ee.toJSON?ee.toJSON():ee:ee.user.toJSON?ee.user.toJSON():ee.user;ie=p(p({},(0,n.default)(J,oe.keysToRemoveFromAuth)),{},{avatarUrl:J.photoURL})}return Array.isArray(ie.providerData)&&(ie.providerData=ie.providerData.map(function(re){return(0,e.default)(re,oe.keysToPreserveFromProviderData)})),ce.ref.set(ie,{merge:!0}).then(function(){return ie})}).catch(function(ce){return z({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:ce}),Promise.reject(ce)}):Q.database().ref().child("".concat(oe.userProfile,"/").concat(ee.user?ee.user.uid:ee.uid)).once("value").then(function(ce){return oe.updateProfileOnLogin||ce.val()===null?ce.ref.update(te).then(function(){return te}):ce.val()}).catch(function(ce){return z({type:i.actionTypes.UNAUTHORIZED_ERROR,authError:ce}),typeof oe.onProfileWriteError=="function"&&oe.onProfileWriteError(ce,Q),Promise.reject(ce)})};t.createUserProfile=k;var A=function(z,Q,ee){var te=Q._.config;ee?(Q._.authUid=ee.uid,te.presence&&(0,a.setupPresence)(z,Q),z({type:i.actionTypes.LOGIN,auth:ee,preserve:te.preserveOnLogin}),E(z,Q),typeof te.onAuthStateChanged=="function"&&te.onAuthStateChanged(ee,Q,z)):(typeof te.onAuthStateChanged=="function"&&Q._.config.onAuthStateChanged(ee,Q,z),z({type:i.actionTypes.AUTH_EMPTY_CHANGE,preserve:te.preserveOnEmptyAuthChange}),v(Q))},S=function(z,Q,ee){if(typeof Q._.config.onRedirectResult=="function"&&Q._.config.onRedirectResult(ee,Q,z),ee&&ee.user){var te=ee.user;return Q._.authUid=te.uid,E(z,Q),z({type:i.actionTypes.LOGIN,auth:te,preserve:Q._.config.preserveOnLogin}),k(z,Q,te,{email:te.email,displayName:te.providerData[0].displayName||te.email,avatarUrl:te.providerData[0].photoURL,providerData:te.providerData})}};t.handleRedirectResult=S;var R=function(z,Q){Q.auth&&(z({type:i.actionTypes.AUTHENTICATION_INIT_STARTED}),Q.auth().onAuthStateChanged(function(ee){return A(z,Q,ee)}),Q._.config.enableRedirectHandling&&typeof Q.auth().getRedirectResult=="function"&&typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("http")!==-1&&Q.auth().getRedirectResult().then(function(ee){return S(z,Q,ee)}).catch(function(ee){return b(z,ee),Promise.reject(ee)}),Q.auth().currentUser,z({type:i.actionTypes.AUTHENTICATION_INIT_FINISHED}))};t.init=R;var I=function(z,Q,ee){var te;Q._.config.resetBeforeLogin&&b(z,null);var oe=(0,a.getLoginMethodAndParams)(Q,ee),ce=oe.method,ie=oe.params;return(te=Q.auth())[ce].apply(te,f(ie)).then(function(J){if(!J)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword","signInWithEmailLink"].includes(ce))return{user:J};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(ce))return Q._.config.updateProfileOnLogin?k(z,Q,J,ee.profile):{user:J};if(ce==="signInWithPhoneNumber")return p(p({},J),{},{confirm:function(he){return J.confirm(he).then(function(C){var L=C.user,B=C.additionalUserInfo;return k(z,Q,L,{phoneNumber:L.providerData[0].phoneNumber,providerData:L.providerData}).then(function(Z){return{profile:Z,user:L,additionalUserInfo:B}})})}});var re=J.user||J;return k(z,Q,re,ee.profile||{email:re.email,displayName:re.providerData[0].displayName||re.email,avatarUrl:re.providerData[0].photoURL,providerData:re.providerData}).then(function(ue){return p({profile:ue},J)})}).catch(function(J){return b(z,J),Promise.reject(J)})};t.login=I;var P=function(z,Q,ee){var te,oe=(0,a.getReauthenticateMethodAndParams)(Q,ee),ce=oe.method,ie=oe.params;return(te=Q.auth().currentUser)[ce].apply(te,f(ie)).then(function(J){if(!J)return Promise.resolve(null);if(ce==="reauthenticateWithPhoneNumber")return p(p({},J),{},{confirm:function(he){return J.confirm(he).then(function(C){var L=C.user,B=C.additionalUserInfo;return k(z,Q,L,{phoneNumber:L.providerData[0].phoneNumber,providerData:L.providerData}).then(function(Z){return{profile:Z,user:L,additionalUserInfo:B}})})}});var re=J.user||J;return k(z,Q,re,ee.profile||{email:re.email,displayName:re.providerData[0].displayName||re.email,avatarUrl:re.providerData[0].photoURL,providerData:re.providerData}).then(function(ue){return p({profile:ue},J)})}).catch(function(J){return b(z,J,{reauthenticate:!0}),Promise.reject(J)})};t.reauthenticate=P;var x=function(z,Q){return v(Q),Q.auth().signOut().then(function(){var ee={type:i.actionTypes.LOGOUT};return Q._.config.preserveOnLogout&&(ee.preserve=Q._.config.preserveOnLogout),z(ee),Q._.authUid=null,Q})};t.logout=x;var D=function(z,Q,ee,te){var oe=ee.email,ce=ee.password;if(b(z,null),!oe||!ce){var ie=new Error("Email and Password are required to create user");return b(z,ie),Promise.reject(ie)}return Q.auth().createUserWithEmailAndPassword(oe,ce).then(function(J){return k(z,Q,J,te||{email:oe})}).catch(function(J){return b(z,J),Promise.reject(J)})};t.createUser=D;var F=function(z,Q,ee){return b(z,null),Q.auth().sendPasswordResetEmail(ee).catch(function(te){if(te){switch(te.code){case"auth/user-not-found":b(z,p(p({},te),{},{message:"The specified user account does not exist."}));break;default:b(z,te)}return Promise.reject(te)}})};t.resetPassword=F;var G=function(z,Q,ee,te){return b(z,null),Q.auth().confirmPasswordReset(ee,te).catch(function(oe){if(oe){switch(oe.code){case"auth/expired-action-code":b(z,new Error("The action code has expired."));break;case"auth/invalid-action-code":b(z,new Error("The action code is invalid."));break;case"auth/user-disabled":b(z,new Error("The user is disabled."));break;case"auth/user-not-found":b(z,new Error("The user is not found."));break;case"auth/weak-password":b(z,new Error("The password is not strong enough."));break;default:b(z,oe)}return Promise.reject(oe)}})};t.confirmPasswordReset=G;var H=function(z,Q,ee){return b(z,null),Q.auth().verifyPasswordResetCode(ee).catch(function(te){return te&&b(z,te),Promise.reject(te)})};t.verifyPasswordResetCode=H;var W=function(z,Q,ee){return b(z,null),Q.auth().applyActionCode(ee).catch(function(te){return te&&b(z,te),Promise.reject(te)})};t.applyActionCode=W;var M=function(z,Q,ee,te){var oe=Q._.config;z({type:i.actionTypes.PROFILE_UPDATE_START,payload:ee});var ce=oe.useFirestoreForProfile?a.updateProfileOnFirestore:a.updateProfileOnRTDB;return ce(Q,ee,te).then(function(ie){return z({type:i.actionTypes.PROFILE_UPDATE_SUCCESS,payload:oe.useFirestoreForProfile?ie.data():ie.val()}),ie}).catch(function(ie){return z({type:i.actionTypes.PROFILE_UPDATE_ERROR,error:ie}),Promise.reject(ie)})};t.updateProfile=M;var U=function(z,Q,ee,te){if(z({type:i.actionTypes.AUTH_UPDATE_START,payload:ee}),!Q.auth().currentUser){var oe=new Error("User must be logged in to update auth.");return z({type:i.actionTypes.AUTH_UPDATE_ERROR,payload:oe}),Promise.reject(oe)}return Q.auth().currentUser.updateProfile(ee).then(function(ce){return z({type:i.actionTypes.AUTH_UPDATE_SUCCESS,auth:Q.auth().currentUser}),te?M(z,Q,ee):ce}).catch(function(ce){return z({type:i.actionTypes.AUTH_UPDATE_ERROR,error:ce}),Promise.reject(ce)})};t.updateAuth=U;var q=function(z,Q,ee,te){if(z({type:i.actionTypes.EMAIL_UPDATE_START,payload:ee}),!Q.auth().currentUser){var oe=new Error("User must be logged in to update email.");return z({type:i.actionTypes.EMAIL_UPDATE_ERROR,error:oe}),Promise.reject(oe)}return Q.auth().currentUser.updateEmail(ee).then(function(ce){return z({type:i.actionTypes.EMAIL_UPDATE_SUCCESS,payload:ee}),te?M(z,Q,{email:ee}):ce}).catch(function(ce){return z({type:i.actionTypes.EMAIL_UPDATE_ERROR,error:ce}),Promise.reject(ce)})};t.updateEmail=q;var $=function(z,Q){if(z({type:i.actionTypes.AUTH_RELOAD_START}),!Q.auth().currentUser){var ee=new Error("User must be logged in to reload auth.");return z({type:i.actionTypes.AUTH_RELOAD_ERROR,error:ee}),Promise.reject(ee)}return Q.auth().currentUser.reload().then(function(){var te=Q.auth().currentUser;return z({type:i.actionTypes.AUTH_RELOAD_SUCCESS,payload:te}),te}).catch(function(te){return z({type:i.actionTypes.AUTH_RELOAD_ERROR,error:te}),Promise.reject(te)})};t.reloadAuth=$;var j=function(z,Q,ee){if(z({type:i.actionTypes.AUTH_LINK_START}),!Q.auth().currentUser){var te=new Error("User must be logged in to link with credential.");return z({type:i.actionTypes.AUTH_LINK_ERROR,error:te}),Promise.reject(te)}return Q.auth().currentUser.linkWithCredential(ee).then(function(oe){return z({type:i.actionTypes.AUTH_LINK_SUCCESS,payload:oe}),oe}).catch(function(oe){return z({type:i.actionTypes.AUTH_LINK_ERROR,error:oe}),Promise.reject(oe)})};t.linkWithCredential=j;function N(z,Q,ee,te){if(ee({type:i.actionTypes.AUTH_LINK_START}),!te.auth().currentUser){var oe=new Error("User must be logged in to link with credential.");return ee({type:i.actionTypes.AUTH_LINK_ERROR,error:oe}),Promise.reject(oe)}return z.apply(void 0,f(Q)).then(function(ce){return ee({type:i.actionTypes.AUTH_LINK_SUCCESS,payload:ce}),ce}).catch(function(ce){return ee({type:i.actionTypes.AUTH_LINK_ERROR,error:ce}),Promise.reject(ce)})}function V(z,Q,ee){return N(Q.auth().currentUser.linkAndRetrieveDataWithCredential,[ee],z,Q)}function K(z,Q,ee){return N(Q.auth().currentUser.linkWithPopup,[ee],z,Q)}function X(z,Q,ee){return N(Q.auth().currentUser.linkWithRedirect,[ee],z,Q)}function Y(z,Q,ee,te){var oe=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{};return I(Q,z,p({phoneNumber:ee,applicationVerifier:te},oe))}})(UN);var Om={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove=a,t.unWatchEvent=i,t.unWatchEvents=s,t.watchEvent=r,t.watchEvents=o;var e=bi,n=FN();function r(u,l,f){if(!u.database||typeof u.database!="function")throw new Error("Firebase database is required to create watchers");var c=f.type,d=f.path,g=f.populates,y=f.queryParams,m=f.queryId,_=f.isQuery,p=f.storeAs,h=u._.config.logErrors,b=p?"".concat(d,"@").concat(p):d,v=m||(0,n.getQueryIdFromPath)(d),w=(0,n.getWatcherCount)(u,c,b,v);if(0<w&&v&&(0,n.unsetWatcher)(u,l,c,d,v),(0,n.setWatcher)(u,l,c,b,v),!(0<w)){if(c==="first_child")return u.database().ref().child(d).orderByKey().limitToFirst(1).once("value").then(function(T){return T.val()===null&&l({type:e.actionTypes.NO_VALUE,path:p||d}),T}).catch(function(T){return l({type:e.actionTypes.ERROR,path:p||d,payload:T}),Promise.reject(T)});var O=u.database().ref().child(d);return _&&(O=(0,n.applyParamsToQuery)(y,O)),l({type:e.actionTypes.START,path:p||d}),c==="once"?O.once("value").then(function(T){return T.val()===null?l({type:e.actionTypes.NO_VALUE,path:p||d}):g?(0,n.populateAndDispatch)(u,l,{path:d,storeAs:p,snapshot:T,data:T.val(),populates:g}):l({type:e.actionTypes.SET,path:p||d,data:T.val(),ordered:(0,n.orderedFromSnapshot)(T)})}).catch(function(T){return l({type:e.actionTypes.UNAUTHORIZED_ERROR,payload:T}),Promise.reject(T)}):void O.on(c,function(T){var E=c==="child_removed"?void 0:T.val(),k=p||c==="value"?d:"".concat(d,"/").concat(T.key);if(!g){var A=c==="child_added"?[{key:T.key,value:T.val()}]:(0,n.orderedFromSnapshot)(T);return l({type:e.actionTypes.SET,path:p||k,data:E,ordered:A})}return(0,n.populateAndDispatch)(u,l,{path:d,storeAs:p,snapshot:T,data:T.val(),populates:g})},function(T){h&&console.log("Error retrieving data for path: ".concat(d,", storeAs: ").concat(p,". Firebase:"),T),l({type:e.actionTypes.ERROR,storeAs:p,path:d,payload:T})})}}function i(u,l,f){var c=f.type,d=f.path,g=f.storeAs,y=f.queryId,m=g?"".concat(d,"@").concat(g):d;(0,n.unsetWatcher)(u,l,c,m,y)}function o(u,l,f){if(!Array.isArray(f))throw new Error("Events config must be an Array");return f.map(function(c){return r(u,l,c)})}function s(u,l,f){f==null||f.forEach(function(c){return i(u,l,c)})}function a(u,l,f){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},d=c.dispatchAction,g=u._.config.dispatchRemoveAction;return u.database().ref(f).remove().then(function(){return g&&(d===void 0||d)&&l({type:e.actionTypes.REMOVE,path:f}),f}).catch(function(y){return l({type:e.actionTypes.ERROR,payload:y}),Promise.reject(y)})}})(Om);var r2={},i2={};function qre(t){return t===void 0}var Bre=qre,Vre="Expected a function";function zre(t){if(typeof t!="function")throw new TypeError(Vre);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var o2=zre,Hre=al,Wre=yr,Gre=qN,Kre=lw;function Qre(t,e){if(t==null)return{};var n=Hre(Kre(t),function(r){return[r]});return e=Wre(e),Gre(t,n,function(r,i){return e(r,i[0])})}var Yre=Qre,Xre=yr,Zre=o2,Jre=Yre;function eie(t,e){return Jre(t,Zre(Xre(e)))}var tie=eie;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=a,t.uploadFileWithProgress=c,t.writeMetadataToDb=f;var e=i(Bre),n=i(tie),r=bi;function i(d){return d&&d.__esModule?d:{default:d}}var o=r.actionTypes.FILE_UPLOAD_ERROR,s=r.actionTypes.FILE_UPLOAD_PROGRESS;function a(d,g){var y=g.path,m=g.dbPath;return d.storage().ref(y).delete().then(function(){return!m||!d.database&&!d.firestore?{path:y}:function(){return d._.config.useFirestoreForStorageMeta?d.firestore().doc(m).delete():d.database().ref(m).remove()}().then(function(){return{path:y,dbPath:m}})})}function u(d){var g=d.fileData,y=d.firebase,m=d.uploadTaskSnapshot,_=d.downloadURL;return function(p){var h=y._.config.useFirestoreForStorageMeta,b={snapshot:p,key:p.key||p.id,File:g,metaDataSnapshot:p,uploadTaskSnapshot:m,uploadTaskSnaphot:m,createdAt:h?y.firestore.FieldValue.serverTimestamp():y.database.ServerValue.TIMESTAMP};return p.id&&(b.id=p.id),_&&(b.downloadURL=_),b}}function l(d){return d.ref&&typeof d.ref.getDownloadURL=="function"?d.ref.getDownloadURL():Promise.resolve(d.downloadURLs&&d.downloadURLs[0])}function f(d){var g=d.firebase,y=d.uploadTaskSnapshot,m=d.dbPath,_=d.options,p=g._.config,h=p.fileMetadataFactory,b=p.useFirestoreForStorageMeta,v=_.metadataFactory,w=_.documentId,O=_.useSetForMetadata,T=v||h;return l(y).then(function(E){var k=typeof T=="function"?T(y,g,y.metadata,E):(0,n.default)(y.metadata,e.default),A=u({fileData:k,firebase:g,uploadTaskSnapshot:y,downloadURL:E}),S=typeof w=="function"?w(y,g,y.metadata,E):w;return function(I){if(b){if(S){var P=g.firestore().collection(m).doc(S);return O===!1?P.update(I).then(function(){return P}):P.set(I,{merge:!0}).then(function(){return P})}return g.firestore().collection(m).add(I)}var x=g.database().ref(m).push();return x.set(I).then(function(){return x})}(k).then(A)})}function c(d,g,y){var m=y.path,_=y.file,p=y.filename,h=y.meta,b=y.fileMetadata,v=g.storage().ref("".concat(m,"/").concat(p)).put(_,b),w=v.on(g.storage.TaskEvent.STATE_CHANGED,{next:function(T){d({type:s,meta:h,payload:{snapshot:T,percent:Math.floor(100*(T.bytesTransferred/T.totalBytes))}})},error:function(T){d({type:o,meta:h,payload:T}),w()},complete:function(){w()}});return v}})(i2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=v,t.uploadFile=h,t.uploadFiles=b;var e=s(ll),n=bi,r=Pw,i=i2,o=["files"];function s(w){return w&&w.__esModule?w:{default:w}}function a(w,O){if(w==null)return{};var T,E,k=u(w,O);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(w);for(E=0;E<A.length;E++)T=A[E],0<=O.indexOf(T)||Object.prototype.propertyIsEnumerable.call(w,T)&&(k[T]=w[T])}return k}function u(w,O){if(w==null)return{};var T,E,k={},A=Object.keys(w);for(E=0;E<A.length;E++)T=A[E],0<=O.indexOf(T)||(k[T]=w[T]);return k}function l(w,O){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(w);O&&(E=E.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),T.push.apply(T,E)}return T}function f(w){for(var O,T=1;T<arguments.length;T++)O=arguments[T]==null?{}:arguments[T],T%2?l(Object(O),!0).forEach(function(E){c(w,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(O)):l(Object(O)).forEach(function(E){Object.defineProperty(w,E,Object.getOwnPropertyDescriptor(O,E))});return w}function c(w,O,T){return O in w?Object.defineProperty(w,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[O]=T,w}var d=n.actionTypes.FILE_UPLOAD_START,g=n.actionTypes.FILE_UPLOAD_ERROR,y=n.actionTypes.FILE_UPLOAD_COMPLETE,m=n.actionTypes.FILE_DELETE_START,_=n.actionTypes.FILE_DELETE_ERROR,p=n.actionTypes.FILE_DELETE_COMPLETE;function h(w,O,T){if(!O.storage)throw new Error("Firebase storage is required to upload files");var E=T||{},k=E.path,A=E.file,S=E.dbPath,R=E.options,I=R===void 0?{progress:!1}:R,P=(I||{}).metadata,x=O._.config.logErrors,D=typeof I.name=="function"?I.name(A,O,T):I.name,F=D||A.name,G=f(f({},T),{},{filename:F});return w({type:d,payload:f(f({},T),{},{filename:F})}),function(){return I.progress?(0,i.uploadFileWithProgress)(w,O,{path:k,file:A,filename:F,meta:G,fileMetadata:P}):O.storage().ref("".concat(k,"/").concat(F)).put(A,P)}().then(function(H){return S&&(O.database||O.firestore)?(0,i.writeMetadataToDb)({firebase:O,uploadTaskSnapshot:H,dbPath:S,options:I}).then(function(W){return w({type:y,meta:f(f({},T),{},{filename:F}),payload:W}),W}):(w({type:y,meta:f(f({},T),{},{filename:F}),payload:{uploadTaskSnapshot:H,uploadTaskSnaphot:H}}),{uploadTaskSnapshot:H,uploadTaskSnaphot:H})}).catch(function(H){return x&&console.error&&console.error("RRF: Error uploading file: ".concat(H.message||H),H),w({type:g,path:k,payload:H}),Promise.reject(H)})}function b(w,O,T){var E=T.files,k=a(T,o);return Promise.all((0,e.default)(E,function(A){return h(w,O,f({file:A},k))}))}function v(w,O,T){var E=T.path,k=T.dbPath;return(0,r.wrapInDispatch)(w,{method:i.deleteFile,args:[O,{path:E,dbPath:k}],types:[m,p,_]})}})(r2);(function(t){function e(h){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=_,t.getFirebase=p;var n=c(Sw),r=c(Pt),i=wi(),o=Pw,s=f(UN),a=f(Om),u=f(r2);function l(h){if(typeof WeakMap!="function")return null;var b=new WeakMap,v=new WeakMap;return(l=function(w){return w?v:b})(h)}function f(h,b){if(!b&&h&&h.__esModule)return h;if(h===null||e(h)!=="object"&&typeof h!="function")return{default:h};var v=l(b);if(v&&v.has(h))return v.get(h);var w={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in h)if(T!="default"&&Object.prototype.hasOwnProperty.call(h,T)){var E=O?Object.getOwnPropertyDescriptor(h,T):null;E&&(E.get||E.set)?Object.defineProperty(w,T,E):w[T]=h[T]}return w.default=h,v&&v.set(h,w),w}function c(h){return h&&h.__esModule?h:{default:h}}function d(h,b){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(h);b&&(w=w.filter(function(O){return Object.getOwnPropertyDescriptor(h,O).enumerable})),v.push.apply(v,w)}return v}function g(h){for(var b,v=1;v<arguments.length;v++)b=arguments[v]==null?{}:arguments[v],v%2?d(Object(b),!0).forEach(function(w){y(h,w,b[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):d(Object(b)).forEach(function(w){Object.defineProperty(h,w,Object.getOwnPropertyDescriptor(b,w))});return h}function y(h,b,v){return b in h?Object.defineProperty(h,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[b]=v,h}var m;function _(h,b,v){b&&b.enableLogging&&h.database&&typeof h.database.enableLogging=="function"&&(console.warn("The enableLogging config option is disabled and will be removed in a future version of react-redux-firebase. Enable logging as part of instance initialization."),h.database.enableLogging(b.enableLogging)),h._=(0,n.default)({watchers:{},listeners:{},callbacks:{},queries:{},config:b,authUid:null},h._);var w=function(T,E,k,A){if((0,r.default)(k)){var S=T==="update"?"updated":"created",R=g(g({},k),{},y({},"".concat(S,"At"),h.database.ServerValue.TIMESTAMP));return h.auth().currentUser&&(R["".concat(S,"By")]=h.auth().currentUser.uid),h.database().ref(E)[T](R,A)}return h.database().ref(E)[T](k,A)},O=(0,o.mapWithFirebaseAndDispatch)(h,v,{signInWithPhoneNumber:s.signInWithPhoneNumber},{initializeAuth:s.init});return m=Object.assign(h,g({_reactReduxFirebaseExtended:!0,ref:function(E){return h.database().ref(E)},set:function(E,k,A){return h.database().ref(E).set(k,A)},setWithMeta:function(E,k,A){return w("set",E,k,A)},uniqueSet:function(E,k,A){return h.database().ref(E).transaction(function(S){return S===null?k:void 0}).then(function(S){var R=S.committed,I=S.snapshot;if(!R){var P=new Error("Path already exists.");return A&&A(P),Promise.reject(P)}return A&&A(I),I})},push:function(E,k,A){return h.database().ref(E).push(k,A)},pushWithMeta:function(E,k,A){return w("push",E,k,A)},remove:function(E,k,A){return a.remove(h,v,E,A).then(function(){return typeof k=="function"&&k(),E})},update:function(E,k,A){return h.database().ref(E).update(k,A)},updateWithMeta:function(E,k,A){return w("update",E,k,A)},login:function(E){return s.login(v,h,E)},reauthenticate:function(E){return s.reauthenticate(v,h,E)},handleRedirectResult:function(E){return s.handleRedirectResult(v,h,E)},logout:function(){return s.logout(v,h)},updateAuth:function(E,k){return s.updateAuth(v,h,E,k)},updateEmail:function(E,k){return s.updateEmail(v,h,E,k)},updateProfile:function(E,k){return s.updateProfile(v,h,E,k)},uploadFile:function(E,k,A,S){return u.uploadFile(v,h,{path:E,file:k,dbPath:A,options:S})},uploadFiles:function(E,k,A,S){return u.uploadFiles(v,h,{path:E,files:k,dbPath:A,options:S})},deleteFile:function(E,k){return u.deleteFile(v,h,{path:E,dbPath:k})},createUser:function(E,k){return s.createUser(v,h,E,k)},resetPassword:function(E){return s.resetPassword(v,h,E)},confirmPasswordReset:function(E,k){return s.confirmPasswordReset(v,h,E,k)},verifyPasswordResetCode:function(E){return s.verifyPasswordResetCode(v,h,E)},applyActionCode:function(E){return s.applyActionCode(v,h,E)},watchEvent:function(E,k,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};return a.watchEvent(h,v,g({type:E,path:k,storeAs:A},S))},unWatchEvent:function(E,k,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};return a.unWatchEvent(h,v,g({type:E,path:k,queryId:A},S))},reloadAuth:function(){return s.reloadAuth(v,h)},linkWithCredential:function(E){return s.linkWithCredential(v,h,E)},promiseEvents:function(E,k){var A=(0,i.createCallable)(E),S=A(k,h),R=(0,i.getEventsFromInput)(S);return Promise.all(R.map(function(I){return a.watchEvent(h,v,I)}))},dispatch:v},O)),m}function p(){if(!m)throw new Error("Firebase instance does not yet exist. Check your compose function.");return m}})(Zg);var k1={exports:{}},Yf={exports:{}},nie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rie=nie,iie=rie;function s2(){}function a2(){}a2.resetWarningCache=s2;var oie=function(){function t(r,i,o,s,a,u){if(u!==iie){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a2,resetWarningCache:s2};return n.PropTypes=n,n};Yf.exports=oie();var Hi={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=ye.exports,r=(0,n.createContext)(null),i=r;e.default=i,t.exports=e.default})(Hi,Hi.exports);var wp={exports:{}},ta={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=ye.exports,r=(0,n.createContext)(null),i=r;e.default=i,t.exports=e.default})(ta,ta.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(ye.exports),r=s(Yf.exports),i=s(ta.exports),o=s(Zg);function s(l){return l&&l.__esModule?l:{default:l}}function a(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=l.children,c=l.config,d=l.dispatch,g=l.firebase,y=l.createFirestoreInstance,m=l.initializeAuth,_=n.default.useMemo(function(){var p=g._reactReduxFirebaseExtended?g:(0,o.default)(g,c,d),h=y(g,c,d);return m&&p.initializeAuth(),h},[g,c,d,y,m]);return n.default.createElement(i.default.Provider,{value:_},f)}a.defaultProps={initializeAuth:!0},a.propTypes={children:r.default.node,config:r.default.object.isRequired,dispatch:r.default.func.isRequired,createFirestoreInstance:r.default.func.isRequired,initializeAuth:r.default.bool,firebase:r.default.object.isRequired};var u=a;e.default=u,t.exports=e.default})(wp,wp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(ye.exports),r=a(Yf.exports),i=a(Zg),o=a(Hi.exports),s=a(wp.exports);function a(c){return c&&c.__esModule?c:{default:c}}function u(){return u=Object.assign||function(c){for(var d,g=1;g<arguments.length;g++)for(var y in d=arguments[g],d)Object.prototype.hasOwnProperty.call(d,y)&&(c[y]=d[y]);return c},u.apply(this,arguments)}function l(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=c.children,g=c.config,y=c.dispatch,m=c.firebase,_=c.initializeAuth,p=c.createFirestoreInstance,h=n.default.useMemo(function(){var b=(0,i.default)(m,g,y);return _&&b.initializeAuth(),b},[m,g,y]);return p?n.default.createElement(o.default.Provider,{value:h},n.default.createElement(s.default,u({},c,{initializeAuth:!1}),d)):n.default.createElement(o.default.Provider,{value:h},d)}l.defaultProps={initializeAuth:!0},l.propTypes={children:r.default.node,config:r.default.object.isRequired,dispatch:r.default.func.isRequired,firebase:r.default.object.isRequired,initializeAuth:r.default.bool,createFirestoreInstance:r.default.func};var f=l;e.default=f,t.exports=e.default})(k1,k1.exports);var x1={exports:{}};function sie(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var u2=sie,aie=hw,uie=Jb,lie=u2,cie=al,fie=om,die=pw,hie=200;function pie(t,e,n,r){var i=-1,o=uie,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=cie(e,fie(n))),r?(o=lie,s=!1):e.length>=hie&&(o=die,s=!1,e=new aie(e));e:for(;++i<a;){var f=t[i],c=n==null?f:n(f);if(f=r||f!==0?f:0,s&&c===c){for(var d=l;d--;)if(e[d]===c)continue e;u.push(f)}else o(e,c,r)||u.push(f)}return u}var gie=pie,mie=gie,yie=gm,vie=ym,kv=ww,_ie=Iw,bie=vie(function(t,e){var n=_ie(e);return kv(n)&&(n=void 0),kv(t)?mie(t,yie(e,1,kv,!0),void 0,n):[]}),l2=bie;(function(t,e){function n(I){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},n(I)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=R;var r=g(l2),i=g(Sa),o=d(ye.exports),s=g(Yf.exports),a=g(Uf),u=Om,l=wi(),f=g(Hi.exports);function c(I){if(typeof WeakMap!="function")return null;var P=new WeakMap,x=new WeakMap;return(c=function(D){return D?x:P})(I)}function d(I,P){if(!P&&I&&I.__esModule)return I;if(I===null||n(I)!=="object"&&typeof I!="function")return{default:I};var x=c(P);if(x&&x.has(I))return x.get(I);var D={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!="default"&&Object.prototype.hasOwnProperty.call(I,G)){var H=F?Object.getOwnPropertyDescriptor(I,G):null;H&&(H.get||H.set)?Object.defineProperty(D,G,H):D[G]=I[G]}return D.default=I,x&&x.set(I,D),D}function g(I){return I&&I.__esModule?I:{default:I}}function y(){return y=Object.assign||function(I){for(var P,x=1;x<arguments.length;x++)for(var D in P=arguments[x],P)Object.prototype.hasOwnProperty.call(P,D)&&(I[D]=P[D]);return I},y.apply(this,arguments)}function m(I,P){var x=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);P&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(I,F).enumerable})),x.push.apply(x,D)}return x}function _(I){for(var P,x=1;x<arguments.length;x++)P=arguments[x]==null?{}:arguments[x],x%2?m(Object(P),!0).forEach(function(D){S(I,D,P[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(P)):m(Object(P)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(P,D))});return I}function p(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function h(I,P){for(var x,D=0;D<P.length;D++)x=P[D],x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(I,x.key,x)}function b(I,P,x){return P&&h(I.prototype,P),x&&h(I,x),I}function v(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),P&&w(I,P)}function w(I,P){return w=Object.setPrototypeOf||function(x,D){return x.__proto__=D,x},w(I,P)}function O(I){var P=k();return function(){var x,D=A(I);if(P){var F=A(this).constructor;x=Reflect.construct(D,arguments,F)}else x=D.apply(this,arguments);return T(this,x)}}function T(I,P){if(P&&(n(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(I)}function E(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(I){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},A(I)}function S(I,P,x){return P in I?Object.defineProperty(I,P,{value:x,enumerable:!0,configurable:!0,writable:!0}):I[P]=x,I}function R(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return function(P){function x(F){return o.default.createElement(f.default.Consumer,null,function(G){return o.default.createElement(D,y({},F,{dispatch:G.dispatch,firebase:G}))})}var D=function(F){function G(){var W;p(this,G);for(var M=arguments.length,U=Array(M),q=0;q<M;q++)U[q]=arguments[q];return W=H.call.apply(H,[this].concat(U)),S(E(W),"firebaseEvents",[]),S(E(W),"firebase",null),S(E(W),"prevData",null),W}v(G,F);var H=O(G);return b(G,[{key:"componentDidMount",value:function(){var M=this.props,U=M.firebase,q=M.dispatch,$=(0,l.createCallable)(I);this.prevData=$(this.props,this.props);var j=U.ref,N=U.helpers,V=U.storage,K=U.database,X=U.auth;this.firebase=_({ref:j,storage:V,database:K,auth:X},N),this._firebaseEvents=(0,l.getEventsFromInput)(this.prevData),(0,u.watchEvents)(U,q,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var M=this.props,U=M.firebase,q=M.dispatch;(0,u.unWatchEvents)(U,q,this._firebaseEvents)}},{key:"UNSAFE_componentWillReceiveProps",value:function(M){var U=this.props,q=U.firebase,$=U.dispatch,j=(0,l.createCallable)(I),N=j(M,this.store);if(!(0,i.default)(N,this.prevData)){var V=(0,r.default)(N,this.prevData,i.default),K=(0,r.default)(this.prevData,N,i.default);this.prevData=N,(0,u.unWatchEvents)(q,$,(0,l.getEventsFromInput)(K)),this._firebaseEvents=(0,l.getEventsFromInput)(N),(0,u.watchEvents)(q,$,(0,l.getEventsFromInput)(V))}}},{key:"render",value:function(){return o.default.createElement(P,this.props)}}]),G}(o.Component);return S(D,"displayName",(0,l.wrapDisplayName)(P,"FirebaseConnectWrapped")),S(D,"wrappedComponent",P),D.propTypes={dispatch:s.default.func.isRequired,firebase:s.default.object.isRequired},x.displayName=(0,l.wrapDisplayName)(P,"FirebaseConnect"),x.wrappedComponent=P,(0,a.default)(x,P)}}t.exports=e.default})(x1,x1.exports);var R1={exports:{}};(function(t,e){function n(A){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(A)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var r=d(Sa),i=c(ye.exports),o=d(Yf.exports),s=d(Uf),a=wi(),u=d(ta.exports),l=d(Hi.exports);function f(A){if(typeof WeakMap!="function")return null;var S=new WeakMap,R=new WeakMap;return(f=function(I){return I?R:S})(A)}function c(A,S){if(!S&&A&&A.__esModule)return A;if(A===null||n(A)!=="object"&&typeof A!="function")return{default:A};var R=f(S);if(R&&R.has(A))return R.get(A);var I={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in A)if(x!="default"&&Object.prototype.hasOwnProperty.call(A,x)){var D=P?Object.getOwnPropertyDescriptor(A,x):null;D&&(D.get||D.set)?Object.defineProperty(I,x,D):I[x]=A[x]}return I.default=A,R&&R.set(A,I),I}function d(A){return A&&A.__esModule?A:{default:A}}function g(){return g=Object.assign||function(A){for(var S,R=1;R<arguments.length;R++)for(var I in S=arguments[R],S)Object.prototype.hasOwnProperty.call(S,I)&&(A[I]=S[I]);return A},g.apply(this,arguments)}function y(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function m(A,S){for(var R,I=0;I<S.length;I++)R=S[I],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}function _(A,S,R){return S&&m(A.prototype,S),R&&m(A,R),A}function p(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),S&&h(A,S)}function h(A,S){return h=Object.setPrototypeOf||function(R,I){return R.__proto__=I,R},h(A,S)}function b(A){var S=O();return function(){var R,I=T(A);if(S){var P=T(this).constructor;R=Reflect.construct(I,arguments,P)}else R=I.apply(this,arguments);return v(this,R)}}function v(A,S){if(S&&(n(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(A)}function w(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(A){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},T(A)}function E(A,S,R){return S in A?Object.defineProperty(A,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[S]=R,A}function k(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return function(S){function R(P){return i.default.createElement(l.default.Consumer,null,function(x){return i.default.createElement(u.default.Consumer,null,function(D){return i.default.createElement(I,g({},P,{dispatch:x.dispatch,firestore:D,firebase:x}))})})}var I=function(P){function x(){var F;y(this,x);for(var G=arguments.length,H=Array(G),W=0;W<G;W++)H[W]=arguments[W];return F=D.call.apply(D,[this].concat(H)),E(w(F),"prevData",null),F}p(x,P);var D=b(x);return _(x,[{key:"firestoreIsEnabled",get:function(){return!!this.props.firestore}},{key:"componentDidMount",value:function(){if(this.firestoreIsEnabled){var G=(0,a.createCallable)(A);this.prevData=G(this.props,this.props),this.props.firestore.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){this.firestoreIsEnabled&&this.prevData&&this.props.firestore.unsetListeners(this.prevData)}},{key:"UNSAFE_componentWillReceiveProps",value:function(G){var H=this.props.firestore,W=(0,a.createCallable)(A),M=W(G,this.props);if(this.firestoreIsEnabled&&!(0,r.default)(M,this.prevData)){var U=(0,a.getChanges)(M,this.prevData);this.prevData=M,H.unsetListeners(U.removed),H.setListeners(U.added)}}},{key:"render",value:function(){return i.default.createElement(S,this.props)}}]),x}(i.Component);return E(I,"wrappedComponent",S),E(I,"displayName",(0,a.wrapDisplayName)(S,"FirestoreConnectWrapped")),I.propTypes={dispatch:o.default.func.isRequired,firebase:o.default.object,firestore:o.default.object},R.displayName=(0,a.wrapDisplayName)(S,"FirestoreConnect"),R.wrappedComponent=S,(0,s.default)(R,S)}}t.exports=e.default})(R1,R1.exports);var P1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=s(ye.exports),r=s(Uf),i=wi(),o=s(Hi.exports);function s(l){return l&&l.__esModule?l:{default:l}}function a(){return a=Object.assign||function(l){for(var f,c=1;c<arguments.length;c++)for(var d in f=arguments[c],f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d]);return l},a.apply(this,arguments)}function u(l){function f(c){return n.default.createElement(o.default.Consumer,null,function(d){return n.default.createElement(l,a({firebase:d,dispatch:d&&d.dispatch},c))})}return f.displayName=(0,i.wrapDisplayName)(l,"withFirebase"),f.wrappedComponent=l,(0,r.default)(f,l)}t.exports=e.default})(P1,P1.exports);var C1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=a(ye.exports),r=a(Uf),i=wi(),o=a(Hi.exports),s=a(ta.exports);function a(f){return f&&f.__esModule?f:{default:f}}function u(){return u=Object.assign||function(f){for(var c,d=1;d<arguments.length;d++)for(var g in c=arguments[d],c)Object.prototype.hasOwnProperty.call(c,g)&&(f[g]=c[g]);return f},u.apply(this,arguments)}function l(f){function c(d){return n.default.createElement(o.default.Consumer,null,function(g){return n.default.createElement(s.default.Consumer,null,function(y){return n.default.createElement(f,u({firestore:y,firebase:g,dispatch:g.dispatch},d))})})}return c.displayName=(0,i.wrapDisplayName)(f,"withFirestore"),c.wrappedComponent=f,(0,r.default)(c,f)}t.exports=e.default})(C1,C1.exports);var N1={exports:{}},Ep={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=ye.exports,r=i(Hi.exports);function i(s){return s&&s.__esModule?s:{default:s}}function o(){return(0,n.useContext)(r.default)}t.exports=e.default})(Ep,Ep.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=u(l2),r=u(Sa),i=ye.exports,o=Om,s=wi(),a=u(Ep.exports);function u(f){return f&&f.__esModule?f:{default:f}}function l(f){var c=(0,a.default)(),d=(0,i.useRef)(),g=(0,i.useRef)(),y=(0,i.useMemo)(function(){return(0,s.invokeArrayQuery)(f)},[f]);(0,i.useEffect)(function(){if(y!==null&&!(0,r.default)(y,g.current)){var m=(0,n.default)(y,g.current,r.default),_=(0,n.default)(g.current,y,r.default);g.current=y,(0,o.unWatchEvents)(c,c.dispatch,(0,s.getEventsFromInput)(_)),d.current=(0,s.getEventsFromInput)(y),(0,o.watchEvents)(c,c.dispatch,(0,s.getEventsFromInput)(m))}},[y]),(0,i.useEffect)(function(){return function(){(0,o.unWatchEvents)(c,c.dispatch,d.current)}},[])}t.exports=e.default})(N1,N1.exports);var D1={exports:{}},Op={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=ye.exports,r=i(ta.exports);function i(s){return s&&s.__esModule?s:{default:s}}function o(){return(0,n.useContext)(r.default)}t.exports=e.default})(Op,Op.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=s(Sa),r=ye.exports,i=wi(),o=s(Op.exports);function s(u){return u&&u.__esModule?u:{default:u}}function a(u){var l=(0,o.default)(),f=!!l,c=(0,r.useRef)(),d=(0,r.useMemo)(function(){return(0,i.invokeArrayQuery)(u)},[u]);(0,r.useEffect)(function(){if(f&&!(0,n.default)(d,c.current)){var g=(0,i.getChanges)(d,c.current);c.current=d,l.unsetListeners(g.removed),l.setListeners(g.added)}},[d]),(0,r.useEffect)(function(){return function(){f&&c.current&&l.unsetListeners(c.current)}},[])}t.exports=e.default})(D1,D1.exports);var L1={exports:{}},c2={},xv,GA;function wie(){if(GA)return xv;GA=1;var t=im,e=ba,n=Tw,r=Zi,i=Gf,o=tl,s=Object.prototype,a=s.hasOwnProperty,u=n(function(l,f){if(i(f)||r(f)){e(f,o(f),l);return}for(var c in f)a.call(f,c)&&t(l,c,f[c])});return xv=u,xv}var Eie=mm,f2=Eie("assign",wie());f2.placeholder=qf();var Oie=f2,Rv,KA;function Tie(){if(KA)return Rv;KA=1;var t=Rw;function e(n,r,i,o){return o=typeof o=="function"?o:void 0,n==null?n:t(n,r,i,o)}return Rv=e,Rv}var Sie=mm,d2=Sie("setWith",Tie());d2.placeholder=qf();var h2=d2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.authErrorReducer=X,t.authReducer=K,t.dataReducer=void 0,t.errorsReducer=z,t.isInitializingReducer=q,t.orderedReducer=t.listenersReducer=void 0,t.profileReducer=Y,t.requestedReducer=j,t.requestingReducer=$,t.timestampsReducer=N;var e=l(Oie),n=l(h2),r=l(Pt),i=l(_i),o=l(wm),s=l(bm),a=bi,u=Em;function l(ie){return ie&&ie.__esModule?ie:{default:ie}}function f(ie){return y(ie)||g(ie)||d(ie)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(ie,J){if(ie){if(typeof ie=="string")return m(ie,J);var re=Object.prototype.toString.call(ie).slice(8,-1);return re==="Object"&&ie.constructor&&(re=ie.constructor.name),re==="Map"||re==="Set"?Array.from(ie):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?m(ie,J):void 0}}function g(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}function y(ie){if(Array.isArray(ie))return m(ie)}function m(ie,J){(J==null||J>ie.length)&&(J=ie.length);for(var re=0,ue=Array(J);re<J;re++)ue[re]=ie[re];return ue}function _(ie,J){var re=Object.keys(ie);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(ie);J&&(ue=ue.filter(function(he){return Object.getOwnPropertyDescriptor(ie,he).enumerable})),re.push.apply(re,ue)}return re}function p(ie){for(var J,re=1;re<arguments.length;re++)J=arguments[re]==null?{}:arguments[re],re%2?_(Object(J),!0).forEach(function(ue){h(ie,ue,J[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(J)):_(Object(J)).forEach(function(ue){Object.defineProperty(ie,ue,Object.getOwnPropertyDescriptor(J,ue))});return ie}function h(ie,J,re){return J in ie?Object.defineProperty(ie,J,{value:re,enumerable:!0,configurable:!0,writable:!0}):ie[J]=re,ie}var b=a.actionTypes.START,v=a.actionTypes.SET,w=a.actionTypes.SET_PROFILE,O=a.actionTypes.MERGE,T=a.actionTypes.LOGIN,E=a.actionTypes.LOGOUT,k=a.actionTypes.LOGIN_ERROR,A=a.actionTypes.CLEAR_ERRORS,S=a.actionTypes.REMOVE,R=a.actionTypes.NO_VALUE,I=a.actionTypes.SET_LISTENER,P=a.actionTypes.UNSET_LISTENER,x=a.actionTypes.AUTHENTICATION_INIT_STARTED,D=a.actionTypes.AUTHENTICATION_INIT_FINISHED,F=a.actionTypes.AUTH_EMPTY_CHANGE,G=a.actionTypes.AUTH_LINK_SUCCESS,H=a.actionTypes.UNAUTHORIZED_ERROR,W=a.actionTypes.AUTH_UPDATE_SUCCESS,M=a.actionTypes.AUTH_RELOAD_SUCCESS,U=a.actionTypes.PROFILE_UPDATE_SUCCESS;function q(){var ie=0<arguments.length&&arguments[0]!==void 0&&arguments[0],J=1<arguments.length?arguments[1]:void 0;switch(J.type){case x:return!0;case D:return!1;default:return ie}}function $(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},J=1<arguments.length?arguments[1]:void 0,re=J.type,ue=J.path;return re===b?p(p({},ie),{},h({},(0,u.getSlashStrPath)(ue),!0)):re===R||re===v?p(p({},ie),{},h({},(0,u.getSlashStrPath)(ue),!1)):ie}function j(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},J=1<arguments.length?arguments[1]:void 0,re=J.type,ue=J.path;return re===b?p(p({},ie),{},h({},(0,u.getSlashStrPath)(ue),!1)):re===R||re===v?p(p({},ie),{},h({},(0,u.getSlashStrPath)(ue),!0)):ie}function N(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},J=1<arguments.length?arguments[1]:void 0,re=J.type,ue=J.path;return re===b||re===R||re===v?p(p({},ie),{},h({},(0,u.getSlashStrPath)(ue),Date.now())):ie}function V(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"data";return function(){var J=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},re=1<arguments.length?arguments[1]:void 0;switch(re.type){case v:return(0,n.default)(Object,(0,u.getDotStrPath)(re.path),re[ie],J);case O:var ue=(0,i.default)(J,(0,u.getDotStrPath)(re.path),{}),he=(0,e.default)(ue,re[ie]);return(0,n.default)(Object,(0,u.getDotStrPath)(re.path),he,J);case R:return(0,n.default)(Object,(0,u.getDotStrPath)(re.path),null,J);case S:return ie==="data"?(0,u.recursiveUnset)((0,u.getDotStrPath)(re.path),J):J;case E:if(re.preserve){if(Array.isArray(re.preserve))return(0,s.default)(J,re.preserve);if((0,r.default)(re.preserve))return re.preserve[ie]?(0,u.preserveValuesFromState)(J,re.preserve[ie],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return J}}}function K(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoaded:!1,isEmpty:!0},J=1<arguments.length?arguments[1]:void 0;switch(J.type){case T:case W:if(!J.auth)return{isEmpty:!0,isLoaded:!0};var re=J.auth.toJSON?J.auth.toJSON():J.auth;return J.preserve&&J.preserve.auth?(0,u.preserveValuesFromState)(ie,J.preserve.auth,p(p({},re),{},{isEmpty:!1,isLoaded:!0})):p(p({},re),{},{isEmpty:!1,isLoaded:!0});case G:case M:return J.payload?p(p({},J.payload.toJSON?J.payload.toJSON():J.payload),{},{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case k:case F:case E:return J.reauthenticate?(0,u.preserveValuesFromState)(ie,!0,{}):J.preserve&&J.preserve.auth?(0,u.preserveValuesFromState)(ie,J.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return ie}}function X(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,J=1<arguments.length?arguments[1]:void 0;switch(J.type){case T:case E:return null;case k:case H:return J.authError;default:return ie}}function Y(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoaded:!1,isEmpty:!0},J=1<arguments.length?arguments[1]:void 0;switch(J.type){case w:return J.profile?p(p({},J.profile),{},{isEmpty:!1,isLoaded:!0}):p(p({},ie),{},{isEmpty:!0,isLoaded:!0});case U:return Object.assign({},ie,J.payload);case T:return J.preserve&&J.preserve.profile?(0,u.preserveValuesFromState)(ie,J.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case E:case F:return J.preserve&&J.preserve.profile?(0,u.preserveValuesFromState)(ie,J.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return ie}}function z(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],J=1<arguments.length?arguments[1]:void 0;switch(J.type){case k:case H:if(!Array.isArray(ie))throw new Error("Errors state must be an array");return[].concat(f(ie),[J.authError]);case E:case A:if(J.preserve&&J.preserve.errors){if(typeof J.preserve.errors!="function")throw new Error("Preserve for the errors state currently only supports functions");return ie.filter(J.preserve.errors)}return[];default:return ie}}function Q(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},J=1<arguments.length?arguments[1]:void 0,re=J.type,ue=J.path,he=J.payload;return re===I?p(p({},ie),{},h({},he.id,{id:he.id,path:ue})):re===P?(0,o.default)(ie,[he.id]):ie}function ee(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],J=1<arguments.length?arguments[1]:void 0,re=J.type;J.path;var ue=J.payload;return re===I?[].concat(f(ie),[ue.id]):re===P?ie.filter(function(he){return he!==ue.id}):ie}var te=(0,u.combineReducers)({byId:Q,allIds:ee});t.listenersReducer=te;var oe=V();t.dataReducer=oe;var ce=V("ordered");t.orderedReducer=ce})(c2);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Em,r=c2,i=(0,n.combineReducers)({requesting:r.requestingReducer,requested:r.requestedReducer,timestamps:r.timestampsReducer,data:r.dataReducer,ordered:r.orderedReducer,auth:r.authReducer,authError:r.authErrorReducer,profile:r.profileReducer,listeners:r.listenersReducer,isInitializing:r.isInitializingReducer,errors:r.errorsReducer});e.default=i,t.exports=e.default})(L1,L1.exports);(function(t,e){function n(S){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=O(Zg),i=v(k1.exports),o=v(Hi.exports),s=v(wp.exports),a=v(ta.exports),u=v(x1.exports),l=v(R1.exports),f=v(P1.exports),c=v(C1.exports),d=v(N1.exports),g=v(D1.exports),y=v(Ep.exports),m=v(Op.exports),_=v(L1.exports),p=O(bi),h=$w,b=O(Nw);function v(S){return S&&S.__esModule?S:{default:S}}function w(S){if(typeof WeakMap!="function")return null;var R=new WeakMap,I=new WeakMap;return(w=function(P){return P?I:R})(S)}function O(S,R){if(!R&&S&&S.__esModule)return S;if(S===null||n(S)!=="object"&&typeof S!="function")return{default:S};var I=w(R);if(I&&I.has(S))return I.get(S);var P={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in S)if(D!="default"&&Object.prototype.hasOwnProperty.call(S,D)){var F=x?Object.getOwnPropertyDescriptor(S,D):null;F&&(F.get||F.set)?Object.defineProperty(P,D,F):P[D]=S[D]}return P.default=S,I&&I.set(S,P),P}function T(S,R){var I=Object.keys(S);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(S);R&&(P=P.filter(function(x){return Object.getOwnPropertyDescriptor(S,x).enumerable})),I.push.apply(I,P)}return I}function E(S){for(var R,I=1;I<arguments.length;I++)R=arguments[I]==null?{}:arguments[I],I%2?T(Object(R),!0).forEach(function(P){k(S,P,R[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):T(Object(R)).forEach(function(P){Object.defineProperty(S,P,Object.getOwnPropertyDescriptor(R,P))});return S}function k(S,R,I){return R in S?Object.defineProperty(S,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):S[R]=I,S}var A=E({ReactReduxFirebaseProvider:i.default,ReactReduxFirebaseContext:o.default,ReduxFirestoreContext:a.default,ReduxFirestoreProvider:s.default,createFirebaseInstance:r.default,firebaseConnect:u.default,firestoreConnect:l.default,withFirebase:f.default,withFirestore:c.default,useFirebase:y.default,useFirebaseConnect:d.default,useFirestore:m.default,useFirestoreConnect:g.default,reducer:_.default,firebaseReducer:_.default,constants:p.default,actionTypes:p.actionTypes,getFirebase:r.getFirebase,authIsReady:h.authIsReady},b);e.default=A,t.exports=e.default})(Wt,Wt.exports);var p2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QA=Bo.createContext&&Bo.createContext(p2),$o=globalThis&&globalThis.__assign||function(){return $o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$o.apply(this,arguments)},Aie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function g2(t){return t&&t.map(function(e,n){return Bo.createElement(e.tag,$o({key:n},e.attr),g2(e.child))})}function Xf(t){return function(e){return fe(Iie,{...$o({attr:$o({},t.attr)},e),children:g2(t.child)})}}function Iie(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=Aie(t,["attr","size","title"]),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),$e("svg",{...$o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:$o($o({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[o&&fe("title",{children:o}),t.children]})};return QA!==void 0?fe(QA.Consumer,{children:function(n){return e(n)}}):e(p2)}function kie(t){return Xf({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]})(t)}function m2(t){return Xf({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 0 0 0 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM699 387c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"}}]})(t)}function xie(t){return Xf({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"}}]})(t)}function Rie(t){return Xf({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 16 5-4-5-4v3H4v2h9z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(t)}function Pie(t){return Xf({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(t)}function Cie(){const t=Wt.exports.useFirebase(),e=er(o=>o.firebase.auth),n=os(),r=()=>{t.login({provider:"github",type:"popup"})},i=ye.exports.useCallback(()=>{t.logout(),n("/")},[]);return $e("div",{className:"flex flex-col justify-center w-full",children:[Wt.exports.isLoaded(e)&&!Wt.exports.isEmpty(e)?fe(Dn,{children:$e("div",{className:"flex flex-row justify-start items-center px-5 pb-6 border border-b-gray-300 border-t-transparent border-x-transparent",children:[fe("span",{className:"flex justify-center items-center mb-[10px] text-2xl font-bold tracking-tighter select-none text-gray-300 mr-6",children:fe("img",{className:"w-[50px] h-[50px] rounded-[8px]",src:e.photoURL,alt:""})}),fe("button",{className:"text-white text-3xl",onClick:i,children:fe(Pie,{})})]})}):fe(Dn,{children:$e("button",{className:"components-overview-btn",onClick:r,children:[fe("i",{children:fe(Rie,{})}),fe("span",{children:"Log In"})]})}),$e("button",{className:"components-overview-btn",onClick:()=>n("/"),children:[fe("i",{children:fe(kie,{})}),fe("span",{children:"Home"})]}),$e("button",{onClick:()=>n("/tags"),className:"components-overview-btn",children:[fe("i",{children:fe(m2,{})}),fe("span",{children:"Tags"})]}),e.uid==="bTqxBsgmsRScCGs1RN37zr99MfH3"&&$e("button",{className:"components-overview-btn",onClick:()=>n("/write"),children:[fe("i",{children:fe(xie,{})}),fe("span",{children:"\uAE00\uC4F0\uAE30"})]})]})}function Nie(){const[t,e]=ye.exports.useState(""),n=os(),r=Wt.exports.useFirestore();Wt.exports.useFirestoreConnect(["categorys","write"]);const i=er(l=>l.firestore.data.categorys),o=er(l=>l.firestore.data.write),s=er(l=>l.firebase.auth),a=ye.exports.useCallback(l=>{e(l.target.value)},[]),u=l=>{l.preventDefault(),r.collection("categorys").doc(t).set({CheckUndefined:""}),e("")};return $e("div",{className:"flex flex-col justify-center items-center w-full",children:[s.uid==="bTqxBsgmsRScCGs1RN37zr99MfH3"&&fe("div",{className:"mb-12 w-full px-3.5",children:$e("form",{className:"flex flex-row justify-start items-center",onSubmit:u,children:[fe("i",{className:"text-white text-2xl mr-5",children:fe(m2,{})}),fe("input",{className:"flex items-center w-full pt-1 pb-1.5 bg-transparent text-white border-x-transparent border-y-transparent border-b-white focus:border",onChange:a,value:t,type:"text",placeholder:"\uCD94\uAC00\uD560 \uD0DC\uADF8\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694",required:!0})]})}),fe("div",{className:"w-full",children:i&&Object.keys(i).filter(l=>{var f;return((f=i[l])==null?void 0:f.CheckUndefined)!==void 0}).map((l,f)=>$e("details",{id:"details",children:[$e("summary",{children:[fe("span",{title:l,className:"mr-6",children:l.slice(0,17)}),s.uid==="bTqxBsgmsRScCGs1RN37zr99MfH3"&&fe("button",{className:"border border-2 border-gray-400 text-xs rounded-[2px] px-1.5 font-bold",onClick:()=>{window.confirm("\uD0DC\uADF8\uB97C \uC0AD\uC81C\uD569\uB2C8\uB2E4.")&&r.doc(`categorys/${l}`).delete()},children:"X"})]}),o&&Object.keys(o).filter(c=>{var d;return((d=o[c])==null?void 0:d.categoryName)===l}).sort(function(c,d){return o[d].createdAt-o[c].createdAt}).map((c,d)=>fe("div",{className:"w-[300px]",title:o[c].info.title,onClick:()=>n(`/detail/${c}`),children:fe("span",{children:o[c].info.title})},d))]},f))})]})}function Die(){return $e("div",{id:"menu-scroll",className:"fixed flex flex-col items-start w-[340px] h-full overflow-y-scroll bg-[#141514]",children:[fe("div",{className:"mx-auto mt-10 w-full",children:fe(Cie,{})}),fe("div",{className:"mx-auto mt-10 w-full",children:fe(Nie,{})})]})}let Yd;const Lie=new Uint8Array(16);function $ie(){if(!Yd&&(Yd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yd(Lie)}const nn=[];for(let t=0;t<256;++t)nn.push((t+256).toString(16).slice(1));function Mie(t,e=0){return(nn[t[e+0]]+nn[t[e+1]]+nn[t[e+2]]+nn[t[e+3]]+"-"+nn[t[e+4]]+nn[t[e+5]]+"-"+nn[t[e+6]]+nn[t[e+7]]+"-"+nn[t[e+8]]+nn[t[e+9]]+"-"+nn[t[e+10]]+nn[t[e+11]]+nn[t[e+12]]+nn[t[e+13]]+nn[t[e+14]]+nn[t[e+15]]).toLowerCase()}const jie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YA={randomUUID:jie};function Fie(t,e,n){if(YA.randomUUID&&!e&&!t)return YA.randomUUID();t=t||{};const r=t.random||(t.rng||$ie)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Mie(r)}var y2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Wn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),u=i(45),l=i(46),f=i(47),c=i(48),d=i(49),g=i(12),y=i(32),m=i(33),_=i(31),p=i(1),h={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:c.default,Scroll:u.default,Block:f.default,Inline:l.default,Text:d.default,Attributor:{Attribute:g.default,Class:y.default,Style:m.default,Store:_.default}};r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var b in h)h.hasOwnProperty(b)&&(p[b]=h[b])};return function(p,h){_(p,h);function b(){this.constructor=p}p.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(p,_);function p(h){var b=this;return h="[Parchment] "+h,b=_.call(this,h)||this,b.message=h,b.name=b.constructor.name,b}return p}(Error);r.ParchmentError=s;var a={},u={},l={},f={};r.DATA_KEY="__blot";var c;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function d(_,p){var h=y(_);if(h==null)throw new s("Unable to create "+_+" blot");var b=h,v=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(p);return new b(v,p)}r.create=d;function g(_,p){return p===void 0&&(p=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:p?g(_.parentNode,p):null}r.find=g;function y(_,p){p===void 0&&(p=c.ANY);var h;if(typeof _=="string")h=f[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)h=f.text;else if(typeof _=="number")_&c.LEVEL&c.BLOCK?h=f.block:_&c.LEVEL&c.INLINE&&(h=f.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var v in b)if(h=u[b[v]],h)break;h=h||l[_.tagName]}return h==null?null:p&c.LEVEL&h.scope&&p&c.TYPE&h.scope?h:null}r.query=y;function m(){for(var _=[],p=0;p<arguments.length;p++)_[p]=arguments[p];if(_.length>1)return _.map(function(v){return m(v)});var h=_[0];if(typeof h.blotName!="string"&&typeof h.attrName!="string")throw new s("Invalid definition");if(h.blotName==="abstract")throw new s("Cannot register abstract class");if(f[h.blotName||h.attrName]=h,typeof h.keyName=="string")a[h.keyName]=h;else if(h.className!=null&&(u[h.className]=h),h.tagName!=null){Array.isArray(h.tagName)?h.tagName=h.tagName.map(function(v){return v.toUpperCase()}):h.tagName=h.tagName.toUpperCase();var b=Array.isArray(h.tagName)?h.tagName:[h.tagName];b.forEach(function(v){(l[v]==null||h.className==null)&&(l[v]=h)})}return h}r.register=m},function(n,r,i){var o=i(51),s=i(11),a=i(3),u=i(20),l=String.fromCharCode(0),f=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};f.prototype.insert=function(c,d){var g={};return c.length===0?this:(g.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g))},f.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},f.prototype.retain=function(c,d){if(c<=0)return this;var g={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g)},f.prototype.push=function(c){var d=this.ops.length,g=this.ops[d-1];if(c=a(!0,{},c),typeof g=="object"){if(typeof c.delete=="number"&&typeof g.delete=="number")return this.ops[d-1]={delete:g.delete+c.delete},this;if(typeof g.delete=="number"&&c.insert!=null&&(d-=1,g=this.ops[d-1],typeof g!="object"))return this.ops.unshift(c),this;if(s(c.attributes,g.attributes)){if(typeof c.insert=="string"&&typeof g.insert=="string")return this.ops[d-1]={insert:g.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof g.retain=="number")return this.ops[d-1]={retain:g.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},f.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},f.prototype.filter=function(c){return this.ops.filter(c)},f.prototype.forEach=function(c){this.ops.forEach(c)},f.prototype.map=function(c){return this.ops.map(c)},f.prototype.partition=function(c){var d=[],g=[];return this.forEach(function(y){var m=c(y)?d:g;m.push(y)}),[d,g]},f.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},f.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+u.length(d):d.delete?c-d.delete:c},0)},f.prototype.length=function(){return this.reduce(function(c,d){return c+u.length(d)},0)},f.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var g=[],y=u.iterator(this.ops),m=0;m<d&&y.hasNext();){var _;m<c?_=y.next(c-m):(_=y.next(d-m),g.push(_)),m+=u.length(_)}return new f(g)},f.prototype.compose=function(c){var d=u.iterator(this.ops),g=u.iterator(c.ops),y=[],m=g.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),y.push(d.next());m.retain-_>0&&g.next(m.retain-_)}for(var p=new f(y);d.hasNext()||g.hasNext();)if(g.peekType()==="insert")p.push(g.next());else if(d.peekType()==="delete")p.push(d.next());else{var h=Math.min(d.peekLength(),g.peekLength()),b=d.next(h),v=g.next(h);if(typeof v.retain=="number"){var w={};typeof b.retain=="number"?w.retain=h:w.insert=b.insert;var O=u.attributes.compose(b.attributes,v.attributes,typeof b.retain=="number");if(O&&(w.attributes=O),p.push(w),!g.hasNext()&&s(p.ops[p.ops.length-1],w)){var T=new f(d.rest());return p.concat(T).chop()}}else typeof v.delete=="number"&&typeof b.retain=="number"&&p.push(v)}return p.chop()},f.prototype.concat=function(c){var d=new f(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},f.prototype.diff=function(c,d){if(this.ops===c.ops)return new f;var g=[this,c].map(function(h){return h.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:l;var v=h===c?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),y=new f,m=o(g[0],g[1],d),_=u.iterator(this.ops),p=u.iterator(c.ops);return m.forEach(function(h){for(var b=h[1].length;b>0;){var v=0;switch(h[0]){case o.INSERT:v=Math.min(p.peekLength(),b),y.push(p.next(v));break;case o.DELETE:v=Math.min(b,_.peekLength()),_.next(v),y.delete(v);break;case o.EQUAL:v=Math.min(_.peekLength(),p.peekLength(),b);var w=_.next(v),O=p.next(v);s(w.insert,O.insert)?y.retain(v,u.attributes.diff(w.attributes,O.attributes)):y.push(O).delete(v);break}b-=v}}),y.chop()},f.prototype.eachLine=function(c,d){d=d||`
`;for(var g=u.iterator(this.ops),y=new f,m=0;g.hasNext();){if(g.peekType()!=="insert")return;var _=g.peek(),p=u.length(_)-g.peekLength(),h=typeof _.insert=="string"?_.insert.indexOf(d,p)-p:-1;if(h<0)y.push(g.next());else if(h>0)y.push(g.next(h));else{if(c(y,g.next(1).attributes||{},m)===!1)return;m+=1,y=new f}}y.length()>0&&c(y,{},m)},f.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var g=u.iterator(this.ops),y=u.iterator(c.ops),m=new f;g.hasNext()||y.hasNext();)if(g.peekType()==="insert"&&(d||y.peekType()!=="insert"))m.retain(u.length(g.next()));else if(y.peekType()==="insert")m.push(y.next());else{var _=Math.min(g.peekLength(),y.peekLength()),p=g.next(_),h=y.next(_);if(p.delete)continue;h.delete?m.push(h):m.retain(_,u.attributes.transform(p.attributes,h.attributes,d))}return m.chop()},f.prototype.transformPosition=function(c,d){d=!!d;for(var g=u.iterator(this.ops),y=0;g.hasNext()&&y<=c;){var m=g.peekLength(),_=g.peekType();if(g.next(),_==="delete"){c-=Math.min(m,c-y);continue}else _==="insert"&&(y<c||!d)&&(c+=m);y+=m}return c},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u=function(g){return typeof Array.isArray=="function"?Array.isArray(g):o.call(g)==="[object Array]"},l=function(g){if(!g||o.call(g)!=="[object Object]")return!1;var y=i.call(g,"constructor"),m=g.constructor&&g.constructor.prototype&&i.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!y&&!m)return!1;var _;for(_ in g);return typeof _>"u"||i.call(g,_)},f=function(g,y){s&&y.name==="__proto__"?s(g,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):g[y.name]=y.newValue},c=function(g,y){if(y==="__proto__")if(i.call(g,y)){if(a)return a(g,y).value}else return;return g[y]};n.exports=function d(){var g,y,m,_,p,h,b=arguments[0],v=1,w=arguments.length,O=!1;for(typeof b=="boolean"&&(O=b,b=arguments[1]||{},v=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});v<w;++v)if(g=arguments[v],g!=null)for(y in g)m=c(b,y),_=c(g,y),b!==_&&(O&&_&&(l(_)||(p=u(_)))?(p?(p=!1,h=m&&u(m)?m:[]):h=m&&l(m)?m:{},f(b,{name:y,newValue:d(O,h,_)})):typeof _<"u"&&f(b,{name:y,newValue:_}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(R,I){for(var P=0;P<I.length;P++){var x=I[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}return function(R,I,P){return I&&S(R.prototype,I),P&&S(R,P),R}}(),s=function S(R,I,P){R===null&&(R=Function.prototype);var x=Object.getOwnPropertyDescriptor(R,I);if(x===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:S(D,I,P)}else{if("value"in x)return x.value;var F=x.get;return F===void 0?void 0:F.call(P)}},a=i(3),u=b(a),l=i(2),f=b(l),c=i(0),d=b(c),g=i(16),y=b(g),m=i(6),_=b(m),p=i(7),h=b(p);function b(S){return S&&S.__esModule?S:{default:S}}function v(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function w(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function O(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var T=1,E=function(S){O(R,S);function R(){return v(this,R),w(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,x){var D=d.default.query(P,d.default.Scope.BLOCK_ATTRIBUTE);D!=null&&this.attributes.attribute(D,x)}},{key:"formatAt",value:function(P,x,D,F){this.format(D,F)}},{key:"insertAt",value:function(P,x,D){if(typeof x=="string"&&x.endsWith(`
`)){var F=d.default.create(k.blotName);this.parent.insertBefore(F,P===0?this:this.next),F.insertAt(0,x.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,P,x,D)}}]),R}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var k=function(S){O(R,S);function R(I){v(this,R);var P=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I));return P.cache={},P}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(P,x){return x.length()===0?P:P.insert(x.value(),A(x))},new f.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(P,x){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,P,x),this.cache={}}},{key:"formatAt",value:function(P,x,D,F){x<=0||(d.default.query(D,d.default.Scope.BLOCK)?P+x===this.length()&&this.format(D,F):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,P,Math.min(x,this.length()-P-1),D,F),this.cache={})}},{key:"insertAt",value:function(P,x,D){if(D!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,P,x,D);if(x.length!==0){var F=x.split(`
`),G=F.shift();G.length>0&&(P<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var H=this;F.reduce(function(W,M){return H=H.split(W,!0),H.insertAt(0,M),M.length},P+G.length)}}},{key:"insertBefore",value:function(P,x){var D=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,P,x),D instanceof y.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(P,x){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,P,x),this.cache={}}},{key:"optimize",value:function(P){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(x&&(P===0||P>=this.length()-T)){var D=this.clone();return P===0?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}else{var F=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,P,x);return this.cache={},F}}}]),R}(d.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[_.default,d.default.Embed,h.default];function A(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(R=(0,u.default)(R,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?R:A(S.parent,R)}r.bubbleFormats=A,r.BlockEmbed=E,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(W,M){var U=[],q=!0,$=!1,j=void 0;try{for(var N=W[Symbol.iterator](),V;!(q=(V=N.next()).done)&&(U.push(V.value),!(M&&U.length===M));q=!0);}catch(K){$=!0,j=K}finally{try{!q&&N.return&&N.return()}finally{if($)throw j}}return U}return function(W,M){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return H(W,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(W,M){for(var U=0;U<M.length;U++){var q=M[U];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(W,q.key,q)}}return function(W,M,U){return M&&H(W.prototype,M),U&&H(W,U),W}}();i(50);var u=i(2),l=A(u),f=i(14),c=A(f),d=i(8),g=A(d),y=i(9),m=A(y),_=i(0),p=A(_),h=i(15),b=A(h),v=i(3),w=A(v),O=i(10),T=A(O),E=i(34),k=A(E);function A(H){return H&&H.__esModule?H:{default:H}}function S(H,W,M){return W in H?Object.defineProperty(H,W,{value:M,enumerable:!0,configurable:!0,writable:!0}):H[W]=M,H}function R(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}var I=(0,T.default)("quill"),P=function(){a(H,null,[{key:"debug",value:function(M){M===!0&&(M="log"),T.default.level(M)}},{key:"find",value:function(M){return M.__quill||p.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&I.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,U){var q=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var j=M.attrName||M.blotName;typeof j=="string"?this.register("formats/"+j,M,U):Object.keys(M).forEach(function(N){q.register(N,M[N],U)})}else this.imports[M]!=null&&!$&&I.warn("Overwriting "+M+" with",U),this.imports[M]=U,(M.startsWith("blots/")||M.startsWith("formats/"))&&U.blotName!=="abstract"?p.default.register(U):M.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function H(W){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,H),this.options=x(W,U),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",W);this.options.debug&&H.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(j){j===g.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(j,N){var V=M.selection.lastRange,K=V&&V.length===0?V.index:void 0;D.call(M,function(){return M.editor.update(null,N,K)},j)});var $=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents($),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var q=M;M=document.createElement("div"),M.classList.add(q)}return this.container.insertBefore(M,U),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,U,q){var $=this,j=F(M,U,q),N=s(j,4);return M=N[0],U=N[1],q=N[3],D.call(this,function(){return $.editor.deleteText(M,U)},q,M,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,U){var q=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return D.call(this,function(){var j=q.getSelection(!0),N=new l.default;if(j==null)return N;if(p.default.query(M,p.default.Scope.BLOCK))N=q.editor.formatLine(j.index,j.length,S({},M,U));else{if(j.length===0)return q.selection.format(M,U),N;N=q.editor.formatText(j.index,j.length,S({},M,U))}return q.setSelection(j,g.default.sources.SILENT),N},$)}},{key:"formatLine",value:function(M,U,q,$,j){var N=this,V=void 0,K=F(M,U,q,$,j),X=s(K,4);return M=X[0],U=X[1],V=X[2],j=X[3],D.call(this,function(){return N.editor.formatLine(M,U,V)},j,M,0)}},{key:"formatText",value:function(M,U,q,$,j){var N=this,V=void 0,K=F(M,U,q,$,j),X=s(K,4);return M=X[0],U=X[1],V=X[2],j=X[3],D.call(this,function(){return N.editor.formatText(M,U,V)},j,M,0)}},{key:"getBounds",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof M=="number"?q=this.selection.getBounds(M,U):q=this.selection.getBounds(M.index,M.length);var $=this.container.getBoundingClientRect();return{bottom:q.bottom-$.top,height:q.height,left:q.left-$.left,right:q.right-$.left,top:q.top-$.top,width:q.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,q=F(M,U),$=s(q,2);return M=$[0],U=$[1],this.editor.getContents(M,U)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,U):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,U)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,q=F(M,U),$=s(q,2);return M=$[0],U=$[1],this.editor.getText(M,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,U,q){var $=this,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return D.call(this,function(){return $.editor.insertEmbed(M,U,q)},j,M)}},{key:"insertText",value:function(M,U,q,$,j){var N=this,V=void 0,K=F(M,0,q,$,j),X=s(K,4);return M=X[0],V=X[2],j=X[3],D.call(this,function(){return N.editor.insertText(M,U,V)},j,M,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,U,q){this.clipboard.dangerouslyPasteHTML(M,U,q)}},{key:"removeFormat",value:function(M,U,q){var $=this,j=F(M,U,q),N=s(j,4);return M=N[0],U=N[1],q=N[3],D.call(this,function(){return $.editor.removeFormat(M,U)},q,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var U=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return D.call(this,function(){M=new l.default(M);var $=U.getLength(),j=U.editor.deleteText(0,$),N=U.editor.applyDelta(M),V=N.ops[N.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),N.delete(1));var K=j.compose(N);return K},q)}},{key:"setSelection",value:function(M,U,q){if(M==null)this.selection.setRange(null,U||H.sources.API);else{var $=F(M,U,q),j=s($,4);M=j[0],U=j[1],q=j[3],this.selection.setRange(new h.Range(M,U),q),q!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,q=new l.default().insert(M);return this.setContents(q,U)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,U=this.scroll.update(M);return this.selection.update(M),U}},{key:"updateContents",value:function(M){var U=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return D.call(this,function(){return M=new l.default(M),U.editor.applyDelta(M,q)},q,!0)}}]),H}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=g.default.events,P.sources=g.default.sources,P.version="1.3.7",P.imports={delta:l.default,parchment:p.default,"core/module":m.default,"core/theme":k.default};function x(H,W){if(W=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===P.DEFAULTS.theme)W.theme=k.default;else if(W.theme=P.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var M=(0,w.default)(!0,{},W.theme.DEFAULTS);[M,W].forEach(function($){$.modules=$.modules||{},Object.keys($.modules).forEach(function(j){$.modules[j]===!0&&($.modules[j]={})})});var U=Object.keys(M.modules).concat(Object.keys(W.modules)),q=U.reduce(function($,j){var N=P.import("modules/"+j);return N==null?I.error("Cannot load "+j+" module. Are you sure you registered it?"):$[j]=N.DEFAULTS||{},$},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,w.default)(!0,{},P.DEFAULTS,{modules:q},M,W),["bounds","container","scrollingContainer"].forEach(function($){typeof W[$]=="string"&&(W[$]=document.querySelector(W[$]))}),W.modules=Object.keys(W.modules).reduce(function($,j){return W.modules[j]&&($[j]=W.modules[j]),$},{}),W}function D(H,W,M,U){if(this.options.strict&&!this.isEnabled()&&W===g.default.sources.USER)return new l.default;var q=M==null?null:this.getSelection(),$=this.editor.delta,j=H();if(q!=null&&(M===!0&&(M=q.index),U==null?q=G(q,j,W):U!==0&&(q=G(q,M,U,W)),this.setSelection(q,g.default.sources.SILENT)),j.length()>0){var N,V=[g.default.events.TEXT_CHANGE,j,$,W];if((N=this.emitter).emit.apply(N,[g.default.events.EDITOR_CHANGE].concat(V)),W!==g.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,V)}}return j}function F(H,W,M,U,q){var $={};return typeof H.index=="number"&&typeof H.length=="number"?typeof W!="number"?(q=U,U=M,M=W,W=H.length,H=H.index):(W=H.length,H=H.index):typeof W!="number"&&(q=U,U=M,M=W,W=0),(typeof M>"u"?"undefined":o(M))==="object"?($=M,q=U):typeof M=="string"&&(U!=null?$[M]=U:q=M),q=q||g.default.sources.API,[H,W,$,q]}function G(H,W,M,U){if(H==null)return null;var q=void 0,$=void 0;if(W instanceof l.default){var j=[H.index,H.index+H.length].map(function(X){return W.transformPosition(X,U!==g.default.sources.USER)}),N=s(j,2);q=N[0],$=N[1]}else{var V=[H.index,H.index+H.length].map(function(X){return X<W||X===W&&U===g.default.sources.USER?X:M>=0?X+M:Math.max(W,X+M)}),K=s(V,2);q=K[0],$=K[1]}return new h.Range(q,$-q)}r.expandConfig=x,r.overload=F,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),s=function _(p,h,b){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,h);if(v===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:_(w,h,b)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(b)}},a=i(7),u=c(a),l=i(0),f=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function g(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function y(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var m=function(_){y(p,_);function p(){return d(this,p),g(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(b,v,w,O){if(p.compare(this.statics.blotName,w)<0&&f.default.query(w,f.default.Scope.BLOT)){var T=this.isolate(b,v);O&&T.wrap(w,O)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,b,v,w,O)}},{key:"optimize",value:function(b){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,b),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(b,v){var w=p.order.indexOf(b),O=p.order.indexOf(v);return w>=0||O>=0?w-O:b===v?0:b<v?-1:1}}]),p}(f.default.Inline);m.allowedChildren=[m,f.default.Embed,u.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function l(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(b,v){for(var w=0;w<v.length;w++){var O=v[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,v,w){return v&&h(b.prototype,v),w&&h(b,w),b}}(),s=function h(b,v,w){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,v);if(O===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:h(T,v,w)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(w)}},a=i(54),u=c(a),l=i(10),f=c(l);function c(h){return h&&h.__esModule?h:{default:h}}function d(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function g(h,b){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:h}function y(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}var m=(0,f.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(h){document.addEventListener(h,function(){for(var b=arguments.length,v=Array(b),w=0;w<b;w++)v[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var T;(T=O.__quill.emitter).handleDOM.apply(T,v)}})})});var p=function(h){y(b,h);function b(){d(this,b);var v=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return v.listeners={},v.on("error",m.error),v}return o(b,[{key:"emit",value:function(){m.log.apply(m,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var O=arguments.length,T=Array(O>1?O-1:0),E=1;E<O;E++)T[E-1]=arguments[E];(this.listeners[w.type]||[]).forEach(function(k){var A=k.node,S=k.handler;(w.target===A||A.contains(w.target))&&S.apply(void 0,[w].concat(T))})}},{key:"listenDOM",value:function(w,O,T){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:O,handler:T})}}]),b}(u.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function a(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=u,this.options=l};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(l){if(o.indexOf(l)<=o.indexOf(s)){for(var f,c=arguments.length,d=Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];(f=console)[l].apply(f,d)}}function u(l){return o.reduce(function(f,c){return f[c]=a.bind(console,c,l),f},{})}a.level=u.level=function(l){s=l},r.default=u},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),u=n.exports=function(d,g,y){return y||(y={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?y.strict?d===g:d==g:c(d,g,y)};function l(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,g,y){var m,_;if(l(d)||l(g)||d.prototype!==g.prototype)return!1;if(a(d))return a(g)?(d=o.call(d),g=o.call(g),u(d,g,y)):!1;if(f(d)){if(!f(g)||d.length!==g.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==g[m])return!1;return!0}try{var p=s(d),h=s(g)}catch{return!1}if(p.length!=h.length)return!1;for(p.sort(),h.sort(),m=p.length-1;m>=0;m--)if(p[m]!=h[m])return!1;for(m=p.length-1;m>=0;m--)if(_=p[m],!u(d[_],g[_],y))return!1;return typeof d==typeof g}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(u,l,f){f===void 0&&(f={}),this.attrName=u,this.keyName=l;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(u){return[].map.call(u.attributes,function(l){return l.name})},a.prototype.add=function(u,l){return this.canAdd(u,l)?(u.setAttribute(this.keyName,l),!0):!1},a.prototype.canAdd=function(u,l){var f=o.query(u,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof l=="string"?this.whitelist.indexOf(l.replace(/["']/g,""))>-1:this.whitelist.indexOf(l)>-1},a.prototype.remove=function(u){u.removeAttribute(this.keyName)},a.prototype.value=function(u){var l=u.getAttribute(this.keyName);return this.canAdd(u,l)&&l?l:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(k,A){var S=[],R=!0,I=!1,P=void 0;try{for(var x=k[Symbol.iterator](),D;!(R=(D=x.next()).done)&&(S.push(D.value),!(A&&S.length===A));R=!0);}catch(F){I=!0,P=F}finally{try{!R&&x.return&&x.return()}finally{if(I)throw P}}return S}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(k,A){for(var S=0;S<A.length;S++){var R=A[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,A,S){return A&&E(k.prototype,A),S&&E(k,S),k}}(),a=function E(k,A,S){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,A);if(R===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:E(I,A,S)}else{if("value"in R)return R.value;var P=R.get;return P===void 0?void 0:P.call(S)}},u=i(2),l=h(u),f=i(0),c=h(f),d=i(4),g=h(d),y=i(6),m=h(y),_=i(7),p=h(_);function h(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function v(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function w(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var O=function(E){w(k,E);function k(){return b(this,k),v(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(m.default);O.blotName="code",O.tagName="CODE";var T=function(E){w(k,E);function k(){return b(this,k),v(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"delta",value:function(){var S=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(I,P){return I.insert(P).insert(`
`,S.formats())},new l.default)}},{key:"format",value:function(S,R){if(!(S===this.statics.blotName&&R)){var I=this.descendant(p.default,this.length()-1),P=o(I,1),x=P[0];x!=null&&x.deleteAt(x.length()-1,1),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,R)}}},{key:"formatAt",value:function(S,R,I,P){if(R!==0&&!(c.default.query(I,c.default.Scope.BLOCK)==null||I===this.statics.blotName&&P===this.statics.formats(this.domNode))){var x=this.newlineIndex(S);if(!(x<0||x>=S+R)){var D=this.newlineIndex(S,!0)+1,F=x-D+1,G=this.isolate(D,F),H=G.next;G.format(I,P),H instanceof k&&H.formatAt(0,S-D+R-F,I,P)}}}},{key:"insertAt",value:function(S,R,I){if(I==null){var P=this.descendant(p.default,S),x=o(P,2),D=x[0],F=x[1];D.insertAt(F,R)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var I=this.domNode.textContent.slice(S).indexOf(`
`);return I>-1?S+I:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(S),R.moveChildren(this),R.remove())}},{key:"replace",value:function(S){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var I=c.default.find(R);I==null?R.parentNode.removeChild(R):I instanceof c.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(S){var R=a(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,S);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),k}(g.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=O,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(W,M){var U=[],q=!0,$=!1,j=void 0;try{for(var N=W[Symbol.iterator](),V;!(q=(V=N.next()).done)&&(U.push(V.value),!(M&&U.length===M));q=!0);}catch(K){$=!0,j=K}finally{try{!q&&N.return&&N.return()}finally{if($)throw j}}return U}return function(W,M){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return H(W,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(W,M){for(var U=0;U<M.length;U++){var q=M[U];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(W,q.key,q)}}return function(W,M,U){return M&&H(W.prototype,M),U&&H(W,U),W}}(),u=i(2),l=R(u),f=i(20),c=R(f),d=i(0),g=R(d),y=i(13),m=R(y),_=i(24),p=R(_),h=i(4),b=R(h),v=i(16),w=R(v),O=i(21),T=R(O),E=i(11),k=R(E),A=i(3),S=R(A);function R(H){return H&&H.__esModule?H:{default:H}}function I(H,W,M){return W in H?Object.defineProperty(H,W,{value:M,enumerable:!0,configurable:!0,writable:!0}):H[W]=M,H}function P(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}var x=/^[ -~]*$/,D=function(){function H(W){P(this,H),this.scroll=W,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function(M){var U=this,q=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),M=G(M),M.reduce(function(j,N){var V=N.retain||N.delete||N.insert.length||1,K=N.attributes||{};if(N.insert!=null){if(typeof N.insert=="string"){var X=N.insert;X.endsWith(`
`)&&q&&(q=!1,X=X.slice(0,-1)),j>=$&&!X.endsWith(`
`)&&(q=!0),U.scroll.insertAt(j,X);var Y=U.scroll.line(j),z=s(Y,2),Q=z[0],ee=z[1],te=(0,S.default)({},(0,h.bubbleFormats)(Q));if(Q instanceof b.default){var oe=Q.descendant(g.default.Leaf,ee),ce=s(oe,1),ie=ce[0];te=(0,S.default)(te,(0,h.bubbleFormats)(ie))}K=c.default.attributes.diff(te,K)||{}}else if(o(N.insert)==="object"){var J=Object.keys(N.insert)[0];if(J==null)return j;U.scroll.insertAt(j,J,N.insert[J])}$+=V}return Object.keys(K).forEach(function(re){U.scroll.formatAt(j,V,re,K[re])}),j+V},0),M.reduce(function(j,N){return typeof N.delete=="number"?(U.scroll.deleteAt(j,N.delete),j):j+(N.retain||N.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,U){return this.scroll.deleteAt(M,U),this.update(new l.default().retain(M).delete(U))}},{key:"formatLine",value:function(M,U){var q=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(j){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[j])){var N=q.scroll.lines(M,Math.max(U,1)),V=U;N.forEach(function(K){var X=K.length();if(!(K instanceof m.default))K.format(j,$[j]);else{var Y=M-K.offset(q.scroll),z=K.newlineIndex(Y+V)-Y+1;K.formatAt(Y,z,j,$[j])}V-=X})}}),this.scroll.optimize(),this.update(new l.default().retain(M).retain(U,(0,T.default)($)))}},{key:"formatText",value:function(M,U){var q=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(j){q.scroll.formatAt(M,U,j,$[j])}),this.update(new l.default().retain(M).retain(U,(0,T.default)($)))}},{key:"getContents",value:function(M,U){return this.delta.slice(M,M+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,U){return M.concat(U.delta())},new l.default)}},{key:"getFormat",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],$=[];U===0?this.scroll.path(M).forEach(function(N){var V=s(N,1),K=V[0];K instanceof b.default?q.push(K):K instanceof g.default.Leaf&&$.push(K)}):(q=this.scroll.lines(M,U),$=this.scroll.descendants(g.default.Leaf,M,U));var j=[q,$].map(function(N){if(N.length===0)return{};for(var V=(0,h.bubbleFormats)(N.shift());Object.keys(V).length>0;){var K=N.shift();if(K==null)return V;V=F((0,h.bubbleFormats)(K),V)}return V});return S.default.apply(S.default,j)}},{key:"getText",value:function(M,U){return this.getContents(M,U).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(M,U,q){return this.scroll.insertAt(M,U,q),this.update(new l.default().retain(M).insert(I({},U,q)))}},{key:"insertText",value:function(M,U){var q=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,U),Object.keys($).forEach(function(j){q.scroll.formatAt(M,U.length,j,$[j])}),this.update(new l.default().retain(M).insert(U,(0,T.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==b.default.blotName||M.children.length>1?!1:M.children.head instanceof w.default}},{key:"removeFormat",value:function(M,U){var q=this.getText(M,U),$=this.scroll.line(M+U),j=s($,2),N=j[0],V=j[1],K=0,X=new l.default;N!=null&&(N instanceof m.default?K=N.newlineIndex(V)-V+1:K=N.length()-V,X=N.delta().slice(V,V+K-1).insert(`
`));var Y=this.getContents(M,U+K),z=Y.diff(new l.default().insert(q).concat(X)),Q=new l.default().retain(M).concat(z);return this.applyDelta(Q)}},{key:"update",value:function(M){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(x)&&g.default.find(U[0].target)){var j=g.default.find(U[0].target),N=(0,h.bubbleFormats)(j),V=j.offset(this.scroll),K=U[0].oldValue.replace(p.default.CONTENTS,""),X=new l.default().insert(K),Y=new l.default().insert(j.value()),z=new l.default().retain(V).concat(X.diff(Y,q));M=z.reduce(function(Q,ee){return ee.insert?Q.insert(ee.insert,N):Q.push(ee)},new l.default),this.delta=$.compose(M)}else this.delta=this.getDelta(),(!M||!(0,k.default)($.compose(M),this.delta))&&(M=$.diff(this.delta,q));return M}}]),H}();function F(H,W){return Object.keys(W).reduce(function(M,U){return H[U]==null||(W[U]===H[U]?M[U]=W[U]:Array.isArray(W[U])?W[U].indexOf(H[U])<0&&(M[U]=W[U].concat([H[U]])):M[U]=[W[U],H[U]]),M},{})}function G(H){return H.reduce(function(W,M){if(M.insert===1){var U=(0,T.default)(M.attributes);return delete U.image,W.insert({image:M.attributes.image},U)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,T.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var q=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(q,M.attributes)}return W.push(M)},new l.default)}r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(k,A){var S=[],R=!0,I=!1,P=void 0;try{for(var x=k[Symbol.iterator](),D;!(R=(D=x.next()).done)&&(S.push(D.value),!(A&&S.length===A));R=!0);}catch(F){I=!0,P=F}finally{try{!R&&x.return&&x.return()}finally{if(I)throw P}}return S}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(k,A){for(var S=0;S<A.length;S++){var R=A[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,A,S){return A&&E(k.prototype,A),S&&E(k,S),k}}(),a=i(0),u=p(a),l=i(21),f=p(l),c=i(11),d=p(c),g=i(8),y=p(g),m=i(10),_=p(m);function p(E){return E&&E.__esModule?E:{default:E}}function h(E){if(Array.isArray(E)){for(var k=0,A=Array(E.length);k<E.length;k++)A[k]=E[k];return A}else return Array.from(E)}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}var v=(0,_.default)("quill:selection"),w=function E(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=k,this.length=A},O=function(){function E(k,A){var S=this;b(this,E),this.emitter=A,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(R,I){R===y.default.events.TEXT_CHANGE&&I.length()>0&&S.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!S.hasFocus()){var R=S.getNativeRange();R!=null&&R.start.node!==S.cursor.textNode&&S.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(R,I){if(I.range){var P=I.range,x=P.startNode,D=P.startOffset,F=P.endNode,G=P.endOffset;S.setNativeRange(x,D,F,G)}}),this.update(y.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var S=A.cursor.restore();if(!S)return;setTimeout(function(){A.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||u.default.query(A,u.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var I=u.default.find(R.start.node,!1);if(I==null)return;if(I instanceof u.default.Leaf){var P=I.split(R.start.offset);I.parent.insertBefore(this.cursor,P)}else I.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(A,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();A=Math.min(A,R-1),S=Math.min(A+S,R-1)-A;var I=void 0,P=this.scroll.leaf(A),x=o(P,2),D=x[0],F=x[1];if(D==null)return null;var G=D.position(F,!0),H=o(G,2);I=H[0],F=H[1];var W=document.createRange();if(S>0){W.setStart(I,F);var M=this.scroll.leaf(A+S),U=o(M,2);if(D=U[0],F=U[1],D==null)return null;var q=D.position(F,!0),$=o(q,2);return I=$[0],F=$[1],W.setEnd(I,F),W.getBoundingClientRect()}else{var j="left",N=void 0;return I instanceof Text?(F<I.data.length?(W.setStart(I,F),W.setEnd(I,F+1)):(W.setStart(I,F-1),W.setEnd(I,F),j="right"),N=W.getBoundingClientRect()):(N=D.domNode.getBoundingClientRect(),F>0&&(j="right")),{bottom:N.top+N.height,height:N.height,left:N[j],right:N[j],top:N.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var S=A.getRangeAt(0);if(S==null)return null;var R=this.normalizeNative(S);return v.info("getNativeRange",R),R}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var S=this.normalizedToRange(A);return[S,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var S=this,R=[[A.start.node,A.start.offset]];A.native.collapsed||R.push([A.end.node,A.end.offset]);var I=R.map(function(D){var F=o(D,2),G=F[0],H=F[1],W=u.default.find(G,!0),M=W.offset(S.scroll);return H===0?M:W instanceof u.default.Container?M+W.length():M+W.index(G,H)}),P=Math.min(Math.max.apply(Math,h(I)),this.scroll.length()-1),x=Math.min.apply(Math,[P].concat(h(I)));return new w(x,P-x)}},{key:"normalizeNative",value:function(A){if(!T(this.root,A.startContainer)||!A.collapsed&&!T(this.root,A.endContainer))return null;var S={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[S.start,S.end].forEach(function(R){for(var I=R.node,P=R.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>P)I=I.childNodes[P],P=0;else if(I.childNodes.length===P)I=I.lastChild,P=I instanceof Text?I.data.length:I.childNodes.length+1;else break;R.node=I,R.offset=P}),S}},{key:"rangeToNative",value:function(A){var S=this,R=A.collapsed?[A.index]:[A.index,A.index+A.length],I=[],P=this.scroll.length();return R.forEach(function(x,D){x=Math.min(P-1,x);var F=void 0,G=S.scroll.leaf(x),H=o(G,2),W=H[0],M=H[1],U=W.position(M,D!==0),q=o(U,2);F=q[0],M=q[1],I.push(F,M)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(A){var S=this.lastRange;if(S!=null){var R=this.getBounds(S.index,S.length);if(R!=null){var I=this.scroll.length()-1,P=this.scroll.line(Math.min(S.index,I)),x=o(P,1),D=x[0],F=D;if(S.length>0){var G=this.scroll.line(Math.min(S.index+S.length,I)),H=o(G,1);F=H[0]}if(!(D==null||F==null)){var W=A.getBoundingClientRect();R.top<W.top?A.scrollTop-=W.top-R.top:R.bottom>W.bottom&&(A.scrollTop+=R.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(A,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",A,S,R,I),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||R.parentNode==null))){var x=document.getSelection();if(x!=null)if(A!=null){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(D==null||P||A!==D.startContainer||S!==D.startOffset||R!==D.endContainer||I!==D.endOffset){A.tagName=="BR"&&(S=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),R.tagName=="BR"&&(I=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var F=document.createRange();F.setStart(A,S),F.setEnd(R,I),x.removeAllRanges(),x.addRange(F)}}else x.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof S=="string"&&(R=S,S=!1),v.info("setRange",A),A!=null){var I=this.rangeToNative(A);this.setNativeRange.apply(this,h(I).concat([S]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,S=this.lastRange,R=this.getRange(),I=o(R,2),P=I[0],x=I[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(S,this.lastRange)){var D;!this.composing&&x!=null&&x.native.collapsed&&x.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[y.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(S),A];if((D=this.emitter).emit.apply(D,[y.default.events.EDITOR_CHANGE].concat(F)),A!==y.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,F)}}}}]),E}();function T(E,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),E.contains(k)}r.Range=w,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(m,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}return function(m,_,p){return _&&y(m.prototype,_),p&&y(m,p),m}}(),s=function y(m,_,p){m===null&&(m=Function.prototype);var h=Object.getOwnPropertyDescriptor(m,_);if(h===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,_,p)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(p)}},a=i(0),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(p,h){p.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,p,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(u.default.Embed);g.blotName="break",g.tagName="BR",r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var y in g)g.hasOwnProperty(y)&&(d[y]=g[y])};return function(d,g){c(d,g);function y(){this.constructor=d}d.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),u=i(1),l=function(c){o(d,c);function d(g){var y=c.call(this,g)||this;return y.build(),y}return d.prototype.appendChild=function(g){this.insertBefore(g)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},d.prototype.build=function(){var g=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var m=f(y);g.insertBefore(m,g.children.head||void 0)}catch(_){if(_ instanceof u.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(g,y){if(g===0&&y===this.length())return this.remove();this.children.forEachAt(g,y,function(m,_,p){m.deleteAt(_,p)})},d.prototype.descendant=function(g,y){var m=this.children.find(y),_=m[0],p=m[1];return g.blotName==null&&g(_)||g.blotName!=null&&_ instanceof g?[_,p]:_ instanceof d?_.descendant(g,p):[null,-1]},d.prototype.descendants=function(g,y,m){y===void 0&&(y=0),m===void 0&&(m=Number.MAX_VALUE);var _=[],p=m;return this.children.forEachAt(y,m,function(h,b,v){(g.blotName==null&&g(h)||g.blotName!=null&&h instanceof g)&&_.push(h),h instanceof d&&(_=_.concat(h.descendants(g,b,p))),p-=v}),_},d.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(g,y,m,_){this.children.forEachAt(g,y,function(p,h,b){p.formatAt(h,b,m,_)})},d.prototype.insertAt=function(g,y,m){var _=this.children.find(g),p=_[0],h=_[1];if(p)p.insertAt(h,y,m);else{var b=m==null?u.create("text",y):u.create(y,m);this.appendChild(b)}},d.prototype.insertBefore=function(g,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return g instanceof m}))throw new u.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,y)},d.prototype.length=function(){return this.children.reduce(function(g,y){return g+y.length()},0)},d.prototype.moveChildren=function(g,y){this.children.forEach(function(m){g.insertBefore(m,y)})},d.prototype.optimize=function(g){if(c.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var y=u.create(this.statics.defaultChild);this.appendChild(y),y.optimize(g)}else this.remove()},d.prototype.path=function(g,y){y===void 0&&(y=!1);var m=this.children.find(g,y),_=m[0],p=m[1],h=[[this,g]];return _ instanceof d?h.concat(_.path(p,y)):(_!=null&&h.push([_,p]),h)},d.prototype.removeChild=function(g){this.children.remove(g)},d.prototype.replace=function(g){g instanceof d&&g.moveChildren(this),c.prototype.replace.call(this,g)},d.prototype.split=function(g,y){if(y===void 0&&(y=!1),!y){if(g===0)return this;if(g===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(g,this.length(),function(_,p,h){_=_.split(p,y),m.appendChild(_)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(g,y){var m=this,_=[],p=[];g.forEach(function(h){h.target===m.domNode&&h.type==="childList"&&(_.push.apply(_,h.addedNodes),p.push.apply(p,h.removedNodes))}),p.forEach(function(h){if(!(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=u.find(h);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),_.filter(function(h){return h.parentNode==m.domNode}).sort(function(h,b){return h===b?0:h.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(h){var b=null;h.nextSibling!=null&&(b=u.find(h.nextSibling));var v=f(h);(v.next!=b||v.next==null)&&(v.parent!=null&&v.parent.removeChild(m),m.insertBefore(v,b||void 0))})},d}(a.default);function f(c){var d=u.find(c);if(d==null)try{d=u.create(c)}catch{d=u.create(u.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(y){d.domNode.appendChild(y)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var y in g)g.hasOwnProperty(y)&&(d[y]=g[y])};return function(d,g){c(d,g);function y(){this.constructor=d}d.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),u=i(17),l=i(1),f=function(c){o(d,c);function d(g){var y=c.call(this,g)||this;return y.attributes=new a.default(y.domNode),y}return d.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},d.prototype.format=function(g,y){var m=l.query(g);m instanceof s.default?this.attributes.attribute(m,y):y&&m!=null&&(g!==this.statics.blotName||this.formats()[g]!==y)&&this.replaceWith(g,y)},d.prototype.formats=function(){var g=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(g[this.statics.blotName]=y),g},d.prototype.replaceWith=function(g,y){var m=c.prototype.replaceWith.call(this,g,y);return this.attributes.copy(m),m},d.prototype.update=function(g,y){var m=this;c.prototype.update.call(this,g,y),g.some(function(_){return _.target===m.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(g,y){var m=c.prototype.wrap.call(this,g,y);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(u.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),u=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.value=function(c){return!0},f.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(c,d){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(g+=1),[this.parent.domNode,g]},f.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=u},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(l,f,c){typeof l!="object"&&(l={}),typeof f!="object"&&(f={});var d=s(!0,{},f);c||(d=Object.keys(d).reduce(function(y,m){return d[m]!=null&&(y[m]=d[m]),y},{}));for(var g in l)l[g]!==void 0&&f[g]===void 0&&(d[g]=l[g]);return Object.keys(d).length>0?d:void 0},diff:function(l,f){typeof l!="object"&&(l={}),typeof f!="object"&&(f={});var c=Object.keys(l).concat(Object.keys(f)).reduce(function(d,g){return o(l[g],f[g])||(d[g]=f[g]===void 0?null:f[g]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(l,f,c){if(typeof l!="object")return f;if(typeof f=="object"){if(!c)return f;var d=Object.keys(f).reduce(function(g,y){return l[y]===void 0&&(g[y]=f[y]),g},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(l){return new u(l)},length:function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}};function u(l){this.ops=l,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(l){l||(l=1/0);var f=this.ops[this.index];if(f){var c=this.offset,d=a.length(f);if(l>=d-c?(l=d-c,this.index+=1,this.offset=0):this.offset+=l,typeof f.delete=="number")return{delete:l};var g={};return f.attributes&&(g.attributes=f.attributes),typeof f.retain=="number"?g.retain=l:typeof f.insert=="string"?g.insert=f.insert.substr(c,l):g.insert=f.insert,g}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,f=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=l,this.index=f,[c].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(m,_){return _!=null&&m instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var u;try{u=Promise}catch{u=function(){}}function l(m,_,p,h,b){typeof _=="object"&&(p=_.depth,h=_.prototype,b=_.includeNonEnumerable,_=_.circular);var v=[],w=[],O=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof p>"u"&&(p=1/0);function T(E,k){if(E===null)return null;if(k===0)return E;var A,S;if(typeof E!="object")return E;if(o(E,s))A=new s;else if(o(E,a))A=new a;else if(o(E,u))A=new u(function(W,M){E.then(function(U){W(T(U,k-1))},function(U){M(T(U,k-1))})});else if(l.__isArray(E))A=[];else if(l.__isRegExp(E))A=new RegExp(E.source,y(E)),E.lastIndex&&(A.lastIndex=E.lastIndex);else if(l.__isDate(E))A=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(E.length):A=new Buffer(E.length),E.copy(A),A;o(E,Error)?A=Object.create(E):typeof h>"u"?(S=Object.getPrototypeOf(E),A=Object.create(S)):(A=Object.create(h),S=h)}if(_){var R=v.indexOf(E);if(R!=-1)return w[R];v.push(E),w.push(A)}o(E,s)&&E.forEach(function(W,M){var U=T(M,k-1),q=T(W,k-1);A.set(U,q)}),o(E,a)&&E.forEach(function(W){var M=T(W,k-1);A.add(M)});for(var I in E){var P;S&&(P=Object.getOwnPropertyDescriptor(S,I)),!(P&&P.set==null)&&(A[I]=T(E[I],k-1))}if(Object.getOwnPropertySymbols)for(var x=Object.getOwnPropertySymbols(E),I=0;I<x.length;I++){var D=x[I],F=Object.getOwnPropertyDescriptor(E,D);F&&!F.enumerable&&!b||(A[D]=T(E[D],k-1),F.enumerable||Object.defineProperty(A,D,{enumerable:!1}))}if(b)for(var G=Object.getOwnPropertyNames(E),I=0;I<G.length;I++){var H=G[I],F=Object.getOwnPropertyDescriptor(E,H);F&&F.enumerable||(A[H]=T(E[H],k-1),Object.defineProperty(A,H,{enumerable:!1}))}return A}return T(m,p)}l.clonePrototype=function(_){if(_===null)return null;var p=function(){};return p.prototype=_,new p};function f(m){return Object.prototype.toString.call(m)}l.__objToStr=f;function c(m){return typeof m=="object"&&f(m)==="[object Date]"}l.__isDate=c;function d(m){return typeof m=="object"&&f(m)==="[object Array]"}l.__isArray=d;function g(m){return typeof m=="object"&&f(m)==="[object RegExp]"}l.__isRegExp=g;function y(m){var _="";return m.global&&(_+="g"),m.ignoreCase&&(_+="i"),m.multiline&&(_+="m"),_}return l.__getRegExpFlags=y,l}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(S,R){var I=[],P=!0,x=!1,D=void 0;try{for(var F=S[Symbol.iterator](),G;!(P=(G=F.next()).done)&&(I.push(G.value),!(R&&I.length===R));P=!0);}catch(H){x=!0,D=H}finally{try{!P&&F.return&&F.return()}finally{if(x)throw D}}return I}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return A(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(S,R){for(var I=0;I<R.length;I++){var P=R[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,R,I){return R&&A(S.prototype,R),I&&A(S,I),S}}(),a=function A(S,R,I){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,R);if(P===void 0){var x=Object.getPrototypeOf(S);return x===null?void 0:A(x,R,I)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(I)}},u=i(0),l=v(u),f=i(8),c=v(f),d=i(4),g=v(d),y=i(16),m=v(y),_=i(13),p=v(_),h=i(25),b=v(h);function v(A){return A&&A.__esModule?A:{default:A}}function w(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function O(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:A}function T(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}function E(A){return A instanceof g.default||A instanceof d.BlockEmbed}var k=function(A){T(S,A);function S(R,I){w(this,S);var P=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return P.emitter=I.emitter,Array.isArray(I.whitelist)&&(P.whitelist=I.whitelist.reduce(function(x,D){return x[D]=!0,x},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,P){var x=this.line(I),D=o(x,2),F=D[0],G=D[1],H=this.line(I+P),W=o(H,1),M=W[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,I,P),M!=null&&F!==M&&G>0){if(F instanceof d.BlockEmbed||M instanceof d.BlockEmbed){this.optimize();return}if(F instanceof p.default){var U=F.newlineIndex(F.length(),!0);if(U>-1&&(F=F.split(U+1),F===M)){this.optimize();return}}else if(M instanceof p.default){var q=M.newlineIndex(0);q>-1&&M.split(q+1)}var $=M.children.head instanceof m.default?null:M.children.head;F.moveChildren(M,$),F.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,P,x,D){this.whitelist!=null&&!this.whitelist[x]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,I,P,x,D),this.optimize())}},{key:"insertAt",value:function(I,P,x){if(!(x!=null&&this.whitelist!=null&&!this.whitelist[P])){if(I>=this.length())if(x==null||l.default.query(P,l.default.Scope.BLOCK)==null){var D=l.default.create(this.statics.defaultChild);this.appendChild(D),x==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),D.insertAt(0,P,x)}else{var F=l.default.create(P,x);this.appendChild(F)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,I,P,x);this.optimize()}}},{key:"insertBefore",value:function(I,P){if(I.statics.scope===l.default.Scope.INLINE_BLOT){var x=l.default.create(this.statics.defaultChild);x.appendChild(I),I=x}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,I,P)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(E,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,x=function D(F,G,H){var W=[],M=H;return F.children.forEachAt(G,H,function(U,q,$){E(U)?W.push(U):U instanceof l.default.Container&&(W=W.concat(D(U,q,M))),M-=$}),W};return x(this,I,P)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,I,P),I.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,I,P))}},{key:"path",value:function(I){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var P=c.default.sources.USER;typeof I=="string"&&(P=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,P,I),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,P,I)}}}]),S}(l.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[g.default,d.BlockEmbed,b.default],r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},s=function(){function N(V,K){var X=[],Y=!0,z=!1,Q=void 0;try{for(var ee=V[Symbol.iterator](),te;!(Y=(te=ee.next()).done)&&(X.push(te.value),!(K&&X.length===K));Y=!0);}catch(oe){z=!0,Q=oe}finally{try{!Y&&ee.return&&ee.return()}finally{if(z)throw Q}}return X}return function(V,K){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return N(V,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function N(V,K){for(var X=0;X<K.length;X++){var Y=K[X];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(V,Y.key,Y)}}return function(V,K,X){return K&&N(V.prototype,K),X&&N(V,X),V}}(),u=i(21),l=A(u),f=i(11),c=A(f),d=i(3),g=A(d),y=i(2),m=A(y),_=i(20),p=A(_),h=i(0),b=A(h),v=i(5),w=A(v),O=i(10),T=A(O),E=i(9),k=A(E);function A(N){return N&&N.__esModule?N:{default:N}}function S(N,V,K){return V in N?Object.defineProperty(N,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):N[V]=K,N}function R(N,V){if(!(N instanceof V))throw new TypeError("Cannot call a class as a function")}function I(N,V){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:N}function P(N,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}var x=(0,T.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(N){P(V,N),a(V,null,[{key:"match",value:function(X,Y){return Y=j(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(z){return!!Y[z]!==X[z]&&Y[z]!==null})?!1:Y.key===(X.which||X.keyCode)}}]);function V(K,X){R(this,V);var Y=I(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,X));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(z){z==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[z]&&Y.addBinding(Y.options.bindings[z])}),Y.addBinding({key:V.keys.ENTER,shiftKey:null},U),Y.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},H),Y.addBinding({key:V.keys.DELETE},{collapsed:!0},W)):(Y.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),Y.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),Y.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},M),Y.addBinding({key:V.keys.DELETE},{collapsed:!1},M),Y.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),Y.listen(),Y}return a(V,[{key:"addBinding",value:function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=j(X);if(Q==null||Q.key==null)return x.warn("Attempted to add invalid keyboard binding",Q);typeof Y=="function"&&(Y={handler:Y}),typeof z=="function"&&(z={handler:z}),Q=(0,g.default)(Q,Y,z),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var z=Y.which||Y.keyCode,Q=(X.bindings[z]||[]).filter(function(Re){return V.match(Y,Re)});if(Q.length!==0){var ee=X.quill.getSelection();if(!(ee==null||!X.quill.hasFocus())){var te=X.quill.getLine(ee.index),oe=s(te,2),ce=oe[0],ie=oe[1],J=X.quill.getLeaf(ee.index),re=s(J,2),ue=re[0],he=re[1],C=ee.length===0?[ue,he]:X.quill.getLeaf(ee.index+ee.length),L=s(C,2),B=L[0],Z=L[1],ne=ue instanceof b.default.Text?ue.value().slice(0,he):"",ae=B instanceof b.default.Text?B.value().slice(Z):"",pe={collapsed:ee.length===0,empty:ee.length===0&&ce.length()<=1,format:X.quill.getFormat(ee),offset:ie,prefix:ne,suffix:ae},Ie=Q.some(function(Re){if(Re.collapsed!=null&&Re.collapsed!==pe.collapsed||Re.empty!=null&&Re.empty!==pe.empty||Re.offset!=null&&Re.offset!==pe.offset)return!1;if(Array.isArray(Re.format)){if(Re.format.every(function(Ae){return pe.format[Ae]==null}))return!1}else if(o(Re.format)==="object"&&!Object.keys(Re.format).every(function(Ae){return Re.format[Ae]===!0?pe.format[Ae]!=null:Re.format[Ae]===!1?pe.format[Ae]==null:(0,c.default)(Re.format[Ae],pe.format[Ae])}))return!1;return Re.prefix!=null&&!Re.prefix.test(pe.prefix)||Re.suffix!=null&&!Re.suffix.test(pe.suffix)?!1:Re.handler.call(X,ee,pe)!==!0});Ie&&Y.preventDefault()}}}})}}]),V}(k.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(V,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,K){K.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,w.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(V){this.quill.history.cutoff();var K=new m.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(K,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,w.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,K){this.quill.format("list",!1,w.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var K=this.quill.getLine(V.index),X=s(K,2),Y=X[0],z=X[1],Q=(0,g.default)({},Y.formats(),{list:"checked"}),ee=new m.default().retain(V.index).insert(`
`,Q).retain(Y.length()-z-1).retain(1,{list:"unchecked"});this.quill.updateContents(ee,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,K){var X=this.quill.getLine(V.index),Y=s(X,2),z=Y[0],Q=Y[1],ee=new m.default().retain(V.index).insert(`
`,K.format).retain(z.length()-Q-1).retain(1,{header:null});this.quill.updateContents(ee,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,K){var X=K.prefix.length,Y=this.quill.getLine(V.index),z=s(Y,2),Q=z[0],ee=z[1];if(ee>X)return!0;var te=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":te="unchecked";break;case"[x]":te="checked";break;case"-":case"*":te="bullet";break;default:te="ordered"}this.quill.insertText(V.index," ",w.default.sources.USER),this.quill.history.cutoff();var oe=new m.default().retain(V.index-ee).delete(X+1).retain(Q.length()-2-ee).retain(1,{list:te});this.quill.updateContents(oe,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-X,w.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var K=this.quill.getLine(V.index),X=s(K,2),Y=X[0],z=X[1],Q=new m.default().retain(V.index+Y.length()-z-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,w.default.sources.USER)}},"embed left":G(F.keys.LEFT,!1),"embed left shift":G(F.keys.LEFT,!0),"embed right":G(F.keys.RIGHT,!1),"embed right shift":G(F.keys.RIGHT,!0)}};function G(N,V){var K,X=N===F.keys.LEFT?"prefix":"suffix";return K={key:N,shiftKey:V,altKey:null},S(K,X,/^$/),S(K,"handler",function(z){var Q=z.index;N===F.keys.RIGHT&&(Q+=z.length+1);var ee=this.quill.getLeaf(Q),te=s(ee,1),oe=te[0];return oe instanceof b.default.Embed?(N===F.keys.LEFT?V?this.quill.setSelection(z.index-1,z.length+1,w.default.sources.USER):this.quill.setSelection(z.index-1,w.default.sources.USER):V?this.quill.setSelection(z.index,z.length+1,w.default.sources.USER):this.quill.setSelection(z.index+z.length+1,w.default.sources.USER),!1):!0}),K}function H(N,V){if(!(N.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(N.index),X=s(K,1),Y=X[0],z={};if(V.offset===0){var Q=this.quill.getLine(N.index-1),ee=s(Q,1),te=ee[0];if(te!=null&&te.length()>1){var oe=Y.formats(),ce=this.quill.getFormat(N.index-1,1);z=p.default.attributes.diff(oe,ce)||{}}}var ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(N.index-ie,ie,w.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(N.index-ie,ie,z,w.default.sources.USER),this.quill.focus()}}function W(N,V){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(N.index>=this.quill.getLength()-K)){var X={},Y=0,z=this.quill.getLine(N.index),Q=s(z,1),ee=Q[0];if(V.offset>=ee.length()-1){var te=this.quill.getLine(N.index+1),oe=s(te,1),ce=oe[0];if(ce){var ie=ee.formats(),J=this.quill.getFormat(N.index,1);X=p.default.attributes.diff(ie,J)||{},Y=ce.length()}}this.quill.deleteText(N.index,K,w.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(N.index+Y-1,K,X,w.default.sources.USER)}}function M(N){var V=this.quill.getLines(N),K={};if(V.length>1){var X=V[0].formats(),Y=V[V.length-1].formats();K=p.default.attributes.diff(Y,X)||{}}this.quill.deleteText(N,w.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(N.index,1,K,w.default.sources.USER),this.quill.setSelection(N.index,w.default.sources.SILENT),this.quill.focus()}function U(N,V){var K=this;N.length>0&&this.quill.scroll.deleteAt(N.index,N.length);var X=Object.keys(V.format).reduce(function(Y,z){return b.default.query(z,b.default.Scope.BLOCK)&&!Array.isArray(V.format[z])&&(Y[z]=V.format[z]),Y},{});this.quill.insertText(N.index,`
`,X,w.default.sources.USER),this.quill.setSelection(N.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(Y){X[Y]==null&&(Array.isArray(V.format[Y])||Y!=="link"&&K.quill.format(Y,V.format[Y],w.default.sources.USER))})}function q(N){return{key:F.keys.TAB,shiftKey:!N,format:{"code-block":!0},handler:function(K){var X=b.default.query("code-block"),Y=K.index,z=K.length,Q=this.quill.scroll.descendant(X,Y),ee=s(Q,2),te=ee[0],oe=ee[1];if(te!=null){var ce=this.quill.getIndex(te),ie=te.newlineIndex(oe,!0)+1,J=te.newlineIndex(ce+oe+z),re=te.domNode.textContent.slice(ie,J).split(`
`);oe=0,re.forEach(function(ue,he){N?(te.insertAt(ie+oe,X.TAB),oe+=X.TAB.length,he===0?Y+=X.TAB.length:z+=X.TAB.length):ue.startsWith(X.TAB)&&(te.deleteAt(ie+oe,X.TAB.length),oe-=X.TAB.length,he===0?Y-=X.TAB.length:z-=X.TAB.length),oe+=ue.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(Y,z,w.default.sources.SILENT)}}}}function $(N){return{key:N[0].toUpperCase(),shortKey:!0,handler:function(K,X){this.quill.format(N,!X.format[N],w.default.sources.USER)}}}function j(N){if(typeof N=="string"||typeof N=="number")return j({key:N});if((typeof N>"u"?"undefined":o(N))==="object"&&(N=(0,l.default)(N,!1)),typeof N.key=="string")if(F.keys[N.key.toUpperCase()]!=null)N.key=F.keys[N.key.toUpperCase()];else if(N.key.length===1)N.key=N.key.toUpperCase().charCodeAt(0);else return null;return N.shortKey&&(N[D]=N.shortKey,delete N.shortKey),N}r.default=F,r.SHORTKEY=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(h,b){var v=[],w=!0,O=!1,T=void 0;try{for(var E=h[Symbol.iterator](),k;!(w=(k=E.next()).done)&&(v.push(k.value),!(b&&v.length===b));w=!0);}catch(A){O=!0,T=A}finally{try{!w&&E.return&&E.return()}finally{if(O)throw T}}return v}return function(h,b){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return p(h,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(v)}},a=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),u=i(0),l=d(u),f=i(7),c=d(f);function d(p){return p&&p.__esModule?p:{default:p}}function g(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function y(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function m(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var _=function(p){m(h,p),a(h,null,[{key:"value",value:function(){}}]);function h(b,v){g(this,h);var w=y(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,b));return w.selection=v,w.textNode=document.createTextNode(h.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(h,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,w){if(this._length!==0)return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,v,w);for(var O=this,T=0;O!=null&&O.statics.scope!==l.default.Scope.BLOCK_BLOT;)T+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=h.CONTENTS.length,O.optimize(),O.formatAt(T,h.CONTENTS.length,v,w),this._length=0)}},{key:"index",value:function(v,w){return v===this.textNode?0:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,v,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,w=this.selection.getNativeRange(),O=void 0,T=void 0,E=void 0;if(w!=null&&w.start.node===v&&w.end.node===v){var k=[v,w.start.offset,w.end.offset];O=k[0],T=k[1],E=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==h.CONTENTS){var A=this.textNode.data.split(h.CONTENTS).join("");this.next instanceof c.default?(O=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=h.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(l.default.create(this.textNode),this),this.textNode=document.createTextNode(h.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var S=[T,E].map(function(I){return Math.max(0,Math.min(O.data.length,I-1))}),R=o(S,2);return T=R[0],E=R[1],{startNode:O,startOffset:T,endNode:O,endOffset:E}}}}},{key:"update",value:function(v,w){var O=this;if(v.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var T=this.restore();T&&(w.range=T)}}},{key:"value",value:function(){return""}}]),h}(l.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=l(o),a=i(4),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);g.allowedChildren=[u.default,a.BlockEmbed,g],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),s=function _(p,h,b){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,h);if(v===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:_(w,h,b)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(b)}},a=i(0),u=l(a);function l(_){return _&&_.__esModule?_:{default:_}}function f(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function c(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function d(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var g=function(_){d(p,_);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(b){var v=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,b);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):v}}]),p}(u.default.Attributor.Style),y=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),m=new g("color","color",{scope:u.default.Scope.INLINE});r.ColorAttributor=g,r.ColorClass=y,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function m(_,p){for(var h=0;h<p.length;h++){var b=p[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,h){return p&&m(_.prototype,p),h&&m(_,h),_}}(),s=function m(_,p,h){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,p);if(b===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:m(v,p,h)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(h)}},a=i(6),u=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function f(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function c(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function d(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var g=function(m){d(_,m);function _(){return f(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(h,b){if(h!==this.statics.blotName||!b)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,h,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(h){var b=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,h);return h=this.sanitize(h),b.setAttribute("href",h),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return y(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),_}(u.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(m,_){var p=document.createElement("a");p.href=m;var h=p.href.slice(0,p.href.indexOf(":"));return _.indexOf(h)>-1}r.default=g,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),a=i(23),u=c(a),l=i(107),f=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var g=0;function y(_,p){_.setAttribute(p,_.getAttribute(p)!=="true")}var m=function(){function _(p){var h=this;d(this,_),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case u.default.keys.ENTER:h.togglePicker();break;case u.default.keys.ESCAPE:h.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var b=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),h.hasAttribute("value")&&v.setAttribute("data-value",h.getAttribute("value")),h.textContent&&v.setAttribute("data-label",h.textContent),v.addEventListener("click",function(){b.selectItem(v,!0)}),v.addEventListener("keydown",function(w){switch(w.keyCode){case u.default.keys.ENTER:b.selectItem(v,!0),w.preventDefault();break;case u.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=f.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(v){var w=h.buildItem(v);b.appendChild(w),v.selected===!0&&h.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(b){h.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(h!==v&&(v!=null&&v.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var v=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),_}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=x(o),a=i(5),u=x(a),l=i(4),f=x(l),c=i(16),d=x(c),g=i(25),y=x(g),m=i(24),_=x(m),p=i(35),h=x(p),b=i(6),v=x(b),w=i(22),O=x(w),T=i(7),E=x(T),k=i(55),A=x(k),S=i(42),R=x(S),I=i(23),P=x(I);function x(D){return D&&D.__esModule?D:{default:D}}u.default.register({"blots/block":f.default,"blots/block/embed":l.BlockEmbed,"blots/break":d.default,"blots/container":y.default,"blots/cursor":_.default,"blots/embed":h.default,"blots/inline":v.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":A.default,"modules/history":R.default,"modules/keyboard":P.default}),s.default.register(f.default,d.default,_.default,v.default,O.default,E.default),r.default=u.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(u){this.domNode=u,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(u){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var l;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?l=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?l=document.createElement(u):l=document.createElement(this.tagName[0])):l=document.createElement(this.tagName),this.className&&l.classList.add(this.className),l},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return o.create(u)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(u,l){var f=this.isolate(u,l);f.remove()},a.prototype.formatAt=function(u,l,f,c){var d=this.isolate(u,l);if(o.query(f,o.Scope.BLOT)!=null&&c)d.wrap(f,c);else if(o.query(f,o.Scope.ATTRIBUTE)!=null){var g=o.create(this.statics.scope);d.wrap(g),g.format(f,c)}},a.prototype.insertAt=function(u,l,f){var c=f==null?o.create("text",l):o.create(l,f),d=this.split(u);this.parent.insertBefore(c,d)},a.prototype.insertInto=function(u,l){l===void 0&&(l=null),this.parent!=null&&this.parent.children.remove(this);var f=null;u.children.insertBefore(this,l),l!=null&&(f=l.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=f)&&u.domNode.insertBefore(this.domNode,f),this.parent=u,this.attach()},a.prototype.isolate=function(u,l){var f=this.split(u);return f.split(l),f},a.prototype.length=function(){return 1},a.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},a.prototype.optimize=function(u){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},a.prototype.replaceWith=function(u,l){var f=typeof u=="string"?o.create(u,l):u;return f.replace(this),f},a.prototype.split=function(u,l){return u===0?this:this.next},a.prototype.update=function(u,l){},a.prototype.wrap=function(u,l){var f=typeof u=="string"?o.create(u,l):u;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),u=i(1),l=function(){function f(c){this.attributes={},this.domNode=c,this.build()}return f.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},f.prototype.build=function(){var c=this;this.attributes={};var d=o.default.keys(this.domNode),g=s.default.keys(this.domNode),y=a.default.keys(this.domNode);d.concat(g).concat(y).forEach(function(m){var _=u.query(m,u.Scope.ATTRIBUTE);_ instanceof o.default&&(c.attributes[_.attrName]=_)})},f.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(g){var y=d.attributes[g].value(d.domNode);c.format(g,y)})},f.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(g){d.attributes[g].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,g){return d[g]=c.attributes[g].value(c.domNode),d},{})},f}();r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(l,f){var c=l.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var u=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(c){var d=a(c,this.keyName);d.forEach(function(g){c.classList.remove(g)}),c.classList.length===0&&c.removeAttribute("class")},f.prototype.value=function(c){var d=a(c,this.keyName)[0]||"",g=d.slice(this.keyName.length+1);return this.canAdd(c,g)?g:""},f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(l){var f=l.split("-"),c=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+c}var u=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var g=d.split(":");return g[0].trim()})},f.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},f.prototype.value=function(c){var d=c.style[a(this.keyName)];return this.canAdd(c,d)?d:""},f}(s.default);r.default=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function u(l,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,f,c){return f&&u(l.prototype,f),c&&u(l,c),l}}();function s(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function u(l,f){s(this,u),this.quill=l,this.options=f,this.modules={}}return o(u,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(c){f.modules[c]==null&&f.addModule(c)})}},{key:"addModule",value:function(f){var c=this.quill.constructor.import("modules/"+f);return this.modules[f]=new c(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),u}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),s=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(v)}},a=i(0),u=c(a),l=i(7),f=c(l);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function g(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function y(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var m="\uFEFF",_=function(p){y(h,p);function h(b){d(this,h);var v=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,b));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(w){v.contentNode.appendChild(w)}),v.leftGuard=document.createTextNode(m),v.rightGuard=document.createTextNode(m),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return o(h,[{key:"index",value:function(v,w){return v===this.leftGuard?0:v===this.rightGuard?1:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,v,w)}},{key:"restore",value:function(v){var w=void 0,O=void 0,T=v.data.split(m).join("");if(v===this.leftGuard)if(this.prev instanceof f.default){var E=this.prev.length();this.prev.insertAt(E,T),w={startNode:this.prev.domNode,startOffset:E+T.length}}else O=document.createTextNode(T),this.parent.insertBefore(u.default.create(O),this),w={startNode:O,startOffset:T.length};else v===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,T),w={startNode:this.next.domNode,startOffset:T.length}):(O=document.createTextNode(T),this.parent.insertBefore(u.default.create(O),this.next),w={startNode:O,startOffset:T.length}));return v.data=m,w}},{key:"update",value:function(v,w){var O=this;v.forEach(function(T){if(T.type==="characterData"&&(T.target===O.leftGuard||T.target===O.rightGuard)){var E=O.restore(T.target);E&&(w.range=E)}})}}]),h}(u.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var u={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new s.default.Attributor.Attribute("align","align",u),f=new s.default.Attributor.Class("align","ql-align",u),c=new s.default.Attributor.Style("align","text-align",u);r.AlignAttribute=l,r.AlignClass=f,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=u(o),a=i(26);function u(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=l,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var u={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},l=new s.default.Attributor.Attribute("direction","dir",u),f=new s.default.Attributor.Class("direction","ql-direction",u),c=new s.default.Attributor.Style("direction","direction",u);r.DirectionAttribute=l,r.DirectionClass=f,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),s=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(v)}},a=i(0),u=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function f(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function d(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var g={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new u.default.Attributor.Class("font","ql-font",g),m=function(p){d(h,p);function h(){return f(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"value",value:function(v){return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),h}(u.default.Attributor.Style),_=new m("font","font-family",g);r.FontStyle=_,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=u,r.SizeStyle=l},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(v,w){for(var O=0;O<w.length;O++){var T=w[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,O){return w&&b(v.prototype,w),O&&b(v,O),v}}(),s=i(0),a=d(s),u=i(5),l=d(u),f=i(9),c=d(f);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function y(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function m(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var _=function(b){m(v,b);function v(w,O){g(this,v);var T=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,O));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(l.default.events.EDITOR_CHANGE,function(E,k,A,S){E!==l.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||S===l.default.sources.USER?T.record(k,A):T.transform(k))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(v,[{key:"change",value:function(O,T){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[T].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],l.default.sources.USER),this.ignoreChange=!1;var k=h(E[O]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,T){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(T),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var A=this.stack.undo.pop();E=E.compose(A.undo),O=A.redo.compose(O)}else this.lastRecorded=k;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(T){T.undo=O.transform(T.undo,!0),T.redo=O.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=O.transform(T.undo,!0),T.redo=O.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(c.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(b){var v=b.ops[b.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function h(b){var v=b.reduce(function(O,T){return O+=T.delete||0,O},0),w=b.length()-v;return p(b)&&(w-=1),w}r.default=_,r.getLastChangeIndex=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function U(q,$){for(var j=0;j<$.length;j++){var N=$[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(q,N.key,N)}}return function(q,$,j){return $&&U(q.prototype,$),j&&U(q,j),q}}(),s=function U(q,$,j){q===null&&(q=Function.prototype);var N=Object.getOwnPropertyDescriptor(q,$);if(N===void 0){var V=Object.getPrototypeOf(q);return V===null?void 0:U(V,$,j)}else{if("value"in N)return N.value;var K=N.get;return K===void 0?void 0:K.call(j)}},a=i(3),u=k(a),l=i(2),f=k(l),c=i(8),d=k(c),g=i(23),y=k(g),m=i(34),_=k(m),p=i(59),h=k(p),b=i(60),v=k(b),w=i(28),O=k(w),T=i(61),E=k(T);function k(U){return U&&U.__esModule?U:{default:U}}function A(U,q){if(!(U instanceof q))throw new TypeError("Cannot call a class as a function")}function S(U,q){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:U}function R(U,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);U.prototype=Object.create(q&&q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(U,q):U.__proto__=q)}var I=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],D=["1","2","3",!1],F=["small",!1,"large","huge"],G=function(U){R(q,U);function q($,j){A(this,q);var N=S(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,$,j)),V=function K(X){if(!document.body.contains($.root))return document.body.removeEventListener("click",K);N.tooltip!=null&&!N.tooltip.root.contains(X.target)&&document.activeElement!==N.tooltip.textbox&&!N.quill.hasFocus()&&N.tooltip.hide(),N.pickers!=null&&N.pickers.forEach(function(Y){Y.container.contains(X.target)||Y.close()})};return $.emitter.listenDOM("click",document.body,V),N}return o(q,[{key:"addModule",value:function(j){var N=s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,j);return j==="toolbar"&&this.extendToolbar(N),N}},{key:"buildButtons",value:function(j,N){j.forEach(function(V){var K=V.getAttribute("class")||"";K.split(/\s+/).forEach(function(X){if(!!X.startsWith("ql-")&&(X=X.slice(3),N[X]!=null))if(X==="direction")V.innerHTML=N[X][""]+N[X].rtl;else if(typeof N[X]=="string")V.innerHTML=N[X];else{var Y=V.value||"";Y!=null&&N[X][Y]&&(V.innerHTML=N[X][Y])}})})}},{key:"buildPickers",value:function(j,N){var V=this;this.pickers=j.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&M(X,I),new v.default(X,N.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var Y=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&M(X,P,Y==="background"?"#ffffff":"#000000"),new h.default(X,N[Y])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?M(X,x):X.classList.contains("ql-header")?M(X,D):X.classList.contains("ql-size")&&M(X,F)),new O.default(X)});var K=function(){V.pickers.forEach(function(Y){Y.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,K)}}]),q}(_.default);G.DEFAULTS=(0,u.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var j=new FileReader;j.onload=function(N){var V=q.quill.getSelection(!0);q.quill.updateContents(new f.default().retain(V.index).delete(V.length).insert({image:N.target.result}),d.default.sources.USER),q.quill.setSelection(V.index+1,d.default.sources.SILENT),$.value=""},j.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(U){R(q,U);function q($,j){A(this,q);var N=S(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,$,j));return N.textbox=N.root.querySelector('input[type="text"]'),N.listen(),N}return o(q,[{key:"listen",value:function(){var j=this;this.textbox.addEventListener("keydown",function(N){y.default.match(N,"enter")?(j.save(),N.preventDefault()):y.default.match(N,"escape")&&(j.cancel(),N.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),N!=null?this.textbox.value=N:j!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+j)||""),this.root.setAttribute("data-mode",j)}},{key:"restoreFocus",value:function(){var j=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=j}},{key:"save",value:function(){var j=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var N=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",j,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",j,d.default.sources.USER)),this.quill.root.scrollTop=N;break}case"video":j=W(j);case"formula":{if(!j)break;var V=this.quill.getSelection(!0);if(V!=null){var K=V.index+V.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),j,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",d.default.sources.USER),this.quill.setSelection(K+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q}(E.default);function W(U){var q=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":U}function M(U,q){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(j){var N=document.createElement("option");j===$?N.setAttribute("selected","selected"):N.setAttribute("value",j),U.appendChild(N)})}r.BaseTooltip=H,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var u,l=this.iterator();u=l();)if(u===a)return!0;return!1},s.prototype.insertBefore=function(a,u){!a||(a.next=u,u!=null?(a.prev=u.prev,u.prev!=null&&(u.prev.next=a),u.prev=a,u===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var u=0,l=this.head;l!=null;){if(l===a)return u;u+=l.length(),l=l.next}return-1},s.prototype.remove=function(a){!this.contains(a)||(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var u=a;return a!=null&&(a=a.next),u}},s.prototype.find=function(a,u){u===void 0&&(u=!1);for(var l,f=this.iterator();l=f();){var c=l.length();if(a<c||u&&a===c&&(l.next==null||l.next.length()!==0))return[l,a];a-=c}return[null,0]},s.prototype.forEach=function(a){for(var u,l=this.iterator();u=l();)a(u)},s.prototype.forEachAt=function(a,u,l){if(!(u<=0))for(var f=this.find(a),c=f[0],d=f[1],g,y=a-d,m=this.iterator(c);(g=m())&&y<a+u;){var _=g.length();a>y?l(g,a-y,Math.min(u,y+_-a)):l(g,0,Math.min(_,a+u-y)),y+=_}},s.prototype.map=function(a){return this.reduce(function(u,l){return u.push(a(l)),u},[])},s.prototype.reduce=function(a,u){for(var l,f=this.iterator();l=f();)u=a(u,l);return u},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var y in g)g.hasOwnProperty(y)&&(d[y]=g[y])};return function(d,g){c(d,g);function y(){this.constructor=d}d.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=100,f=function(c){o(d,c);function d(g){var y=c.call(this,g)||this;return y.scroll=y,y.observer=new MutationObserver(function(m){y.update(m)}),y.observer.observe(y.domNode,u),y.attach(),y}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(g,y){this.update(),g===0&&y===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,g,y)},d.prototype.formatAt=function(g,y,m,_){this.update(),c.prototype.formatAt.call(this,g,y,m,_)},d.prototype.insertAt=function(g,y,m){this.update(),c.prototype.insertAt.call(this,g,y,m)},d.prototype.optimize=function(g,y){var m=this;g===void 0&&(g=[]),y===void 0&&(y={}),c.prototype.optimize.call(this,y);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)g.push(_.pop());for(var p=function(w,O){O===void 0&&(O=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),O&&p(w.parent))},h=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(h),w.optimize(y))},b=g,v=0;b.length>0;v+=1){if(v>=l)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var O=a.find(w.target,!0);O!=null&&(O.domNode===w.target&&(w.type==="childList"?(p(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(T){var E=a.find(T,!1);p(E,!1),E instanceof s.default&&E.children.forEach(function(k){p(k,!1)})})):w.type==="attributes"&&p(O.prev)),p(O))}),this.children.forEach(h),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)g.push(_.pop())}},d.prototype.update=function(g,y){var m=this;y===void 0&&(y={}),g=g||this.observer.takeRecords(),g.map(function(_){var p=a.find(_.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[_],p):(p.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===m||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],y)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,y),this.optimize(g,y)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])};return function(c,d){f(c,d);function g(){this.constructor=c}c.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function u(f,c){if(Object.keys(f).length!==Object.keys(c).length)return!1;for(var d in f)if(f[d]!==c[d])return!1;return!0}var l=function(f){o(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return f.formats.call(this,d)},c.prototype.format=function(d,g){var y=this;d===this.statics.blotName&&!g?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(c.blotName,!0)),y.attributes.copy(m)}),this.unwrap()):f.prototype.format.call(this,d,g)},c.prototype.formatAt=function(d,g,y,m){if(this.formats()[y]!=null||a.query(y,a.Scope.ATTRIBUTE)){var _=this.isolate(d,g);_.format(y,m)}else f.prototype.formatAt.call(this,d,g,y,m)},c.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var y=this.next;y instanceof c&&y.prev===this&&u(g,y.formats())&&(y.moveChildren(this),y.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),u=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(c){var d=a.query(f.blotName).tagName;if(c.tagName!==d)return l.formats.call(this,c)},f.prototype.format=function(c,d){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(f.blotName):l.prototype.format.call(this,c,d))},f.prototype.formatAt=function(c,d,g,y){a.query(g,a.Scope.BLOCK)!=null?this.format(g,y):l.prototype.formatAt.call(this,c,d,g,y)},f.prototype.insertAt=function(c,d,g){if(g==null||a.query(d,a.Scope.INLINE)!=null)l.prototype.insertAt.call(this,c,d,g);else{var y=this.split(c),m=a.create(d,g);y.parent.insertBefore(m,y)}},f.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():l.prototype.update.call(this,c,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])};return function(l,f){u(l,f);function c(){this.constructor=l}l.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(u){o(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.formats=function(f){},l.prototype.format=function(f,c){u.prototype.formatAt.call(this,0,this.length(),f,c)},l.prototype.formatAt=function(f,c,d,g){f===0&&c===this.length()?this.format(d,g):u.prototype.formatAt.call(this,f,c,d,g)},l.prototype.formats=function(){return this.statics.formats(this.domNode)},l}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){l(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),u=function(l){o(f,l);function f(c){var d=l.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(c){return document.createTextNode(c)},f.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},f.prototype.index=function(c,d){return this.domNode===c?d:-1},f.prototype.insertAt=function(c,d,g){g==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):l.prototype.insertAt.call(this,c,d,g)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(c){l.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(c,d){return[this.domNode,c]},f.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var g=a.create(this.domNode.splitText(c));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},f.prototype.update=function(c,d){var g=this;c.some(function(y){return y.type==="characterData"&&y.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=u},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,u){return arguments.length>1&&!this.contains(a)==!u?u:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,u){return u=u||0,this.substr(u,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,u){var l=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>l.length)&&(u=l.length),u-=a.length;var f=l.indexOf(a,u);return f!==-1&&f===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var l=Object(this),f=l.length>>>0,c=arguments[1],d,g=0;g<f;g++)if(d=l[g],u.call(c,d,g,l))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(v,w,O){if(v==w)return v?[[s,v]]:[];(O<0||v.length<O)&&(O=null);var T=c(v,w),E=v.substring(0,T);v=v.substring(T),w=w.substring(T),T=d(v,w);var k=v.substring(v.length-T);v=v.substring(0,v.length-T),w=w.substring(0,w.length-T);var A=u(v,w);return E&&A.unshift([s,E]),k&&A.push([s,k]),y(A),O!=null&&(A=p(A,O)),A=h(A),A}function u(v,w){var O;if(!v)return[[o,w]];if(!w)return[[i,v]];var T=v.length>w.length?v:w,E=v.length>w.length?w:v,k=T.indexOf(E);if(k!=-1)return O=[[o,T.substring(0,k)],[s,E],[o,T.substring(k+E.length)]],v.length>w.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,v],[o,w]];var A=g(v,w);if(A){var S=A[0],R=A[1],I=A[2],P=A[3],x=A[4],D=a(S,I),F=a(R,P);return D.concat([[s,x]],F)}return l(v,w)}function l(v,w){for(var O=v.length,T=w.length,E=Math.ceil((O+T)/2),k=E,A=2*E,S=new Array(A),R=new Array(A),I=0;I<A;I++)S[I]=-1,R[I]=-1;S[k+1]=0,R[k+1]=0;for(var P=O-T,x=P%2!=0,D=0,F=0,G=0,H=0,W=0;W<E;W++){for(var M=-W+D;M<=W-F;M+=2){var U=k+M,q;M==-W||M!=W&&S[U-1]<S[U+1]?q=S[U+1]:q=S[U-1]+1;for(var $=q-M;q<O&&$<T&&v.charAt(q)==w.charAt($);)q++,$++;if(S[U]=q,q>O)F+=2;else if($>T)D+=2;else if(x){var j=k+P-M;if(j>=0&&j<A&&R[j]!=-1){var N=O-R[j];if(q>=N)return f(v,w,q,$)}}}for(var V=-W+G;V<=W-H;V+=2){var j=k+V,N;V==-W||V!=W&&R[j-1]<R[j+1]?N=R[j+1]:N=R[j-1]+1;for(var K=N-V;N<O&&K<T&&v.charAt(O-N-1)==w.charAt(T-K-1);)N++,K++;if(R[j]=N,N>O)H+=2;else if(K>T)G+=2;else if(!x){var U=k+P-V;if(U>=0&&U<A&&S[U]!=-1){var q=S[U],$=k+q-U;if(N=O-N,q>=N)return f(v,w,q,$)}}}}return[[i,v],[o,w]]}function f(v,w,O,T){var E=v.substring(0,O),k=w.substring(0,T),A=v.substring(O),S=w.substring(T),R=a(E,k),I=a(A,S);return R.concat(I)}function c(v,w){if(!v||!w||v.charAt(0)!=w.charAt(0))return 0;for(var O=0,T=Math.min(v.length,w.length),E=T,k=0;O<E;)v.substring(k,E)==w.substring(k,E)?(O=E,k=O):T=E,E=Math.floor((T-O)/2+O);return E}function d(v,w){if(!v||!w||v.charAt(v.length-1)!=w.charAt(w.length-1))return 0;for(var O=0,T=Math.min(v.length,w.length),E=T,k=0;O<E;)v.substring(v.length-E,v.length-k)==w.substring(w.length-E,w.length-k)?(O=E,k=O):T=E,E=Math.floor((T-O)/2+O);return E}function g(v,w){var O=v.length>w.length?v:w,T=v.length>w.length?w:v;if(O.length<4||T.length*2<O.length)return null;function E(F,G,H){for(var W=F.substring(H,H+Math.floor(F.length/4)),M=-1,U="",q,$,j,N;(M=G.indexOf(W,M+1))!=-1;){var V=c(F.substring(H),G.substring(M)),K=d(F.substring(0,H),G.substring(0,M));U.length<K+V&&(U=G.substring(M-K,M)+G.substring(M,M+V),q=F.substring(0,H-K),$=F.substring(H+V),j=G.substring(0,M-K),N=G.substring(M+V))}return U.length*2>=F.length?[q,$,j,N,U]:null}var k=E(O,T,Math.ceil(O.length/4)),A=E(O,T,Math.ceil(O.length/2)),S;if(!k&&!A)return null;A?k?S=k[4].length>A[4].length?k:A:S=A:S=k;var R,I,P,x;v.length>w.length?(R=S[0],I=S[1],P=S[2],x=S[3]):(P=S[0],x=S[1],R=S[2],I=S[3]);var D=S[4];return[R,I,P,x,D]}function y(v){v.push([s,""]);for(var w=0,O=0,T=0,E="",k="",A;w<v.length;)switch(v[w][0]){case o:T++,k+=v[w][1],w++;break;case i:O++,E+=v[w][1],w++;break;case s:O+T>1?(O!==0&&T!==0&&(A=c(k,E),A!==0&&(w-O-T>0&&v[w-O-T-1][0]==s?v[w-O-T-1][1]+=k.substring(0,A):(v.splice(0,0,[s,k.substring(0,A)]),w++),k=k.substring(A),E=E.substring(A)),A=d(k,E),A!==0&&(v[w][1]=k.substring(k.length-A)+v[w][1],k=k.substring(0,k.length-A),E=E.substring(0,E.length-A))),O===0?v.splice(w-T,O+T,[o,k]):T===0?v.splice(w-O,O+T,[i,E]):v.splice(w-O-T,O+T,[i,E],[o,k]),w=w-O-T+(O?1:0)+(T?1:0)+1):w!==0&&v[w-1][0]==s?(v[w-1][1]+=v[w][1],v.splice(w,1)):w++,T=0,O=0,E="",k="";break}v[v.length-1][1]===""&&v.pop();var S=!1;for(w=1;w<v.length-1;)v[w-1][0]==s&&v[w+1][0]==s&&(v[w][1].substring(v[w][1].length-v[w-1][1].length)==v[w-1][1]?(v[w][1]=v[w-1][1]+v[w][1].substring(0,v[w][1].length-v[w-1][1].length),v[w+1][1]=v[w-1][1]+v[w+1][1],v.splice(w-1,1),S=!0):v[w][1].substring(0,v[w+1][1].length)==v[w+1][1]&&(v[w-1][1]+=v[w+1][1],v[w][1]=v[w][1].substring(v[w+1][1].length)+v[w+1][1],v.splice(w+1,1),S=!0)),w++;S&&y(v)}var m=a;m.INSERT=o,m.DELETE=i,m.EQUAL=s,n.exports=m;function _(v,w){if(w===0)return[s,v];for(var O=0,T=0;T<v.length;T++){var E=v[T];if(E[0]===i||E[0]===s){var k=O+E[1].length;if(w===k)return[T+1,v];if(w<k){v=v.slice();var A=w-O,S=[E[0],E[1].slice(0,A)],R=[E[0],E[1].slice(A)];return v.splice(T,1,S,R),[T+1,v]}else O=k}}throw new Error("cursor_pos is out of bounds!")}function p(v,w){var O=_(v,w),T=O[1],E=O[0],k=T[E],A=T[E+1];if(k==null)return v;if(k[0]!==s)return v;if(A!=null&&k[1]+A[1]===A[1]+k[1])return T.splice(E,2,A,k),b(T,E,2);if(A!=null&&A[1].indexOf(k[1])===0){T.splice(E,2,[A[0],k[1]],[0,k[1]]);var S=A[1].slice(k[1].length);return S.length>0&&T.splice(E+2,0,[A[0],S]),b(T,E,3)}else return v}function h(v){for(var w=!1,O=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},T=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},E=2;E<v.length;E+=1)v[E-2][0]===s&&T(v[E-2][1])&&v[E-1][0]===i&&O(v[E-1][1])&&v[E][0]===o&&O(v[E][1])&&(w=!0,v[E-1][1]=v[E-2][1].slice(-1)+v[E-1][1],v[E][1]=v[E-2][1].slice(-1)+v[E][1],v[E-2][1]=v[E-2][1].slice(0,-1));if(!w)return v;for(var k=[],E=0;E<v.length;E+=1)v[E][1].length>0&&k.push(v[E]);return k}function b(v,w,O){for(var T=w+O-1;T>=0&&T>=w-1;T--)if(T+1<v.length){var E=v[T],k=v[T+1];E[0]===k[1]&&v.splice(T,2,[E[0],E[1]+k[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(l,f,c){this.fn=l,this.context=f,this.once=c||!1}function u(){this._events=new s,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)i.call(c,d)&&f.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},u.prototype.listeners=function(f,c){var d=o?o+f:f,g=this._events[d];if(c)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var y=0,m=g.length,_=new Array(m);y<m;y++)_[y]=g[y].fn;return _},u.prototype.emit=function(f,c,d,g,y,m){var _=o?o+f:f;if(!this._events[_])return!1;var p=this._events[_],h=arguments.length,b,v;if(p.fn){switch(p.once&&this.removeListener(f,p.fn,void 0,!0),h){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,d),!0;case 4:return p.fn.call(p.context,c,d,g),!0;case 5:return p.fn.call(p.context,c,d,g,y),!0;case 6:return p.fn.call(p.context,c,d,g,y,m),!0}for(v=1,b=new Array(h-1);v<h;v++)b[v-1]=arguments[v];p.fn.apply(p.context,b)}else{var w=p.length,O;for(v=0;v<w;v++)switch(p[v].once&&this.removeListener(f,p[v].fn,void 0,!0),h){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,c);break;case 3:p[v].fn.call(p[v].context,c,d);break;case 4:p[v].fn.call(p[v].context,c,d,g);break;default:if(!b)for(O=1,b=new Array(h-1);O<h;O++)b[O-1]=arguments[O];p[v].fn.apply(p[v].context,b)}}return!0},u.prototype.on=function(f,c,d){var g=new a(c,d||this),y=o?o+f:f;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],g]:this._events[y].push(g):(this._events[y]=g,this._eventsCount++),this},u.prototype.once=function(f,c,d){var g=new a(c,d||this,!0),y=o?o+f:f;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],g]:this._events[y].push(g):(this._events[y]=g,this._eventsCount++),this},u.prototype.removeListener=function(f,c,d,g){var y=o?o+f:f;if(!this._events[y])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var m=this._events[y];if(m.fn)m.fn===c&&(!g||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var _=0,p=[],h=m.length;_<h;_++)(m[_].fn!==c||g&&!m[_].once||d&&m[_].context!==d)&&p.push(m[_]);p.length?this._events[y]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},u.prototype.removeAllListeners=function(f){var c;return f?(c=o?o+f:f,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=o,u.EventEmitter=u,typeof n<"u"&&(n.exports=u)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},s=function(){function J(re,ue){var he=[],C=!0,L=!1,B=void 0;try{for(var Z=re[Symbol.iterator](),ne;!(C=(ne=Z.next()).done)&&(he.push(ne.value),!(ue&&he.length===ue));C=!0);}catch(ae){L=!0,B=ae}finally{try{!C&&Z.return&&Z.return()}finally{if(L)throw B}}return he}return function(re,ue){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return J(re,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function J(re,ue){for(var he=0;he<ue.length;he++){var C=ue[he];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(re,C.key,C)}}return function(re,ue,he){return ue&&J(re.prototype,ue),he&&J(re,he),re}}(),u=i(3),l=R(u),f=i(2),c=R(f),d=i(0),g=R(d),y=i(5),m=R(y),_=i(10),p=R(_),h=i(9),b=R(h),v=i(36),w=i(37),O=i(13),T=R(O),E=i(26),k=i(38),A=i(39),S=i(40);function R(J){return J&&J.__esModule?J:{default:J}}function I(J,re,ue){return re in J?Object.defineProperty(J,re,{value:ue,enumerable:!0,configurable:!0,writable:!0}):J[re]=ue,J}function P(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}function x(J,re){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:J}function D(J,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);J.prototype=Object.create(re&&re.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(J,re):J.__proto__=re)}var F=(0,p.default)("quill:clipboard"),G="__ql-matcher",H=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,te],["br",z],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,ce],["li",ee],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",Q]],W=[v.AlignAttribute,k.DirectionAttribute].reduce(function(J,re){return J[re.keyName]=re,J},{}),M=[v.AlignStyle,w.BackgroundStyle,E.ColorStyle,k.DirectionStyle,A.FontStyle,S.SizeStyle].reduce(function(J,re){return J[re.keyName]=re,J},{}),U=function(J){D(re,J);function re(ue,he){P(this,re);var C=x(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,ue,he));return C.quill.root.addEventListener("paste",C.onPaste.bind(C)),C.container=C.quill.addContainer("ql-clipboard"),C.container.setAttribute("contenteditable",!0),C.container.setAttribute("tabindex",-1),C.matchers=[],H.concat(C.options.matchers).forEach(function(L){var B=s(L,2),Z=B[0],ne=B[1];!he.matchVisual&&ne===oe||C.addMatcher(Z,ne)}),C}return a(re,[{key:"addMatcher",value:function(he,C){this.matchers.push([he,C])}},{key:"convert",value:function(he){if(typeof he=="string")return this.container.innerHTML=he.replace(/\>\r?\n +\</g,"><"),this.convert();var C=this.quill.getFormat(this.quill.selection.savedRange.index);if(C[T.default.blotName]){var L=this.container.innerText;return this.container.innerHTML="",new c.default().insert(L,I({},T.default.blotName,C[T.default.blotName]))}var B=this.prepareMatching(),Z=s(B,2),ne=Z[0],ae=Z[1],pe=V(this.container,ne,ae);return j(pe,`
`)&&pe.ops[pe.ops.length-1].attributes==null&&(pe=pe.compose(new c.default().retain(pe.length()-1).delete(1))),F.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(he,C){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof he=="string")this.quill.setContents(this.convert(he),C),this.quill.setSelection(0,m.default.sources.SILENT);else{var B=this.convert(C);this.quill.updateContents(new c.default().retain(he).concat(B),L),this.quill.setSelection(he+B.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(he){var C=this;if(!(he.defaultPrevented||!this.quill.isEnabled())){var L=this.quill.getSelection(),B=new c.default().retain(L.index),Z=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){B=B.concat(C.convert()).delete(L.length),C.quill.updateContents(B,m.default.sources.USER),C.quill.setSelection(B.length()-L.length,m.default.sources.SILENT),C.quill.scrollingContainer.scrollTop=Z,C.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var he=this,C=[],L=[];return this.matchers.forEach(function(B){var Z=s(B,2),ne=Z[0],ae=Z[1];switch(ne){case Node.TEXT_NODE:L.push(ae);break;case Node.ELEMENT_NODE:C.push(ae);break;default:[].forEach.call(he.container.querySelectorAll(ne),function(pe){pe[G]=pe[G]||[],pe[G].push(ae)});break}}),[C,L]}}]),re}(b.default);U.DEFAULTS={matchers:[],matchVisual:!0};function q(J,re,ue){return(typeof re>"u"?"undefined":o(re))==="object"?Object.keys(re).reduce(function(he,C){return q(he,C,re[C])},J):J.reduce(function(he,C){return C.attributes&&C.attributes[re]?he.push(C):he.insert(C.insert,(0,l.default)({},I({},re,ue),C.attributes))},new c.default)}function $(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return J[re]||(J[re]=window.getComputedStyle(J))}function j(J,re){for(var ue="",he=J.ops.length-1;he>=0&&ue.length<re.length;--he){var C=J.ops[he];if(typeof C.insert!="string")break;ue=C.insert+ue}return ue.slice(-1*re.length)===re}function N(J){if(J.childNodes.length===0)return!1;var re=$(J);return["block","list-item"].indexOf(re.display)>-1}function V(J,re,ue){return J.nodeType===J.TEXT_NODE?ue.reduce(function(he,C){return C(J,he)},new c.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(he,C){var L=V(C,re,ue);return C.nodeType===J.ELEMENT_NODE&&(L=re.reduce(function(B,Z){return Z(C,B)},L),L=(C[G]||[]).reduce(function(B,Z){return Z(C,B)},L)),he.concat(L)},new c.default):new c.default}function K(J,re,ue){return q(ue,J,!0)}function X(J,re){var ue=g.default.Attributor.Attribute.keys(J),he=g.default.Attributor.Class.keys(J),C=g.default.Attributor.Style.keys(J),L={};return ue.concat(he).concat(C).forEach(function(B){var Z=g.default.query(B,g.default.Scope.ATTRIBUTE);Z!=null&&(L[Z.attrName]=Z.value(J),L[Z.attrName])||(Z=W[B],Z!=null&&(Z.attrName===B||Z.keyName===B)&&(L[Z.attrName]=Z.value(J)||void 0),Z=M[B],Z!=null&&(Z.attrName===B||Z.keyName===B)&&(Z=M[B],L[Z.attrName]=Z.value(J)||void 0))}),Object.keys(L).length>0&&(re=q(re,L)),re}function Y(J,re){var ue=g.default.query(J);if(ue==null)return re;if(ue.prototype instanceof g.default.Embed){var he={},C=ue.value(J);C!=null&&(he[ue.blotName]=C,re=new c.default().insert(he,ue.formats(J)))}else typeof ue.formats=="function"&&(re=q(re,ue.blotName,ue.formats(J)));return re}function z(J,re){return j(re,`
`)||re.insert(`
`),re}function Q(){return new c.default}function ee(J,re){var ue=g.default.query(J);if(ue==null||ue.blotName!=="list-item"||!j(re,`
`))return re;for(var he=-1,C=J.parentNode;!C.classList.contains("ql-clipboard");)(g.default.query(C)||{}).blotName==="list"&&(he+=1),C=C.parentNode;return he<=0?re:re.compose(new c.default().retain(re.length()-1).retain(1,{indent:he}))}function te(J,re){return j(re,`
`)||(N(J)||re.length()>0&&J.nextSibling&&N(J.nextSibling))&&re.insert(`
`),re}function oe(J,re){if(N(J)&&J.nextElementSibling!=null&&!j(re,`

`)){var ue=J.offsetHeight+parseFloat($(J).marginTop)+parseFloat($(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+ue*1.5&&re.insert(`
`)}return re}function ce(J,re){var ue={},he=J.style||{};return he.fontStyle&&$(J).fontStyle==="italic"&&(ue.italic=!0),he.fontWeight&&($(J).fontWeight.startsWith("bold")||parseInt($(J).fontWeight)>=700)&&(ue.bold=!0),Object.keys(ue).length>0&&(re=q(re,ue)),parseFloat(he.textIndent||0)>0&&(re=new c.default().insert("	").concat(re)),re}function ie(J,re){var ue=J.data;if(J.parentNode.tagName==="O:P")return re.insert(ue.trim());if(ue.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return re;if(!$(J.parentNode).whiteSpace.startsWith("pre")){var he=function(L,B){return B=B.replace(/[^\u00a0]/g,""),B.length<1&&L?" ":B};ue=ue.replace(/\r\n/g," ").replace(/\n/g," "),ue=ue.replace(/\s\s+/g,he.bind(he,!0)),(J.previousSibling==null&&N(J.parentNode)||J.previousSibling!=null&&N(J.previousSibling))&&(ue=ue.replace(/^\s+/,he.bind(he,!1))),(J.nextSibling==null&&N(J.parentNode)||J.nextSibling!=null&&N(J.nextSibling))&&(ue=ue.replace(/\s+$/,he.bind(he,!1)))}return re.insert(ue)}r.default=U,r.matchAttributor=X,r.matchBlot=Y,r.matchNewline=te,r.matchSpacing=oe,r.matchText=ie},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(m,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}return function(m,_,p){return _&&y(m.prototype,_),p&&y(m,p),m}}(),s=function y(m,_,p){m===null&&(m=Function.prototype);var h=Object.getOwnPropertyDescriptor(m,_);if(h===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,_,p)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(p)}},a=i(6),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(p){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(u.default);g.blotName="bold",g.tagName=["STRONG","B"],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(R,I){var P=[],x=!0,D=!1,F=void 0;try{for(var G=R[Symbol.iterator](),H;!(x=(H=G.next()).done)&&(P.push(H.value),!(I&&P.length===I));x=!0);}catch(W){D=!0,F=W}finally{try{!x&&G.return&&G.return()}finally{if(D)throw F}}return P}return function(R,I){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(R,I){for(var P=0;P<I.length;P++){var x=I[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}return function(R,I,P){return I&&S(R.prototype,I),P&&S(R,P),R}}(),a=i(2),u=p(a),l=i(0),f=p(l),c=i(5),d=p(c),g=i(10),y=p(g),m=i(9),_=p(m);function p(S){return S&&S.__esModule?S:{default:S}}function h(S,R,I){return R in S?Object.defineProperty(S,R,{value:I,enumerable:!0,configurable:!0,writable:!0}):S[R]=I,S}function b(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function v(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function w(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var O=(0,y.default)("quill:toolbar"),T=function(S){w(R,S);function R(I,P){b(this,R);var x=v(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I,P));if(Array.isArray(x.options.container)){var D=document.createElement("div");k(D,x.options.container),I.container.parentNode.insertBefore(D,I.container),x.container=D}else typeof x.options.container=="string"?x.container=document.querySelector(x.options.container):x.container=x.options.container;if(!(x.container instanceof HTMLElement)){var F;return F=O.error("Container required for toolbar",x.options),v(x,F)}return x.container.classList.add("ql-toolbar"),x.controls=[],x.handlers={},Object.keys(x.options.handlers).forEach(function(G){x.addHandler(G,x.options.handlers[G])}),[].forEach.call(x.container.querySelectorAll("button, select"),function(G){x.attach(G)}),x.quill.on(d.default.events.EDITOR_CHANGE,function(G,H){G===d.default.events.SELECTION_CHANGE&&x.update(H)}),x.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var G=x.quill.selection.getRange(),H=o(G,1),W=H[0];x.update(W)}),x}return s(R,[{key:"addHandler",value:function(P,x){this.handlers[P]=x}},{key:"attach",value:function(P){var x=this,D=[].find.call(P.classList,function(G){return G.indexOf("ql-")===0});if(!!D){if(D=D.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[D]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[D]==null){O.warn("ignoring attaching to disabled format",D,P);return}if(f.default.query(D)==null){O.warn("ignoring attaching to nonexistent format",D,P);return}}var F=P.tagName==="SELECT"?"change":"click";P.addEventListener(F,function(G){var H=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var W=P.options[P.selectedIndex];W.hasAttribute("selected")?H=!1:H=W.value||!1}else P.classList.contains("ql-active")?H=!1:H=P.value||!P.hasAttribute("value"),G.preventDefault();x.quill.focus();var M=x.quill.selection.getRange(),U=o(M,1),q=U[0];if(x.handlers[D]!=null)x.handlers[D].call(x,H);else if(f.default.query(D).prototype instanceof f.default.Embed){if(H=prompt("Enter "+D),!H)return;x.quill.updateContents(new u.default().retain(q.index).delete(q.length).insert(h({},D,H)),d.default.sources.USER)}else x.quill.format(D,H,d.default.sources.USER);x.update(q)}),this.controls.push([D,P])}}},{key:"update",value:function(P){var x=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(D){var F=o(D,2),G=F[0],H=F[1];if(H.tagName==="SELECT"){var W=void 0;if(P==null)W=null;else if(x[G]==null)W=H.querySelector("option[selected]");else if(!Array.isArray(x[G])){var M=x[G];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),W=H.querySelector('option[value="'+M+'"]')}W==null?(H.value="",H.selectedIndex=-1):W.selected=!0}else if(P==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var U=x[G]===H.getAttribute("value")||x[G]!=null&&x[G].toString()===H.getAttribute("value")||x[G]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",U)}else H.classList.toggle("ql-active",x[G]!=null)})}}]),R}(_.default);T.DEFAULTS={};function E(S,R,I){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+R),I!=null&&(P.value=I),S.appendChild(P)}function k(S,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(I){var P=document.createElement("span");P.classList.add("ql-formats"),I.forEach(function(x){if(typeof x=="string")E(P,x);else{var D=Object.keys(x)[0],F=x[D];Array.isArray(F)?A(P,D,F):E(P,D,F)}}),S.appendChild(P)})}function A(S,R,I){var P=document.createElement("select");P.classList.add("ql-"+R),I.forEach(function(x){var D=document.createElement("option");x!==!1?D.setAttribute("value",x):D.setAttribute("selected","selected"),P.appendChild(D)}),S.appendChild(P)}T.DEFAULTS={container:null,handlers:{clean:function(){var R=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(x){f.default.query(x,f.default.Scope.INLINE)!=null&&R.quill.format(x,!1)})}else this.quill.removeFormat(I,d.default.sources.USER)},direction:function(R){var I=this.quill.getFormat().align;R==="rtl"&&I==null?this.quill.format("align","right",d.default.sources.USER):!R&&I==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",R,d.default.sources.USER)},indent:function(R){var I=this.quill.getSelection(),P=this.quill.getFormat(I),x=parseInt(P.indent||0);if(R==="+1"||R==="-1"){var D=R==="+1"?1:-1;P.direction==="rtl"&&(D*=-1),this.quill.format("indent",x+D,d.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,d.default.sources.USER)},list:function(R){var I=this.quill.getSelection(),P=this.quill.getFormat(I);R==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",R,d.default.sources.USER)}}},r.default=T,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(m,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}return function(m,_,p){return _&&y(m.prototype,_),p&&y(m,p),m}}(),s=function y(m,_,p){m===null&&(m=Function.prototype);var h=Object.getOwnPropertyDescriptor(m,_);if(h===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,_,p)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(p)}},a=i(28),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(_,p){f(this,m);var h=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return h.label.innerHTML=p,h.container.classList.add("ql-color-picker"),[].slice.call(h.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),h}return o(m,[{key:"buildItem",value:function(p){var h=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,p);return h.style.backgroundColor=p.getAttribute("value")||"",h}},{key:"selectItem",value:function(p,h){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,h);var b=this.label.querySelector(".ql-color-label"),v=p&&p.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=v:b.style.fill=v)}}]),m}(u.default);r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(m,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}return function(m,_,p){return _&&y(m.prototype,_),p&&y(m,p),m}}(),s=function y(m,_,p){m===null&&(m=Function.prototype);var h=Object.getOwnPropertyDescriptor(m,_);if(h===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,_,p)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(p)}},a=i(28),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(_,p){f(this,m);var h=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return h.container.classList.add("ql-icon-picker"),[].forEach.call(h.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=p[b.getAttribute("data-value")||""]}),h.defaultItem=h.container.querySelector(".ql-selected"),h.selectItem(h.defaultItem),h}return o(m,[{key:"selectItem",value:function(p,h){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,h),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),m}(u.default);r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function u(l,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,f,c){return f&&u(l.prototype,f),c&&u(l,c),l}}();function s(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function u(l,f){var c=this;s(this,u),this.quill=l,this.boundsContainer=f||document.body,this.root=l.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var c=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),m=0;if(y.right>g.right&&(m=g.right-y.right,this.root.style.left=c+m+"px"),y.left<g.left&&(m=g.left-y.left,this.root.style.left=c+m+"px"),y.bottom>g.bottom){var _=y.bottom-y.top,p=f.bottom-f.top+_;this.root.style.top=d-p+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(S,R){var I=[],P=!0,x=!1,D=void 0;try{for(var F=S[Symbol.iterator](),G;!(P=(G=F.next()).done)&&(I.push(G.value),!(R&&I.length===R));P=!0);}catch(H){x=!0,D=H}finally{try{!P&&F.return&&F.return()}finally{if(x)throw D}}return I}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return A(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function A(S,R,I){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,R);if(P===void 0){var x=Object.getPrototypeOf(S);return x===null?void 0:A(x,R,I)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(I)}},a=function(){function A(S,R){for(var I=0;I<R.length;I++){var P=R[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,R,I){return R&&A(S.prototype,R),I&&A(S,I),S}}(),u=i(3),l=b(u),f=i(8),c=b(f),d=i(43),g=b(d),y=i(27),m=b(y),_=i(15),p=i(41),h=b(p);function b(A){return A&&A.__esModule?A:{default:A}}function v(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function w(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:A}function O(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(A){O(S,A);function S(R,I){v(this,S),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=T);var P=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,I));return P.quill.container.classList.add("ql-snow"),P}return a(S,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),h.default),this.tooltip=new k(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,x){I.handlers.link.call(I,!x.format.link)})}}]),S}(g.default);E.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var R=this.quill.getSelection();if(R==null||R.length==0)return;var I=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var P=this.quill.theme.tooltip;P.edit("link",I)}else this.quill.format("link",!1)}}}}});var k=function(A){O(S,A);function S(R,I){v(this,S);var P=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,I));return P.preview=P.root.querySelector("a.ql-preview"),P}return a(S,[{key:"listen",value:function(){var I=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(I.linkRange!=null){var x=I.linkRange;I.restoreFocus(),I.quill.formatText(x,"link",!1,c.default.sources.USER),delete I.linkRange}P.preventDefault(),I.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(P,x,D){if(P!=null){if(P.length===0&&D===c.default.sources.USER){var F=I.quill.scroll.descendant(m.default,P.index),G=o(F,2),H=G[0],W=G[1];if(H!=null){I.linkRange=new _.Range(P.index-W,H.length());var M=m.default.formats(H.domNode);I.preview.textContent=M,I.preview.setAttribute("href",M),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(d.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=C(o),a=i(36),u=i(38),l=i(64),f=i(65),c=C(f),d=i(66),g=C(d),y=i(67),m=C(y),_=i(37),p=i(26),h=i(39),b=i(40),v=i(56),w=C(v),O=i(68),T=C(O),E=i(27),k=C(E),A=i(69),S=C(A),R=i(70),I=C(R),P=i(71),x=C(P),D=i(72),F=C(D),G=i(73),H=C(G),W=i(13),M=C(W),U=i(74),q=C(U),$=i(75),j=C($),N=i(57),V=C(N),K=i(41),X=C(K),Y=i(28),z=C(Y),Q=i(59),ee=C(Q),te=i(60),oe=C(te),ce=i(61),ie=C(ce),J=i(108),re=C(J),ue=i(62),he=C(ue);function C(L){return L&&L.__esModule?L:{default:L}}s.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":l.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":M.default,"formats/header":g.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":W.Code,"formats/italic":T.default,"formats/link":k.default,"formats/script":S.default,"formats/strike":I.default,"formats/underline":x.default,"formats/image":F.default,"formats/video":H.default,"formats/list/item":y.ListItem,"modules/formula":q.default,"modules/syntax":j.default,"modules/toolbar":V.default,"themes/bubble":re.default,"themes/snow":he.default,"ui/icons":X.default,"ui/picker":z.default,"ui/icon-picker":oe.default,"ui/color-picker":ee.default,"ui/tooltip":ie.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function m(_,p){for(var h=0;h<p.length;h++){var b=p[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,h){return p&&m(_.prototype,p),h&&m(_,h),_}}(),s=function m(_,p,h){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,p);if(b===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:m(v,p,h)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(h)}},a=i(0),u=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function f(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function c(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function d(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var g=function(m){d(_,m);function _(){return f(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(h,b){if(b==="+1"||b==="-1"){var v=this.value(h)||0;b=b==="+1"?v+1:v-1}return b===0?(this.remove(h),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,h,b)}},{key:"canAdd",value:function(h,b){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,h,b)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,h,parseInt(b))}},{key:"value",value:function(h){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,h))||void 0}}]),_}(u.default.Attributor.Class),y=new g("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function l(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,m){for(var _=0;_<m.length;_++){var p=m[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),s=i(4),a=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function l(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function c(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){c(y,g);function y(){return l(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),y}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function v(w,O){for(var T=0;T<O.length;T++){var E=O[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,O,T){return O&&v(w.prototype,O),T&&v(w,T),w}}(),s=function v(w,O,T){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,O);if(E===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:v(k,O,T)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(T)}},a=i(0),u=g(a),l=i(4),f=g(l),c=i(25),d=g(c);function g(v){return v&&v.__esModule?v:{default:v}}function y(v,w,O){return w in v?Object.defineProperty(v,w,{value:O,enumerable:!0,configurable:!0,writable:!0}):v[w]=O,v}function m(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function _(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function p(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var h=function(v){p(w,v);function w(){return m(this,w),_(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(T,E){T===b.blotName&&!E?this.replaceWith(u.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,T,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,E){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,E),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,T,E))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,T)}}]),w}(f.default);h.blotName="list-item",h.tagName="LI";var b=function(v){p(w,v),o(w,null,[{key:"create",value:function(T){var E=T==="ordered"?"OL":"UL",k=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return(T==="checked"||T==="unchecked")&&k.setAttribute("data-checked",T==="checked"),k}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(O){m(this,w);var T=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,O)),E=function(A){if(A.target.parentNode===O){var S=T.statics.formats(O),R=u.default.find(A.target);S==="checked"?R.format("list","unchecked"):S==="unchecked"&&R.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),T}return o(w,[{key:"format",value:function(T,E){this.children.length>0&&this.children.tail.format(T,E)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,E){if(T instanceof h)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,T,E);else{var k=E==null?this.length():E.offset(this),A=this.split(k);A.parent.insertBefore(T,A)}}},{key:"optimize",value:function(T){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,T);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var E=u.default.create(this.statics.defaultChild);T.moveChildren(E),this.appendChild(E)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,T)}}]),w}(d.default);b.blotName="list",b.scope=u.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[h],r.ListItem=h,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function l(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(m,_){for(var p=0;p<_.length;p++){var h=_[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}return function(m,_,p){return _&&y(m.prototype,_),p&&y(m,p),m}}(),s=function y(m,_,p){m===null&&(m=Function.prototype);var h=Object.getOwnPropertyDescriptor(m,_);if(h===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:y(b,_,p)}else{if("value"in h)return h.value;var v=h.get;return v===void 0?void 0:v.call(p)}},a=i(6),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){d(m,y);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),m}(u.default);g.blotName="script",g.tagName=["SUB","SUP"],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function l(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function l(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),s=function _(p,h,b){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,h);if(v===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:_(w,h,b)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(b)}},a=i(0),u=f(a),l=i(27);function f(_){return _&&_.__esModule?_:{default:_}}function c(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function d(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function g(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var y=["alt","height","width"],m=function(_){g(p,_);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(b,v){y.indexOf(b)>-1?v?this.domNode.setAttribute(b,v):this.domNode.removeAttribute(b):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,b,v)}}],[{key:"create",value:function(b){var v=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,b);return typeof b=="string"&&v.setAttribute("src",this.sanitize(b)),v}},{key:"formats",value:function(b){return y.reduce(function(v,w){return b.hasAttribute(w)&&(v[w]=b.getAttribute(w)),v},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,l.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),p}(u.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),s=function _(p,h,b){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,h);if(v===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:_(w,h,b)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(b)}},a=i(4),u=i(27),l=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function c(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function d(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function g(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var y=["height","width"],m=function(_){g(p,_);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(b,v){y.indexOf(b)>-1?v?this.domNode.setAttribute(b,v):this.domNode.removeAttribute(b):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,b,v)}}],[{key:"create",value:function(b){var v=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,b);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(b)),v}},{key:"formats",value:function(b){return y.reduce(function(v,w){return b.hasAttribute(w)&&(v[w]=b.getAttribute(w)),v},{})}},{key:"sanitize",value:function(b){return l.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),p}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(v,w){for(var O=0;O<w.length;O++){var T=w[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,O){return w&&b(v.prototype,w),O&&b(v,O),v}}(),s=function b(v,w,O){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,w);if(T===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:b(E,w,O)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(O)}},a=i(35),u=g(a),l=i(5),f=g(l),c=i(9),d=g(c);function g(b){return b&&b.__esModule?b:{default:b}}function y(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function m(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function _(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p=function(b){_(v,b);function v(){return y(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(O){var T=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",O)),T}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),v}(u.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(b){_(v,b),o(v,null,[{key:"register",value:function(){f.default.register(p,!0)}}]);function v(){y(this,v);var w=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return v}(d.default);r.FormulaBlot=p,r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(T,E){for(var k=0;k<E.length;k++){var A=E[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,E,k){return E&&O(T.prototype,E),k&&O(T,k),T}}(),s=function O(T,E,k){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,E);if(A===void 0){var S=Object.getPrototypeOf(T);return S===null?void 0:O(S,E,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},a=i(0),u=m(a),l=i(5),f=m(l),c=i(9),d=m(c),g=i(13),y=m(g);function m(O){return O&&O.__esModule?O:{default:O}}function _(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function p(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:O}function h(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}var b=function(O){h(T,O);function T(){return _(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),T}(y.default);b.className="ql-syntax";var v=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),w=function(O){h(T,O),o(T,null,[{key:"register",value:function(){f.default.register(v,!0),f.default.register(b,!0)}}]);function T(E,k){_(this,T);var A=p(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E,k));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return A.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){A.highlight(),S=null},A.options.interval)}),A.highlight(),A}return o(T,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(S){S.highlight(k.options.highlight)}),this.quill.update(f.default.sources.SILENT),A!=null&&this.quill.setSelection(A,f.default.sources.SILENT)}}}]),T}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var T=window.hljs.highlightAuto(O);return T.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=v,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(E,k,A){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,k);if(S===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:T(R,k,A)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(A)}},s=function(){function T(E,k){for(var A=0;A<k.length;A++){var S=k[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,k,A){return k&&T(E.prototype,k),A&&T(E,A),E}}(),a=i(3),u=_(a),l=i(8),f=_(l),c=i(43),d=_(c),g=i(15),y=i(41),m=_(y);function _(T){return T&&T.__esModule?T:{default:T}}function p(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function h(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function b(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(T){b(E,T);function E(k,A){p(this,E),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=v);var S=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,A));return S.quill.container.classList.add("ql-bubble"),S}return s(E,[{key:"extendToolbar",value:function(A){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),m.default)}}]),E}(d.default);w.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(T){b(E,T);function E(k,A){p(this,E);var S=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,A));return S.quill.on(f.default.events.EDITOR_CHANGE,function(R,I,P,x){if(R===f.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&x===f.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var D=S.quill.getLines(I.index,I.length);if(D.length===1)S.position(S.quill.getBounds(I));else{var F=D[D.length-1],G=S.quill.getIndex(F),H=Math.min(F.length()-1,I.index+I.length-G),W=S.quill.getBounds(new g.Range(G,H));S.position(W)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(E,[{key:"listen",value:function(){var A=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var S=A.quill.getSelection();S!=null&&A.position(A.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var S=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,A),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",S===0)return S;R.style.marginLeft=-1*S-R.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(y2);var Uie=Wn&&Wn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tp=Wn&&Wn.__assign||function(){return Tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tp.apply(this,arguments)},qie=Wn&&Wn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Tm=Wn&&Wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Hr=Tm(ye.exports),Bie=Tm(fg.exports),Fl=Tm(Sa),XA=Tm(y2.exports),Vie=function(t){Uie(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,u){var l,f,c,d;o==="text-change"?(f=(l=r).onEditorChangeText)===null||f===void 0||f.call(l,r.editor.root.innerHTML,s,u,r.unprivilegedEditor):o==="selection-change"&&((d=(c=r).onEditorChangeSelection)===null||d===void 0||d.call(c,s,u,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i!=null?i:"",r}return e.prototype.validateProps=function(n){var r;if(Hr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Hr.default.Children.count(n.children)){var i=Hr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o!=null?o:"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),qie(this.cleanProps,this.dirtyProps).some(function(u){return!Fl.default(n[u],i.props[u])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Fl.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,u=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(o),ZA(function(){return i.setEditorSelection(l,u)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){!this.editor||this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new XA.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Fl.default(n.ops,r.ops):Fl.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),ZA(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Bie.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(u){n.editingArea=u}};return Hr.default.Children.count(i)?Hr.default.cloneElement(Hr.default.Children.only(i),a):o?Hr.default.createElement("pre",Tp({},a)):Hr.default.createElement("div",Tp({},a))},e.prototype.render=function(){var n;return Hr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n!=null?n:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(!!this.editor){var u=this.isDelta(this.value)?o.getContents():o.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=u,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,u,l,f;if(!!this.editor){var c=this.getEditorSelection(),d=!c&&n,g=c&&!n;Fl.default(n,c)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(u=(a=this.props).onFocus)===null||u===void 0||u.call(a,n,r,i):g&&((f=(l=this.props).onBlur)===null||f===void 0||f.call(l,c,r,i)))}},e.prototype.focus=function(){!this.editor||this.editor.focus()},e.prototype.blur=function(){!this.editor||(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=XA.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Hr.default.Component);function ZA(t){Promise.resolve().then(t)}var $1=Vie;function zie(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=n,r.readAsDataURL(t)})}var v2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Wn,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.i=function(o){return o},r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=41)}([function(n,r){function i(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}n.exports=i},function(n,r,i){var o=i(23),s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();n.exports=a},function(n,r){function i(o){return o!=null&&typeof o=="object"}n.exports=i},function(n,r,i){function o(c){var d=-1,g=c==null?0:c.length;for(this.clear();++d<g;){var y=c[d];this.set(y[0],y[1])}}var s=i(82),a=i(83),u=i(84),l=i(85),f=i(86);o.prototype.clear=s,o.prototype.delete=a,o.prototype.get=u,o.prototype.has=l,o.prototype.set=f,n.exports=o},function(n,r,i){function o(a,u){for(var l=a.length;l--;)if(s(a[l][0],u))return l;return-1}var s=i(8);n.exports=o},function(n,r,i){function o(d){return d==null?d===void 0?f:l:c&&c in Object(d)?a(d):u(d)}var s=i(17),a=i(71),u=i(94),l="[object Null]",f="[object Undefined]",c=s?s.toStringTag:void 0;n.exports=o},function(n,r,i){function o(a,u){var l=a.__data__;return s(u)?l[typeof u=="string"?"string":"hash"]:l.map}var s=i(80);n.exports=o},function(n,r,i){var o=i(11),s=o(Object,"create");n.exports=s},function(n,r){function i(o,s){return o===s||o!==o&&s!==s}n.exports=i},function(n,r,i){function o(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}i.d(r,"a",function(){return s});var s=function a(u){o(this,a),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=u.overlay,this.img=u.img,this.options=u.options,this.requestUpdate=u.onUpdate}},function(n,r,i){function o(a,u,l){u=="__proto__"&&s?s(a,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):a[u]=l}var s=i(22);n.exports=o},function(n,r,i){function o(u,l){var f=a(u,l);return s(f)?f:void 0}var s=i(55),a=i(72);n.exports=o},function(n,r,i){function o(u){return u!=null&&a(u.length)&&!s(u)}var s=i(13),a=i(32);n.exports=o},function(n,r,i){function o(d){if(!a(d))return!1;var g=s(d);return g==l||g==f||g==u||g==c}var s=i(5),a=i(0),u="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",c="[object Proxy]";n.exports=o},function(n,r){n.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(n,r,i){(function(o){/*!
* Quill Editor v1.3.6
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/(function(s,a){n.exports=a()})(typeof self<"u"&&self,function(){return function(s){function a(l){if(u[l])return u[l].exports;var f=u[l]={i:l,l:!1,exports:{}};return s[l].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var u={};return a.m=s,a.c=u,a.d=function(l,f,c){a.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:c})},a.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(f,"a",f),f},a.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},a.p="",a(a.s=109)}([function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(17),f=u(18),c=u(19),d=u(45),g=u(46),y=u(47),m=u(48),_=u(49),p=u(12),h=u(32),b=u(33),v=u(31),w=u(1),O={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:l.default,Format:f.default,Leaf:c.default,Embed:m.default,Scroll:d.default,Block:y.default,Inline:g.default,Text:_.default,Attributor:{Attribute:p.default,Class:h.default,Style:b.default,Store:v.default}};a.default=O},function(s,a,u){function l(v,w){var O=c(v);if(O==null)throw new y("Unable to create "+v+" blot");var T=O;return new T(v instanceof Node||v.nodeType===Node.TEXT_NODE?v:T.create(w),w)}function f(v,w){return w===void 0&&(w=!1),v==null?null:v[a.DATA_KEY]!=null?v[a.DATA_KEY].blot:w?f(v.parentNode,w):null}function c(v,w){w===void 0&&(w=b.ANY);var O;if(typeof v=="string")O=h[v]||m[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)O=h.text;else if(typeof v=="number")v&b.LEVEL&b.BLOCK?O=h.block:v&b.LEVEL&b.INLINE&&(O=h.inline);else if(v instanceof HTMLElement){var T=(v.getAttribute("class")||"").split(/\s+/);for(var E in T)if(O=_[T[E]])break;O=O||p[v.tagName]}return O==null?null:w&b.LEVEL&O.scope&&w&b.TYPE&O.scope?O:null}function d(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];if(v.length>1)return v.map(function(E){return d(E)});var O=v[0];if(typeof O.blotName!="string"&&typeof O.attrName!="string")throw new y("Invalid definition");if(O.blotName==="abstract")throw new y("Cannot register abstract class");if(h[O.blotName||O.attrName]=O,typeof O.keyName=="string")m[O.keyName]=O;else if(O.className!=null&&(_[O.className]=O),O.tagName!=null){Array.isArray(O.tagName)?O.tagName=O.tagName.map(function(E){return E.toUpperCase()}):O.tagName=O.tagName.toUpperCase();var T=Array.isArray(O.tagName)?O.tagName:[O.tagName];T.forEach(function(E){p[E]!=null&&O.className!=null||(p[E]=O)})}return O}var g=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,O){w.__proto__=O}||function(w,O){for(var T in O)O.hasOwnProperty(T)&&(w[T]=O[T])};return function(w,O){function T(){this.constructor=w}v(w,O),w.prototype=O===null?Object.create(O):(T.prototype=O.prototype,new T)}}();Object.defineProperty(a,"__esModule",{value:!0});var y=function(v){function w(O){var T=this;return O="[Parchment] "+O,T=v.call(this,O)||this,T.message=O,T.name=T.constructor.name,T}return g(w,v),w}(Error);a.ParchmentError=y;var m={},_={},p={},h={};a.DATA_KEY="__blot";var b;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(b=a.Scope||(a.Scope={})),a.create=l,a.find=f,a.query=c,a.register=d},function(s,a,u){var l=u(51),f=u(11),c=u(3),d=u(20),g=String.fromCharCode(0),y=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};y.prototype.insert=function(m,_){var p={};return m.length===0?this:(p.insert=m,_!=null&&typeof _=="object"&&Object.keys(_).length>0&&(p.attributes=_),this.push(p))},y.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},y.prototype.retain=function(m,_){if(m<=0)return this;var p={retain:m};return _!=null&&typeof _=="object"&&Object.keys(_).length>0&&(p.attributes=_),this.push(p)},y.prototype.push=function(m){var _=this.ops.length,p=this.ops[_-1];if(m=c(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[_-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(_-=1,typeof(p=this.ops[_-1])!="object"))return this.ops.unshift(m),this;if(f(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[_-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[_-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[_-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[_-1].attributes=m.attributes),this}}return _===this.ops.length?this.ops.push(m):this.ops.splice(_,0,m),this},y.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},y.prototype.filter=function(m){return this.ops.filter(m)},y.prototype.forEach=function(m){this.ops.forEach(m)},y.prototype.map=function(m){return this.ops.map(m)},y.prototype.partition=function(m){var _=[],p=[];return this.forEach(function(h){(m(h)?_:p).push(h)}),[_,p]},y.prototype.reduce=function(m,_){return this.ops.reduce(m,_)},y.prototype.changeLength=function(){return this.reduce(function(m,_){return _.insert?m+d.length(_):_.delete?m-_.delete:m},0)},y.prototype.length=function(){return this.reduce(function(m,_){return m+d.length(_)},0)},y.prototype.slice=function(m,_){m=m||0,typeof _!="number"&&(_=1/0);for(var p=[],h=d.iterator(this.ops),b=0;b<_&&h.hasNext();){var v;b<m?v=h.next(m-b):(v=h.next(_-b),p.push(v)),b+=d.length(v)}return new y(p)},y.prototype.compose=function(m){for(var _=d.iterator(this.ops),p=d.iterator(m.ops),h=new y;_.hasNext()||p.hasNext();)if(p.peekType()==="insert")h.push(p.next());else if(_.peekType()==="delete")h.push(_.next());else{var b=Math.min(_.peekLength(),p.peekLength()),v=_.next(b),w=p.next(b);if(typeof w.retain=="number"){var O={};typeof v.retain=="number"?O.retain=b:O.insert=v.insert;var T=d.attributes.compose(v.attributes,w.attributes,typeof v.retain=="number");T&&(O.attributes=T),h.push(O)}else typeof w.delete=="number"&&typeof v.retain=="number"&&h.push(w)}return h.chop()},y.prototype.concat=function(m){var _=new y(this.ops.slice());return m.ops.length>0&&(_.push(m.ops[0]),_.ops=_.ops.concat(m.ops.slice(1))),_},y.prototype.diff=function(m,_){if(this.ops===m.ops)return new y;var p=[this,m].map(function(O){return O.map(function(T){if(T.insert!=null)return typeof T.insert=="string"?T.insert:g;var E=O===m?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")}),h=new y,b=l(p[0],p[1],_),v=d.iterator(this.ops),w=d.iterator(m.ops);return b.forEach(function(O){for(var T=O[1].length;T>0;){var E=0;switch(O[0]){case l.INSERT:E=Math.min(w.peekLength(),T),h.push(w.next(E));break;case l.DELETE:E=Math.min(T,v.peekLength()),v.next(E),h.delete(E);break;case l.EQUAL:E=Math.min(v.peekLength(),w.peekLength(),T);var k=v.next(E),A=w.next(E);f(k.insert,A.insert)?h.retain(E,d.attributes.diff(k.attributes,A.attributes)):h.push(A).delete(E)}T-=E}}),h.chop()},y.prototype.eachLine=function(m,_){_=_||`
`;for(var p=d.iterator(this.ops),h=new y,b=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),w=d.length(v)-p.peekLength(),O=typeof v.insert=="string"?v.insert.indexOf(_,w)-w:-1;if(O<0)h.push(p.next());else if(O>0)h.push(p.next(O));else{if(m(h,p.next(1).attributes||{},b)===!1)return;b+=1,h=new y}}h.length()>0&&m(h,{},b)},y.prototype.transform=function(m,_){if(_=!!_,typeof m=="number")return this.transformPosition(m,_);for(var p=d.iterator(this.ops),h=d.iterator(m.ops),b=new y;p.hasNext()||h.hasNext();)if(p.peekType()!=="insert"||!_&&h.peekType()==="insert")if(h.peekType()==="insert")b.push(h.next());else{var v=Math.min(p.peekLength(),h.peekLength()),w=p.next(v),O=h.next(v);if(w.delete)continue;O.delete?b.push(O):b.retain(v,d.attributes.transform(w.attributes,O.attributes,_))}else b.retain(d.length(p.next()));return b.chop()},y.prototype.transformPosition=function(m,_){_=!!_;for(var p=d.iterator(this.ops),h=0;p.hasNext()&&h<=m;){var b=p.peekLength(),v=p.peekType();p.next(),v!=="delete"?(v==="insert"&&(h<m||!_)&&(m+=b),h+=b):m-=Math.min(b,m-h)}return m},s.exports=y},function(s,a){var u=Object.prototype.hasOwnProperty,l=Object.prototype.toString,f=function(d){return typeof Array.isArray=="function"?Array.isArray(d):l.call(d)==="[object Array]"},c=function(d){if(!d||l.call(d)!=="[object Object]")return!1;var g=u.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&u.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;var m;for(m in d);return m===void 0||u.call(d,m)};s.exports=function d(){var g,y,m,_,p,h,b=arguments[0],v=1,w=arguments.length,O=!1;for(typeof b=="boolean"&&(O=b,b=arguments[1]||{},v=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});v<w;++v)if((g=arguments[v])!=null)for(y in g)m=b[y],_=g[y],b!==_&&(O&&_&&(c(_)||(p=f(_)))?(p?(p=!1,h=m&&f(m)?m:[]):h=m&&c(m)?m:{},b[y]=d(O,h,_)):_!==void 0&&(b[y]=_));return b}},function(s,a,u){function l(P){return P&&P.__esModule?P:{default:P}}function f(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}function c(P,x){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?P:x}function d(P,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(P,x):P.__proto__=x)}function g(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null?x:(typeof P.formats=="function"&&(x=(0,p.default)(x,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope?x:g(P.parent,x))}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var y=function(){function P(x,D){for(var F=0;F<D.length;F++){var G=D[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(x,G.key,G)}}return function(x,D,F){return D&&P(x.prototype,D),F&&P(x,F),x}}(),m=function P(x,D,F){x===null&&(x=Function.prototype);var G=Object.getOwnPropertyDescriptor(x,D);if(G===void 0){var H=Object.getPrototypeOf(x);return H===null?void 0:P(H,D,F)}if("value"in G)return G.value;var W=G.get;if(W!==void 0)return W.call(F)},_=u(3),p=l(_),h=u(2),b=l(h),v=u(0),w=l(v),O=u(16),T=l(O),E=u(6),k=l(E),A=u(7),S=l(A),R=function(P){function x(){return f(this,x),c(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return d(x,P),y(x,[{key:"attach",value:function(){m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"attach",this).call(this),this.attributes=new w.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new b.default().insert(this.value(),(0,p.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,F){var G=w.default.query(D,w.default.Scope.BLOCK_ATTRIBUTE);G!=null&&this.attributes.attribute(G,F)}},{key:"formatAt",value:function(D,F,G,H){this.format(G,H)}},{key:"insertAt",value:function(D,F,G){if(typeof F=="string"&&F.endsWith(`
`)){var H=w.default.create(I.blotName);this.parent.insertBefore(H,D===0?this:this.next),H.insertAt(0,F.slice(0,-1))}else m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,D,F,G)}}]),x}(w.default.Embed);R.scope=w.default.Scope.BLOCK_BLOT;var I=function(P){function x(D){f(this,x);var F=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D));return F.cache={},F}return d(x,P),y(x,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(w.default.Leaf).reduce(function(D,F){return F.length()===0?D:D.insert(F.value(),g(F))},new b.default).insert(`
`,g(this))),this.cache.delta}},{key:"deleteAt",value:function(D,F){m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,D,F),this.cache={}}},{key:"formatAt",value:function(D,F,G,H){F<=0||(w.default.query(G,w.default.Scope.BLOCK)?D+F===this.length()&&this.format(G,H):m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,D,Math.min(F,this.length()-D-1),G,H),this.cache={})}},{key:"insertAt",value:function(D,F,G){if(G!=null)return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,D,F,G);if(F.length!==0){var H=F.split(`
`),W=H.shift();W.length>0&&(D<this.length()-1||this.children.tail==null?m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var M=this;H.reduce(function(U,q){return M=M.split(U,!0),M.insertAt(0,q),q.length},D+W.length)}}},{key:"insertBefore",value:function(D,F){var G=this.children.head;m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,D,F),G instanceof T.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(D,F){m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"moveChildren",this).call(this,D,F),this.cache={}}},{key:"optimize",value:function(D){m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(F&&(D===0||D>=this.length()-1)){var G=this.clone();return D===0?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}var H=m(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"split",this).call(this,D,F);return this.cache={},H}}]),x}(w.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[k.default,w.default.Embed,S.default],a.bubbleFormats=g,a.BlockEmbed=R,a.default=I},function(s,a,u){function l(q){return q&&q.__esModule?q:{default:q}}function f(q,$,j){return $ in q?Object.defineProperty(q,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):q[$]=j,q}function c(q,$){if(!(q instanceof $))throw new TypeError("Cannot call a class as a function")}function d(q,$){if($=(0,D.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},$),$.theme&&$.theme!==U.DEFAULTS.theme){if($.theme=U.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?")}else $.theme=W.default;var j=(0,D.default)(!0,{},$.theme.DEFAULTS);[j,$].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(X){K.modules[X]===!0&&(K.modules[X]={})})});var N=Object.keys(j.modules).concat(Object.keys($.modules)),V=N.reduce(function(K,X){var Y=U.import("modules/"+X);return Y==null?M.error("Cannot load "+X+" module. Are you sure you registered it?"):K[X]=Y.DEFAULTS||{},K},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,D.default)(!0,{},U.DEFAULTS,{modules:V},j,$),["bounds","container","scrollingContainer"].forEach(function(K){typeof $[K]=="string"&&($[K]=document.querySelector($[K]))}),$.modules=Object.keys($.modules).reduce(function(K,X){return $.modules[X]&&(K[X]=$.modules[X]),K},{}),$}function g(q,$,j,N){if(this.options.strict&&!this.isEnabled()&&$===E.default.sources.USER)return new v.default;var V=j==null?null:this.getSelection(),K=this.editor.delta,X=q();if(V!=null&&(j===!0&&(j=V.index),N==null?V=m(V,X,$):N!==0&&(V=m(V,j,N,$)),this.setSelection(V,E.default.sources.SILENT)),X.length()>0){var Y,z=[E.default.events.TEXT_CHANGE,X,K,$];if((Y=this.emitter).emit.apply(Y,[E.default.events.EDITOR_CHANGE].concat(z)),$!==E.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,z)}}return X}function y(q,$,j,N,V){var K={};return typeof q.index=="number"&&typeof q.length=="number"?typeof $!="number"?(V=N,N=j,j=$,$=q.length,q=q.index):($=q.length,q=q.index):typeof $!="number"&&(V=N,N=j,j=$,$=0),(j===void 0?"undefined":_(j))==="object"?(K=j,V=N):typeof j=="string"&&(N!=null?K[j]=N:V=j),V=V||E.default.sources.API,[q,$,K,V]}function m(q,$,j,N){if(q==null)return null;var V=void 0,K=void 0;if($ instanceof v.default){var X=[q.index,q.index+q.length].map(function(ee){return $.transformPosition(ee,N!==E.default.sources.USER)}),Y=p(X,2);V=Y[0],K=Y[1]}else{var z=[q.index,q.index+q.length].map(function(ee){return ee<$||ee===$&&N===E.default.sources.USER?ee:j>=0?ee+j:Math.max($,ee+j)}),Q=p(z,2);V=Q[0],K=Q[1]}return new I.Range(V,K-V)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},p=function(){function q($,j){var N=[],V=!0,K=!1,X=void 0;try{for(var Y,z=$[Symbol.iterator]();!(V=(Y=z.next()).done)&&(N.push(Y.value),!j||N.length!==j);V=!0);}catch(Q){K=!0,X=Q}finally{try{!V&&z.return&&z.return()}finally{if(K)throw X}}return N}return function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return q($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function q($,j){for(var N=0;N<j.length;N++){var V=j[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty($,V.key,V)}}return function($,j,N){return j&&q($.prototype,j),N&&q($,N),$}}();u(50);var b=u(2),v=l(b),w=u(14),O=l(w),T=u(8),E=l(T),k=u(9),A=l(k),S=u(0),R=l(S),I=u(15),P=l(I),x=u(3),D=l(x),F=u(10),G=l(F),H=u(34),W=l(H),M=(0,G.default)("quill"),U=function(){function q($){var j=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c(this,q),this.options=d($,N),this.container=this.options.container,this.container==null)return M.error("Invalid Quill container",$);this.options.debug&&q.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new E.default,this.scroll=R.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new O.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(E.default.events.EDITOR_CHANGE,function(X){X===E.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(E.default.events.SCROLL_UPDATE,function(X,Y){var z=j.selection.lastRange,Q=z&&z.length===0?z.index:void 0;g.call(j,function(){return j.editor.update(null,Y,Q)},X)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return h(q,null,[{key:"debug",value:function($){$===!0&&($="log"),G.default.level($)}},{key:"find",value:function($){return $.__quill||R.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&M.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,j){var N=this,V=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof $!="string"){var K=$.attrName||$.blotName;typeof K=="string"?this.register("formats/"+K,$,j):Object.keys($).forEach(function(X){N.register(X,$[X],j)})}else this.imports[$]==null||V||M.warn("Overwriting "+$+" with",j),this.imports[$]=j,($.startsWith("blots/")||$.startsWith("formats/"))&&j.blotName!=="abstract"?R.default.register(j):$.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]),h(q,[{key:"addContainer",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var N=$;$=document.createElement("div"),$.classList.add(N)}return this.container.insertBefore($,j),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,j,N){var V=this,K=y($,j,N),X=p(K,4);return $=X[0],j=X[1],N=X[3],g.call(this,function(){return V.editor.deleteText($,j)},N,$,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,j){var N=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;return g.call(this,function(){var K=N.getSelection(!0),X=new v.default;if(K==null)return X;if(R.default.query($,R.default.Scope.BLOCK))X=N.editor.formatLine(K.index,K.length,f({},$,j));else{if(K.length===0)return N.selection.format($,j),X;X=N.editor.formatText(K.index,K.length,f({},$,j))}return N.setSelection(K,E.default.sources.SILENT),X},V)}},{key:"formatLine",value:function($,j,N,V,K){var X=this,Y=void 0,z=y($,j,N,V,K),Q=p(z,4);return $=Q[0],j=Q[1],Y=Q[2],K=Q[3],g.call(this,function(){return X.editor.formatLine($,j,Y)},K,$,0)}},{key:"formatText",value:function($,j,N,V,K){var X=this,Y=void 0,z=y($,j,N,V,K),Q=p(z,4);return $=Q[0],j=Q[1],Y=Q[2],K=Q[3],g.call(this,function(){return X.editor.formatText($,j,Y)},K,$,0)}},{key:"getBounds",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=void 0;N=typeof $=="number"?this.selection.getBounds($,j):this.selection.getBounds($.index,$.length);var V=this.container.getBoundingClientRect();return{bottom:N.bottom-V.top,height:N.height,left:N.left-V.left,right:N.right-V.left,top:N.top-V.top,width:N.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,N=y($,j),V=p(N,2);return $=V[0],j=V[1],this.editor.getContents($,j)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,j):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,j)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,N=y($,j),V=p(N,2);return $=V[0],j=V[1],this.editor.getText($,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,j,N){var V=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return g.call(this,function(){return V.editor.insertEmbed($,j,N)},K,$)}},{key:"insertText",value:function($,j,N,V,K){var X=this,Y=void 0,z=y($,0,N,V,K),Q=p(z,4);return $=Q[0],Y=Q[2],K=Q[3],g.call(this,function(){return X.editor.insertText($,j,Y)},K,$,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,j,N){this.clipboard.dangerouslyPasteHTML($,j,N)}},{key:"removeFormat",value:function($,j,N){var V=this,K=y($,j,N),X=p(K,4);return $=X[0],j=X[1],N=X[3],g.call(this,function(){return V.editor.removeFormat($,j)},N,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var j=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E.default.sources.API;return g.call(this,function(){$=new v.default($);var V=j.getLength(),K=j.editor.deleteText(0,V),X=j.editor.applyDelta($),Y=X.ops[X.ops.length-1];return Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),X.delete(1)),K.compose(X)},N)}},{key:"setSelection",value:function($,j,N){if($==null)this.selection.setRange(null,j||q.sources.API);else{var V=y($,j,N),K=p(V,4);$=K[0],j=K[1],N=K[3],this.selection.setRange(new I.Range($,j),N),N!==E.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E.default.sources.API,N=new v.default().insert($);return this.setContents(N,j)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,j=this.scroll.update($);return this.selection.update($),j}},{key:"updateContents",value:function($){var j=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E.default.sources.API;return g.call(this,function(){return $=new v.default($),j.editor.applyDelta($,N)},N,!0)}}]),q}();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=E.default.events,U.sources=E.default.sources,U.version="1.3.6",U.imports={delta:v.default,parchment:R.default,"core/module":A.default,"core/theme":W.default},a.expandConfig=d,a.overload=y,a.default=U},function(s,a,u){function l(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function c(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?v:w}function d(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function v(w,O){for(var T=0;T<O.length;T++){var E=O[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,O,T){return O&&v(w.prototype,O),T&&v(w,T),w}}(),y=function v(w,O,T){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,O);if(E===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:v(k,O,T)}if("value"in E)return E.value;var A=E.get;if(A!==void 0)return A.call(T)},m=u(7),_=l(m),p=u(0),h=l(p),b=function(v){function w(){return f(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return d(w,v),g(w,[{key:"formatAt",value:function(O,T,E,k){if(w.compare(this.statics.blotName,E)<0&&h.default.query(E,h.default.Scope.BLOT)){var A=this.isolate(O,T);k&&A.wrap(E,k)}else y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,O,T,E,k)}},{key:"optimize",value:function(O){if(y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,O),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var T=this.parent.isolate(this.offset(),this.length());this.moveChildren(T),T.wrap(this)}}}],[{key:"compare",value:function(O,T){var E=w.order.indexOf(O),k=w.order.indexOf(T);return E>=0||k>=0?E-k:O===T?0:O<T?-1:1}}]),w}(h.default.Inline);b.allowedChildren=[b,h.default.Embed,_.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=b},function(s,a,u){function l(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}Object.defineProperty(a,"__esModule",{value:!0});var d=u(0),g=function(m){return m&&m.__esModule?m:{default:m}}(d),y=function(m){function _(){return l(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return c(_,m),_}(g.default.Text);a.default=y},function(s,a,u){function l(w){return w&&w.__esModule?w:{default:w}}function f(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}function c(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?w:O}function d(w,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);w.prototype=Object.create(O&&O.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(w,O):w.__proto__=O)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function w(O,T){for(var E=0;E<T.length;E++){var k=T[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,T,E){return T&&w(O.prototype,T),E&&w(O,E),O}}(),y=function w(O,T,E){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,T);if(k===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:w(A,T,E)}if("value"in k)return k.value;var S=k.get;if(S!==void 0)return S.call(E)},m=u(54),_=l(m),p=u(10),h=l(p),b=(0,h.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(w){document.addEventListener(w,function(){for(var O=arguments.length,T=Array(O),E=0;E<O;E++)T[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var A;(A=k.__quill.emitter).handleDOM.apply(A,T)}})})});var v=function(w){function O(){f(this,O);var T=c(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return T.listeners={},T.on("error",b.error),T}return d(O,w),g(O,[{key:"emit",value:function(){b.log.apply(b,arguments),y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var E=arguments.length,k=Array(E>1?E-1:0),A=1;A<E;A++)k[A-1]=arguments[A];(this.listeners[T.type]||[]).forEach(function(S){var R=S.node,I=S.handler;(T.target===R||R.contains(T.target))&&I.apply(void 0,[T].concat(k))})}},{key:"listenDOM",value:function(T,E,k){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:E,handler:k})}}]),O}(_.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},a.default=v},function(s,a,u){function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var f=function c(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,c),this.quill=d,this.options=g};f.DEFAULTS={},a.default=f},function(s,a,u){function l(g){if(c.indexOf(g)<=c.indexOf(d)){for(var y,m=arguments.length,_=Array(m>1?m-1:0),p=1;p<m;p++)_[p-1]=arguments[p];(y=console)[g].apply(y,_)}}function f(g){return c.reduce(function(y,m){return y[m]=l.bind(console,m,g),y},{})}Object.defineProperty(a,"__esModule",{value:!0});var c=["error","warn","log","info"],d="warn";l.level=f.level=function(g){d=g},a.default=f},function(s,a,u){function l(_){return _==null}function f(_){return!(!_||typeof _!="object"||typeof _.length!="number")&&typeof _.copy=="function"&&typeof _.slice=="function"&&!(_.length>0&&typeof _[0]!="number")}function c(_,p,h){var b,v;if(l(_)||l(p)||_.prototype!==p.prototype)return!1;if(y(_))return!!y(p)&&(_=d.call(_),p=d.call(p),m(_,p,h));if(f(_)){if(!f(p)||_.length!==p.length)return!1;for(b=0;b<_.length;b++)if(_[b]!==p[b])return!1;return!0}try{var w=g(_),O=g(p)}catch{return!1}if(w.length!=O.length)return!1;for(w.sort(),O.sort(),b=w.length-1;b>=0;b--)if(w[b]!=O[b])return!1;for(b=w.length-1;b>=0;b--)if(v=w[b],!m(_[v],p[v],h))return!1;return typeof _==typeof p}var d=Array.prototype.slice,g=u(52),y=u(53),m=s.exports=function(_,p,h){return h||(h={}),_===p||(_ instanceof Date&&p instanceof Date?_.getTime()===p.getTime():!_||!p||typeof _!="object"&&typeof p!="object"?h.strict?_===p:_==p:c(_,p,h))}},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(1),f=function(){function c(d,g,y){y===void 0&&(y={}),this.attrName=d,this.keyName=g;var m=l.Scope.TYPE&l.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&l.Scope.LEVEL|m:this.scope=l.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(g){return g.name})},c.prototype.add=function(d,g){return!!this.canAdd(d,g)&&(d.setAttribute(this.keyName,g),!0)},c.prototype.canAdd=function(d,g){return l.query(d,l.Scope.BLOT&(this.scope|l.Scope.TYPE))!=null&&(this.whitelist==null||(typeof g=="string"?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1))},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var g=d.getAttribute(this.keyName);return this.canAdd(d,g)&&g?g:""},c}();a.default=f},function(s,a,u){function l(R){return R&&R.__esModule?R:{default:R}}function f(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function c(R,I){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?R:I}function d(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(R,I):R.__proto__=I)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var g=function(){function R(I,P){var x=[],D=!0,F=!1,G=void 0;try{for(var H,W=I[Symbol.iterator]();!(D=(H=W.next()).done)&&(x.push(H.value),!P||x.length!==P);D=!0);}catch(M){F=!0,G=M}finally{try{!D&&W.return&&W.return()}finally{if(F)throw G}}return x}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return R(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function R(I,P){for(var x=0;x<P.length;x++){var D=P[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,P,x){return P&&R(I.prototype,P),x&&R(I,x),I}}(),m=function R(I,P,x){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,P);if(D===void 0){var F=Object.getPrototypeOf(I);return F===null?void 0:R(F,P,x)}if("value"in D)return D.value;var G=D.get;if(G!==void 0)return G.call(x)},_=u(2),p=l(_),h=u(0),b=l(h),v=u(4),w=l(v),O=u(6),T=l(O),E=u(7),k=l(E),A=function(R){function I(){return f(this,I),c(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return d(I,R),I}(T.default);A.blotName="code",A.tagName="CODE";var S=function(R){function I(){return f(this,I),c(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return d(I,R),y(I,[{key:"delta",value:function(){var P=this,x=this.domNode.textContent;return x.endsWith(`
`)&&(x=x.slice(0,-1)),x.split(`
`).reduce(function(D,F){return D.insert(F).insert(`
`,P.formats())},new p.default)}},{key:"format",value:function(P,x){if(P!==this.statics.blotName||!x){var D=this.descendant(k.default,this.length()-1),F=g(D,1),G=F[0];G!=null&&G.deleteAt(G.length()-1,1),m(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,x)}}},{key:"formatAt",value:function(P,x,D,F){if(x!==0&&b.default.query(D,b.default.Scope.BLOCK)!=null&&(D!==this.statics.blotName||F!==this.statics.formats(this.domNode))){var G=this.newlineIndex(P);if(!(G<0||G>=P+x)){var H=this.newlineIndex(P,!0)+1,W=G-H+1,M=this.isolate(H,W),U=M.next;M.format(D,F),U instanceof I&&U.formatAt(0,P-H+x-W,D,F)}}}},{key:"insertAt",value:function(P,x,D){if(D==null){var F=this.descendant(k.default,P),G=g(F,2),H=G[0],W=G[1];H.insertAt(W,x)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var x=this.domNode.textContent.slice(P).indexOf(`
`);return x>-1?P+x:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(b.default.create("text",`
`)),m(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===x.statics.formats(x.domNode)&&(x.optimize(P),x.moveChildren(this),x.remove())}},{key:"replace",value:function(P){m(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(x){var D=b.default.find(x);D==null?x.parentNode.removeChild(x):D instanceof b.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(P){var x=m(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return x.setAttribute("spellcheck",!1),x}},{key:"formats",value:function(){return!0}}]),I}(w.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",a.Code=A,a.default=S},function(s,a,u){function l(q){return q&&q.__esModule?q:{default:q}}function f(q,$,j){return $ in q?Object.defineProperty(q,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):q[$]=j,q}function c(q,$){if(!(q instanceof $))throw new TypeError("Cannot call a class as a function")}function d(q,$){return Object.keys($).reduce(function(j,N){return q[N]==null||($[N]===q[N]?j[N]=$[N]:Array.isArray($[N])?$[N].indexOf(q[N])<0&&(j[N]=$[N].concat([q[N]])):j[N]=[$[N],q[N]]),j},{})}function g(q){return q.reduce(function($,j){if(j.insert===1){var N=(0,D.default)(j.attributes);return delete N.image,$.insert({image:j.attributes.image},N)}if(j.attributes==null||j.attributes.list!==!0&&j.attributes.bullet!==!0||(j=(0,D.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var V=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(V,j.attributes)}return $.push(j)},new h.default)}Object.defineProperty(a,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},m=function(){function q($,j){var N=[],V=!0,K=!1,X=void 0;try{for(var Y,z=$[Symbol.iterator]();!(V=(Y=z.next()).done)&&(N.push(Y.value),!j||N.length!==j);V=!0);}catch(Q){K=!0,X=Q}finally{try{!V&&z.return&&z.return()}finally{if(K)throw X}}return N}return function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return q($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function q($,j){for(var N=0;N<j.length;N++){var V=j[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty($,V.key,V)}}return function($,j,N){return j&&q($.prototype,j),N&&q($,N),$}}(),p=u(2),h=l(p),b=u(20),v=l(b),w=u(0),O=l(w),T=u(13),E=l(T),k=u(24),A=l(k),S=u(4),R=l(S),I=u(16),P=l(I),x=u(21),D=l(x),F=u(11),G=l(F),H=u(3),W=l(H),M=/^[ -~]*$/,U=function(){function q($){c(this,q),this.scroll=$,this.delta=this.getDelta()}return _(q,[{key:"applyDelta",value:function($){var j=this,N=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),$=g($),$.reduce(function(K,X){var Y=X.retain||X.delete||X.insert.length||1,z=X.attributes||{};if(X.insert!=null){if(typeof X.insert=="string"){var Q=X.insert;Q.endsWith(`
`)&&N&&(N=!1,Q=Q.slice(0,-1)),K>=V&&!Q.endsWith(`
`)&&(N=!0),j.scroll.insertAt(K,Q);var ee=j.scroll.line(K),te=m(ee,2),oe=te[0],ce=te[1],ie=(0,W.default)({},(0,S.bubbleFormats)(oe));if(oe instanceof R.default){var J=oe.descendant(O.default.Leaf,ce),re=m(J,1),ue=re[0];ie=(0,W.default)(ie,(0,S.bubbleFormats)(ue))}z=v.default.attributes.diff(ie,z)||{}}else if(y(X.insert)==="object"){var he=Object.keys(X.insert)[0];if(he==null)return K;j.scroll.insertAt(K,he,X.insert[he])}V+=Y}return Object.keys(z).forEach(function(C){j.scroll.formatAt(K,Y,C,z[C])}),K+Y},0),$.reduce(function(K,X){return typeof X.delete=="number"?(j.scroll.deleteAt(K,X.delete),K):K+(X.retain||X.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,j){return this.scroll.deleteAt($,j),this.update(new h.default().retain($).delete(j))}},{key:"formatLine",value:function($,j){var N=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(K){if(N.scroll.whitelist==null||N.scroll.whitelist[K]){var X=N.scroll.lines($,Math.max(j,1)),Y=j;X.forEach(function(z){var Q=z.length();if(z instanceof E.default){var ee=$-z.offset(N.scroll),te=z.newlineIndex(ee+Y)-ee+1;z.formatAt(ee,te,K,V[K])}else z.format(K,V[K]);Y-=Q})}}),this.scroll.optimize(),this.update(new h.default().retain($).retain(j,(0,D.default)(V)))}},{key:"formatText",value:function($,j){var N=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(K){N.scroll.formatAt($,j,K,V[K])}),this.update(new h.default().retain($).retain(j,(0,D.default)(V)))}},{key:"getContents",value:function($,j){return this.delta.slice($,$+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,j){return $.concat(j.delta())},new h.default)}},{key:"getFormat",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=[],V=[];j===0?this.scroll.path($).forEach(function(X){var Y=m(X,1),z=Y[0];z instanceof R.default?N.push(z):z instanceof O.default.Leaf&&V.push(z)}):(N=this.scroll.lines($,j),V=this.scroll.descendants(O.default.Leaf,$,j));var K=[N,V].map(function(X){if(X.length===0)return{};for(var Y=(0,S.bubbleFormats)(X.shift());Object.keys(Y).length>0;){var z=X.shift();if(z==null)return Y;Y=d((0,S.bubbleFormats)(z),Y)}return Y});return W.default.apply(W.default,K)}},{key:"getText",value:function($,j){return this.getContents($,j).filter(function(N){return typeof N.insert=="string"}).map(function(N){return N.insert}).join("")}},{key:"insertEmbed",value:function($,j,N){return this.scroll.insertAt($,j,N),this.update(new h.default().retain($).insert(f({},j,N)))}},{key:"insertText",value:function($,j){var N=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,j),Object.keys(V).forEach(function(K){N.scroll.formatAt($,j.length,K,V[K])}),this.update(new h.default().retain($).insert(j,(0,D.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName===R.default.blotName&&!($.children.length>1)&&$.children.head instanceof P.default}},{key:"removeFormat",value:function($,j){var N=this.getText($,j),V=this.scroll.line($+j),K=m(V,2),X=K[0],Y=K[1],z=0,Q=new h.default;X!=null&&(z=X instanceof E.default?X.newlineIndex(Y)-Y+1:X.length()-Y,Q=X.delta().slice(Y,Y+z-1).insert(`
`));var ee=this.getContents($,j+z),te=ee.diff(new h.default().insert(N).concat(Q)),oe=new h.default().retain($).concat(te);return this.applyDelta(oe)}},{key:"update",value:function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(M)&&O.default.find(j[0].target)){var K=O.default.find(j[0].target),X=(0,S.bubbleFormats)(K),Y=K.offset(this.scroll),z=j[0].oldValue.replace(A.default.CONTENTS,""),Q=new h.default().insert(z),ee=new h.default().insert(K.value());$=new h.default().retain(Y).concat(Q.diff(ee,N)).reduce(function(te,oe){return oe.insert?te.insert(oe.insert,X):te.push(oe)},new h.default),this.delta=V.compose($)}else this.delta=this.getDelta(),$&&(0,G.default)(V.compose($),this.delta)||($=V.diff(this.delta,N));return $}}]),q}();a.default=U},function(s,a,u){function l(R){return R&&R.__esModule?R:{default:R}}function f(R){if(Array.isArray(R)){for(var I=0,P=Array(R.length);I<R.length;I++)P[I]=R[I];return P}return Array.from(R)}function c(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function d(R,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),R.contains(I)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var g=function(){function R(I,P){var x=[],D=!0,F=!1,G=void 0;try{for(var H,W=I[Symbol.iterator]();!(D=(H=W.next()).done)&&(x.push(H.value),!P||x.length!==P);D=!0);}catch(M){F=!0,G=M}finally{try{!D&&W.return&&W.return()}finally{if(F)throw G}}return x}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return R(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function R(I,P){for(var x=0;x<P.length;x++){var D=P[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,P,x){return P&&R(I.prototype,P),x&&R(I,x),I}}(),m=u(0),_=l(m),p=u(21),h=l(p),b=u(11),v=l(b),w=u(8),O=l(w),T=u(10),E=l(T),k=(0,E.default)("quill:selection"),A=function R(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,R),this.index=I,this.length=P},S=function(){function R(I,P){var x=this;c(this,R),this.emitter=P,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=_.default.create("cursor",this),this.lastRange=this.savedRange=new A(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,O.default.sources.USER),1)}),this.emitter.on(O.default.events.EDITOR_CHANGE,function(D,F){D===O.default.events.TEXT_CHANGE&&F.length()>0&&x.update(O.default.sources.SILENT)}),this.emitter.on(O.default.events.SCROLL_BEFORE_UPDATE,function(){if(x.hasFocus()){var D=x.getNativeRange();D!=null&&D.start.node!==x.cursor.textNode&&x.emitter.once(O.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(O.default.events.SCROLL_OPTIMIZE,function(D,F){if(F.range){var G=F.range,H=G.startNode,W=G.startOffset,M=G.endNode,U=G.endOffset;x.setNativeRange(H,W,M,U)}}),this.update(O.default.sources.SILENT)}return y(R,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var P=I.cursor.restore();if(!P)return;setTimeout(function(){I.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(O.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,P){if(this.scroll.whitelist==null||this.scroll.whitelist[I]){this.scroll.update();var x=this.getNativeRange();if(x!=null&&x.native.collapsed&&!_.default.query(I,_.default.Scope.BLOCK)){if(x.start.node!==this.cursor.textNode){var D=_.default.find(x.start.node,!1);if(D==null)return;if(D instanceof _.default.Leaf){var F=D.split(x.start.offset);D.parent.insertBefore(this.cursor,F)}else D.insertBefore(this.cursor,x.start.node);this.cursor.attach()}this.cursor.format(I,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this.scroll.length();I=Math.min(I,x-1),P=Math.min(I+P,x-1)-I;var D=void 0,F=this.scroll.leaf(I),G=g(F,2),H=G[0],W=G[1];if(H==null)return null;var M=H.position(W,!0),U=g(M,2);D=U[0],W=U[1];var q=document.createRange();if(P>0){q.setStart(D,W);var $=this.scroll.leaf(I+P),j=g($,2);if(H=j[0],W=j[1],H==null)return null;var N=H.position(W,!0),V=g(N,2);return D=V[0],W=V[1],q.setEnd(D,W),q.getBoundingClientRect()}var K="left",X=void 0;return D instanceof Text?(W<D.data.length?(q.setStart(D,W),q.setEnd(D,W+1)):(q.setStart(D,W-1),q.setEnd(D,W),K="right"),X=q.getBoundingClientRect()):(X=H.domNode.getBoundingClientRect(),W>0&&(K="right")),{bottom:X.top+X.height,height:X.height,left:X[K],right:X[K],top:X.top,width:0}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var P=I.getRangeAt(0);if(P==null)return null;var x=this.normalizeNative(P);return k.info("getNativeRange",x),x}},{key:"getRange",value:function(){var I=this.getNativeRange();return I==null?[null,null]:[this.normalizedToRange(I),I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var P=this,x=[[I.start.node,I.start.offset]];I.native.collapsed||x.push([I.end.node,I.end.offset]);var D=x.map(function(H){var W=g(H,2),M=W[0],U=W[1],q=_.default.find(M,!0),$=q.offset(P.scroll);return U===0?$:q instanceof _.default.Container?$+q.length():$+q.index(M,U)}),F=Math.min(Math.max.apply(Math,f(D)),this.scroll.length()-1),G=Math.min.apply(Math,[F].concat(f(D)));return new A(G,F-G)}},{key:"normalizeNative",value:function(I){if(!d(this.root,I.startContainer)||!I.collapsed&&!d(this.root,I.endContainer))return null;var P={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[P.start,P.end].forEach(function(x){for(var D=x.node,F=x.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>F)D=D.childNodes[F],F=0;else{if(D.childNodes.length!==F)break;D=D.lastChild,F=D instanceof Text?D.data.length:D.childNodes.length+1}x.node=D,x.offset=F}),P}},{key:"rangeToNative",value:function(I){var P=this,x=I.collapsed?[I.index]:[I.index,I.index+I.length],D=[],F=this.scroll.length();return x.forEach(function(G,H){G=Math.min(F-1,G);var W=void 0,M=P.scroll.leaf(G),U=g(M,2),q=U[0],$=U[1],j=q.position($,H!==0),N=g(j,2);W=N[0],$=N[1],D.push(W,$)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(I){var P=this.lastRange;if(P!=null){var x=this.getBounds(P.index,P.length);if(x!=null){var D=this.scroll.length()-1,F=this.scroll.line(Math.min(P.index,D)),G=g(F,1),H=G[0],W=H;if(P.length>0){var M=this.scroll.line(Math.min(P.index+P.length,D));W=g(M,1)[0]}if(H!=null&&W!=null){var U=I.getBoundingClientRect();x.top<U.top?I.scrollTop-=U.top-x.top:x.bottom>U.bottom&&(I.scrollTop+=x.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(I,P){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,F=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(k.info("setNativeRange",I,P,x,D),I==null||this.root.parentNode!=null&&I.parentNode!=null&&x.parentNode!=null){var G=document.getSelection();if(G!=null)if(I!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||F||I!==H.startContainer||P!==H.startOffset||x!==H.endContainer||D!==H.endOffset){I.tagName=="BR"&&(P=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),x.tagName=="BR"&&(D=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode);var W=document.createRange();W.setStart(I,P),W.setEnd(x,D),G.removeAllRanges(),G.addRange(W)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O.default.sources.API;if(typeof P=="string"&&(x=P,P=!1),k.info("setRange",I),I!=null){var D=this.rangeToNative(I);this.setNativeRange.apply(this,f(D).concat([P]))}else this.setNativeRange(null);this.update(x)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O.default.sources.USER,P=this.lastRange,x=this.getRange(),D=g(x,2),F=D[0],G=D[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,v.default)(P,this.lastRange)){var H;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[O.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(P),I];if((H=this.emitter).emit.apply(H,[O.default.events.EDITOR_CHANGE].concat(W)),I!==O.default.sources.SILENT){var M;(M=this.emitter).emit.apply(M,W)}}}}]),R}();a.Range=A,a.default=S},function(s,a,u){function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}function c(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),g=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}if("value"in w)return w.value;var T=w.get;if(T!==void 0)return T.call(v)},y=u(0),m=function(p){return p&&p.__esModule?p:{default:p}}(y),_=function(p){function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return c(h,p),d(h,[{key:"insertInto",value:function(b,v){b.children.length===0?g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,b,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(m.default.Embed);_.blotName="break",_.tagName="BR",a.default=_},function(s,a,u){function l(m){var _=g.find(m);if(_==null)try{_=g.create(m)}catch{_=g.create(g.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(h){_.domNode.appendChild(h)}),m.parentNode&&m.parentNode.replaceChild(_.domNode,m),_.attach()}return _}var f=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var h in p)p.hasOwnProperty(h)&&(_[h]=p[h])};return function(_,p){function h(){this.constructor=_}m(_,p),_.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(a,"__esModule",{value:!0});var c=u(44),d=u(30),g=u(1),y=function(m){function _(p){var h=m.call(this,p)||this;return h.build(),h}return f(_,m),_.prototype.appendChild=function(p){this.insertBefore(p)},_.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},_.prototype.build=function(){var p=this;this.children=new c.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(h){try{var b=l(h);p.insertBefore(b,p.children.head||void 0)}catch(v){if(v instanceof g.ParchmentError)return;throw v}})},_.prototype.deleteAt=function(p,h){if(p===0&&h===this.length())return this.remove();this.children.forEachAt(p,h,function(b,v,w){b.deleteAt(v,w)})},_.prototype.descendant=function(p,h){var b=this.children.find(h),v=b[0],w=b[1];return p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p?[v,w]:v instanceof _?v.descendant(p,w):[null,-1]},_.prototype.descendants=function(p,h,b){h===void 0&&(h=0),b===void 0&&(b=Number.MAX_VALUE);var v=[],w=b;return this.children.forEachAt(h,b,function(O,T,E){(p.blotName==null&&p(O)||p.blotName!=null&&O instanceof p)&&v.push(O),O instanceof _&&(v=v.concat(O.descendants(p,T,w))),w-=E}),v},_.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},_.prototype.formatAt=function(p,h,b,v){this.children.forEachAt(p,h,function(w,O,T){w.formatAt(O,T,b,v)})},_.prototype.insertAt=function(p,h,b){var v=this.children.find(p),w=v[0],O=v[1];if(w)w.insertAt(O,h,b);else{var T=b==null?g.create("text",h):g.create(h,b);this.appendChild(T)}},_.prototype.insertBefore=function(p,h){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return p instanceof b}))throw new g.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,h)},_.prototype.length=function(){return this.children.reduce(function(p,h){return p+h.length()},0)},_.prototype.moveChildren=function(p,h){this.children.forEach(function(b){p.insertBefore(b,h)})},_.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var h=g.create(this.statics.defaultChild);this.appendChild(h),h.optimize(p)}else this.remove()},_.prototype.path=function(p,h){h===void 0&&(h=!1);var b=this.children.find(p,h),v=b[0],w=b[1],O=[[this,p]];return v instanceof _?O.concat(v.path(w,h)):(v!=null&&O.push([v,w]),O)},_.prototype.removeChild=function(p){this.children.remove(p)},_.prototype.replace=function(p){p instanceof _&&p.moveChildren(this),m.prototype.replace.call(this,p)},_.prototype.split=function(p,h){if(h===void 0&&(h=!1),!h){if(p===0)return this;if(p===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(p,this.length(),function(v,w,O){v=v.split(w,h),b.appendChild(v)}),b},_.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},_.prototype.update=function(p,h){var b=this,v=[],w=[];p.forEach(function(O){O.target===b.domNode&&O.type==="childList"&&(v.push.apply(v,O.addedNodes),w.push.apply(w,O.removedNodes))}),w.forEach(function(O){if(!(O.parentNode!=null&&O.tagName!=="IFRAME"&&document.body.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var T=g.find(O);T!=null&&(T.domNode.parentNode!=null&&T.domNode.parentNode!==b.domNode||T.detach())}}),v.filter(function(O){return O.parentNode==b.domNode}).sort(function(O,T){return O===T?0:O.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(O){var T=null;O.nextSibling!=null&&(T=g.find(O.nextSibling));var E=l(O);E.next==T&&E.next!=null||(E.parent!=null&&E.parent.removeChild(b),b.insertBefore(E,T||void 0))})},_}(d.default);a.default=y},function(s,a,u){var l=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var h in p)p.hasOwnProperty(h)&&(_[h]=p[h])};return function(_,p){function h(){this.constructor=_}m(_,p),_.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(12),c=u(31),d=u(17),g=u(1),y=function(m){function _(p){var h=m.call(this,p)||this;return h.attributes=new c.default(h.domNode),h}return l(_,m),_.formats=function(p){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?p.tagName.toLowerCase():void 0)},_.prototype.format=function(p,h){var b=g.query(p);b instanceof f.default?this.attributes.attribute(b,h):h&&(b==null||p===this.statics.blotName&&this.formats()[p]===h||this.replaceWith(p,h))},_.prototype.formats=function(){var p=this.attributes.values(),h=this.statics.formats(this.domNode);return h!=null&&(p[this.statics.blotName]=h),p},_.prototype.replaceWith=function(p,h){var b=m.prototype.replaceWith.call(this,p,h);return this.attributes.copy(b),b},_.prototype.update=function(p,h){var b=this;m.prototype.update.call(this,p,h),p.some(function(v){return v.target===b.domNode&&v.type==="attributes"})&&this.attributes.build()},_.prototype.wrap=function(p,h){var b=m.prototype.wrap.call(this,p,h);return b instanceof _&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},_}(d.default);a.default=y},function(s,a,u){var l=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){function _(){this.constructor=y}g(y,m),y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(30),c=u(1),d=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return l(y,g),y.value=function(m){return!0},y.prototype.index=function(m,_){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(_,1):-1},y.prototype.position=function(m,_){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},y.prototype.value=function(){return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m;var m},y.scope=c.Scope.INLINE_BLOT,y}(f.default);a.default=d},function(s,a,u){function l(g){this.ops=g,this.index=0,this.offset=0}var f=u(11),c=u(3),d={attributes:{compose:function(g,y,m){typeof g!="object"&&(g={}),typeof y!="object"&&(y={});var _=c(!0,{},y);m||(_=Object.keys(_).reduce(function(h,b){return _[b]!=null&&(h[b]=_[b]),h},{}));for(var p in g)g[p]!==void 0&&y[p]===void 0&&(_[p]=g[p]);return Object.keys(_).length>0?_:void 0},diff:function(g,y){typeof g!="object"&&(g={}),typeof y!="object"&&(y={});var m=Object.keys(g).concat(Object.keys(y)).reduce(function(_,p){return f(g[p],y[p])||(_[p]=y[p]===void 0?null:y[p]),_},{});return Object.keys(m).length>0?m:void 0},transform:function(g,y,m){if(typeof g!="object")return y;if(typeof y=="object"){if(!m)return y;var _=Object.keys(y).reduce(function(p,h){return g[h]===void 0&&(p[h]=y[h]),p},{});return Object.keys(_).length>0?_:void 0}}},iterator:function(g){return new l(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(g){g||(g=1/0);var y=this.ops[this.index];if(y){var m=this.offset,_=d.length(y);if(g>=_-m?(g=_-m,this.index+=1,this.offset=0):this.offset+=g,typeof y.delete=="number")return{delete:g};var p={};return y.attributes&&(p.attributes=y.attributes),typeof y.retain=="number"?p.retain=g:typeof y.insert=="string"?p.insert=y.insert.substr(m,g):p.insert=y.insert,p}return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?d.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.exports=d},function(s,a){var u=function(){function l(b,v){return v!=null&&b instanceof v}function f(b,v,w,O,T){function E(R,I){if(R===null)return null;if(I===0)return R;var P,x;if(typeof R!="object")return R;if(l(R,_))P=new _;else if(l(R,p))P=new p;else if(l(R,h))P=new h(function($,j){R.then(function(N){$(E(N,I-1))},function(N){j(E(N,I-1))})});else if(f.__isArray(R))P=[];else if(f.__isRegExp(R))P=new RegExp(R.source,m(R)),R.lastIndex&&(P.lastIndex=R.lastIndex);else if(f.__isDate(R))P=new Date(R.getTime());else{if(S&&o.isBuffer(R))return P=new o(R.length),R.copy(P),P;l(R,Error)?P=Object.create(R):O===void 0?(x=Object.getPrototypeOf(R),P=Object.create(x)):(P=Object.create(O),x=O)}if(v){var D=k.indexOf(R);if(D!=-1)return A[D];k.push(R),A.push(P)}l(R,_)&&R.forEach(function($,j){var N=E(j,I-1),V=E($,I-1);P.set(N,V)}),l(R,p)&&R.forEach(function($){var j=E($,I-1);P.add(j)});for(var F in R){var G;x&&(G=Object.getOwnPropertyDescriptor(x,F)),G&&G.set==null||(P[F]=E(R[F],I-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(R),F=0;F<H.length;F++){var W=H[F],M=Object.getOwnPropertyDescriptor(R,W);(!M||M.enumerable||T)&&(P[W]=E(R[W],I-1),M.enumerable||Object.defineProperty(P,W,{enumerable:!1}))}if(T)for(var U=Object.getOwnPropertyNames(R),F=0;F<U.length;F++){var q=U[F],M=Object.getOwnPropertyDescriptor(R,q);M&&M.enumerable||(P[q]=E(R[q],I-1),Object.defineProperty(P,q,{enumerable:!1}))}return P}typeof v=="object"&&(w=v.depth,O=v.prototype,T=v.includeNonEnumerable,v=v.circular);var k=[],A=[],S=o!==void 0;return v===void 0&&(v=!0),w===void 0&&(w=1/0),E(b,w)}function c(b){return Object.prototype.toString.call(b)}function d(b){return typeof b=="object"&&c(b)==="[object Date]"}function g(b){return typeof b=="object"&&c(b)==="[object Array]"}function y(b){return typeof b=="object"&&c(b)==="[object RegExp]"}function m(b){var v="";return b.global&&(v+="g"),b.ignoreCase&&(v+="i"),b.multiline&&(v+="m"),v}var _;try{_=Map}catch{_=function(){}}var p;try{p=Set}catch{p=function(){}}var h;try{h=Promise}catch{h=function(){}}return f.clonePrototype=function(b){if(b===null)return null;var v=function(){};return v.prototype=b,new v},f.__objToStr=c,f.__isDate=d,f.__isArray=g,f.__isRegExp=y,f.__getRegExpFlags=m,f}();typeof s=="object"&&s.exports&&(s.exports=u)},function(s,a,u){function l(P){return P&&P.__esModule?P:{default:P}}function f(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}function c(P,x){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?P:x}function d(P,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(P,x):P.__proto__=x)}function g(P){return P instanceof O.default||P instanceof w.BlockEmbed}Object.defineProperty(a,"__esModule",{value:!0});var y=function(){function P(x,D){var F=[],G=!0,H=!1,W=void 0;try{for(var M,U=x[Symbol.iterator]();!(G=(M=U.next()).done)&&(F.push(M.value),!D||F.length!==D);G=!0);}catch(q){H=!0,W=q}finally{try{!G&&U.return&&U.return()}finally{if(H)throw W}}return F}return function(x,D){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return P(x,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function P(x,D){for(var F=0;F<D.length;F++){var G=D[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(x,G.key,G)}}return function(x,D,F){return D&&P(x.prototype,D),F&&P(x,F),x}}(),_=function P(x,D,F){x===null&&(x=Function.prototype);var G=Object.getOwnPropertyDescriptor(x,D);if(G===void 0){var H=Object.getPrototypeOf(x);return H===null?void 0:P(H,D,F)}if("value"in G)return G.value;var W=G.get;if(W!==void 0)return W.call(F)},p=u(0),h=l(p),b=u(8),v=l(b),w=u(4),O=l(w),T=u(16),E=l(T),k=u(13),A=l(k),S=u(25),R=l(S),I=function(P){function x(D,F){f(this,x);var G=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D));return G.emitter=F.emitter,Array.isArray(F.whitelist)&&(G.whitelist=F.whitelist.reduce(function(H,W){return H[W]=!0,H},{})),G.domNode.addEventListener("DOMNodeInserted",function(){}),G.optimize(),G.enable(),G}return d(x,P),m(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,F){var G=this.line(D),H=y(G,2),W=H[0],M=H[1],U=this.line(D+F),q=y(U,1),$=q[0];if(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,D,F),$!=null&&W!==$&&M>0){if(W instanceof w.BlockEmbed||$ instanceof w.BlockEmbed)return void this.optimize();if(W instanceof A.default){var j=W.newlineIndex(W.length(),!0);if(j>-1&&(W=W.split(j+1))===$)return void this.optimize()}else if($ instanceof A.default){var N=$.newlineIndex(0);N>-1&&$.split(N+1)}var V=$.children.head instanceof E.default?null:$.children.head;W.moveChildren($,V),W.remove()}this.optimize()}},{key:"enable",value:function(){var D=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,F,G,H){(this.whitelist==null||this.whitelist[G])&&(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,D,F,G,H),this.optimize())}},{key:"insertAt",value:function(D,F,G){if(G==null||this.whitelist==null||this.whitelist[F]){if(D>=this.length())if(G==null||h.default.query(F,h.default.Scope.BLOCK)==null){var H=h.default.create(this.statics.defaultChild);this.appendChild(H),G==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),H.insertAt(0,F,G)}else{var W=h.default.create(F,G);this.appendChild(W)}else _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,D,F,G);this.optimize()}}},{key:"insertBefore",value:function(D,F){if(D.statics.scope===h.default.Scope.INLINE_BLOT){var G=h.default.create(this.statics.defaultChild);G.appendChild(D),D=G}_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,D,F)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(g,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return function G(H,W,M){var U=[],q=M;return H.children.forEachAt(W,M,function($,j,N){g($)?U.push($):$ instanceof h.default.Container&&(U=U.concat(G($,j,q))),q-=N}),U}(this,D,F)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,D,F),D.length>0&&this.emitter.emit(v.default.events.SCROLL_OPTIMIZE,D,F))}},{key:"path",value:function(D){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var F=v.default.sources.USER;typeof D=="string"&&(F=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(v.default.events.SCROLL_BEFORE_UPDATE,F,D),_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(v.default.events.SCROLL_UPDATE,F,D)}}}]),x}(h.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[O.default,w.BlockEmbed,R.default],a.default=I},function(s,a,u){function l(Y){return Y&&Y.__esModule?Y:{default:Y}}function f(Y,z,Q){return z in Y?Object.defineProperty(Y,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Y[z]=Q,Y}function c(Y,z){if(!(Y instanceof z))throw new TypeError("Cannot call a class as a function")}function d(Y,z){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||typeof z!="object"&&typeof z!="function"?Y:z}function g(Y,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);Y.prototype=Object.create(z&&z.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,z):Y.__proto__=z)}function y(Y,z){var Q,ee=Y===X.keys.LEFT?"prefix":"suffix";return Q={key:Y,shiftKey:z,altKey:null},f(Q,ee,/^$/),f(Q,"handler",function(te){var oe=te.index;Y===X.keys.RIGHT&&(oe+=te.length+1);var ce=this.quill.getLeaf(oe);return!(T(ce,1)[0]instanceof W.default.Embed)||(Y===X.keys.LEFT?z?this.quill.setSelection(te.index-1,te.length+1,U.default.sources.USER):this.quill.setSelection(te.index-1,U.default.sources.USER):z?this.quill.setSelection(te.index,te.length+1,U.default.sources.USER):this.quill.setSelection(te.index+te.length+1,U.default.sources.USER),!1)}),Q}function m(Y,z){if(!(Y.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine(Y.index),ee=T(Q,1),te=ee[0],oe={};if(z.offset===0){var ce=this.quill.getLine(Y.index-1),ie=T(ce,1),J=ie[0];if(J!=null&&J.length()>1){var re=te.formats(),ue=this.quill.getFormat(Y.index-1,1);oe=G.default.attributes.diff(re,ue)||{}}}var he=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(Y.index-he,he,U.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(Y.index-he,he,oe,U.default.sources.USER),this.quill.focus()}}function _(Y,z){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(Y.index>=this.quill.getLength()-Q)){var ee={},te=0,oe=this.quill.getLine(Y.index),ce=T(oe,1),ie=ce[0];if(z.offset>=ie.length()-1){var J=this.quill.getLine(Y.index+1),re=T(J,1),ue=re[0];if(ue){var he=ie.formats(),C=this.quill.getFormat(Y.index,1);ee=G.default.attributes.diff(he,C)||{},te=ue.length()}}this.quill.deleteText(Y.index,Q,U.default.sources.USER),Object.keys(ee).length>0&&this.quill.formatLine(Y.index+te-1,Q,ee,U.default.sources.USER)}}function p(Y){var z=this.quill.getLines(Y),Q={};if(z.length>1){var ee=z[0].formats(),te=z[z.length-1].formats();Q=G.default.attributes.diff(te,ee)||{}}this.quill.deleteText(Y,U.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(Y.index,1,Q,U.default.sources.USER),this.quill.setSelection(Y.index,U.default.sources.SILENT),this.quill.focus()}function h(Y,z){var Q=this;Y.length>0&&this.quill.scroll.deleteAt(Y.index,Y.length);var ee=Object.keys(z.format).reduce(function(te,oe){return W.default.query(oe,W.default.Scope.BLOCK)&&!Array.isArray(z.format[oe])&&(te[oe]=z.format[oe]),te},{});this.quill.insertText(Y.index,`
`,ee,U.default.sources.USER),this.quill.setSelection(Y.index+1,U.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(te){ee[te]==null&&(Array.isArray(z.format[te])||te!=="link"&&Q.quill.format(te,z.format[te],U.default.sources.USER))})}function b(Y){return{key:X.keys.TAB,shiftKey:!Y,format:{"code-block":!0},handler:function(z){var Q=W.default.query("code-block"),ee=z.index,te=z.length,oe=this.quill.scroll.descendant(Q,ee),ce=T(oe,2),ie=ce[0],J=ce[1];if(ie!=null){var re=this.quill.getIndex(ie),ue=ie.newlineIndex(J,!0)+1,he=ie.newlineIndex(re+J+te),C=ie.domNode.textContent.slice(ue,he).split(`
`);J=0,C.forEach(function(L,B){Y?(ie.insertAt(ue+J,Q.TAB),J+=Q.TAB.length,B===0?ee+=Q.TAB.length:te+=Q.TAB.length):L.startsWith(Q.TAB)&&(ie.deleteAt(ue+J,Q.TAB.length),J-=Q.TAB.length,B===0?ee-=Q.TAB.length:te-=Q.TAB.length),J+=L.length+1}),this.quill.update(U.default.sources.USER),this.quill.setSelection(ee,te,U.default.sources.SILENT)}}}}function v(Y){return{key:Y[0].toUpperCase(),shortKey:!0,handler:function(z,Q){this.quill.format(Y,!Q.format[Y],U.default.sources.USER)}}}function w(Y){if(typeof Y=="string"||typeof Y=="number")return w({key:Y});if((Y===void 0?"undefined":O(Y))==="object"&&(Y=(0,A.default)(Y,!1)),typeof Y.key=="string")if(X.keys[Y.key.toUpperCase()]!=null)Y.key=X.keys[Y.key.toUpperCase()];else{if(Y.key.length!==1)return null;Y.key=Y.key.toUpperCase().charCodeAt(0)}return Y.shortKey&&(Y[K]=Y.shortKey,delete Y.shortKey),Y}Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},T=function(){function Y(z,Q){var ee=[],te=!0,oe=!1,ce=void 0;try{for(var ie,J=z[Symbol.iterator]();!(te=(ie=J.next()).done)&&(ee.push(ie.value),!Q||ee.length!==Q);te=!0);}catch(re){oe=!0,ce=re}finally{try{!te&&J.return&&J.return()}finally{if(oe)throw ce}}return ee}return function(z,Q){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return Y(z,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function Y(z,Q){for(var ee=0;ee<Q.length;ee++){var te=Q[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(z,te.key,te)}}return function(z,Q,ee){return Q&&Y(z.prototype,Q),ee&&Y(z,ee),z}}(),k=u(21),A=l(k),S=u(11),R=l(S),I=u(3),P=l(I),x=u(2),D=l(x),F=u(20),G=l(F),H=u(0),W=l(H),M=u(5),U=l(M),q=u(10),$=l(q),j=u(9),N=l(j),V=(0,$.default)("quill:keyboard"),K=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(Y){function z(Q,ee){c(this,z);var te=d(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Q,ee));return te.bindings={},Object.keys(te.options.bindings).forEach(function(oe){(oe!=="list autofill"||Q.scroll.whitelist==null||Q.scroll.whitelist.list)&&te.options.bindings[oe]&&te.addBinding(te.options.bindings[oe])}),te.addBinding({key:z.keys.ENTER,shiftKey:null},h),te.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},m),te.addBinding({key:z.keys.DELETE},{collapsed:!0},_)):(te.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},m),te.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),te.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},p),te.addBinding({key:z.keys.DELETE},{collapsed:!1},p),te.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},m),te.listen(),te}return g(z,Y),E(z,null,[{key:"match",value:function(Q,ee){return ee=w(ee),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!ee[te]!==Q[te]&&ee[te]!==null})&&ee.key===(Q.which||Q.keyCode)}}]),E(z,[{key:"addBinding",value:function(Q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe=w(Q);if(oe==null||oe.key==null)return V.warn("Attempted to add invalid keyboard binding",oe);typeof ee=="function"&&(ee={handler:ee}),typeof te=="function"&&(te={handler:te}),oe=(0,P.default)(oe,ee,te),this.bindings[oe.key]=this.bindings[oe.key]||[],this.bindings[oe.key].push(oe)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(ee){if(!ee.defaultPrevented){var te=ee.which||ee.keyCode,oe=(Q.bindings[te]||[]).filter(function(Ce){return z.match(ee,Ce)});if(oe.length!==0){var ce=Q.quill.getSelection();if(ce!=null&&Q.quill.hasFocus()){var ie=Q.quill.getLine(ce.index),J=T(ie,2),re=J[0],ue=J[1],he=Q.quill.getLeaf(ce.index),C=T(he,2),L=C[0],B=C[1],Z=ce.length===0?[L,B]:Q.quill.getLeaf(ce.index+ce.length),ne=T(Z,2),ae=ne[0],pe=ne[1],Ie=L instanceof W.default.Text?L.value().slice(0,B):"",Re=ae instanceof W.default.Text?ae.value().slice(pe):"",Ae={collapsed:ce.length===0,empty:ce.length===0&&re.length()<=1,format:Q.quill.getFormat(ce),offset:ue,prefix:Ie,suffix:Re};oe.some(function(Ce){if(Ce.collapsed!=null&&Ce.collapsed!==Ae.collapsed||Ce.empty!=null&&Ce.empty!==Ae.empty||Ce.offset!=null&&Ce.offset!==Ae.offset)return!1;if(Array.isArray(Ce.format)){if(Ce.format.every(function(Je){return Ae.format[Je]==null}))return!1}else if(O(Ce.format)==="object"&&!Object.keys(Ce.format).every(function(Je){return Ce.format[Je]===!0?Ae.format[Je]!=null:Ce.format[Je]===!1?Ae.format[Je]==null:(0,R.default)(Ce.format[Je],Ae.format[Je])}))return!1;return!(Ce.prefix!=null&&!Ce.prefix.test(Ae.prefix))&&!(Ce.suffix!=null&&!Ce.suffix.test(Ae.suffix))&&Ce.handler.call(Q,ce,Ae)!==!0})&&ee.preventDefault()}}}})}}]),z}(N.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:v("bold"),italic:v("italic"),underline:v("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","+1",U.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","-1",U.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,z){z.format.indent!=null?this.quill.format("indent","-1",U.default.sources.USER):z.format.list!=null&&this.quill.format("list",!1,U.default.sources.USER)}},"indent code-block":b(!0),"outdent code-block":b(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,U.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(Y){this.quill.history.cutoff();var z=new D.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(z,U.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,U.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,z){this.quill.format("list",!1,U.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,U.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var z=this.quill.getLine(Y.index),Q=T(z,2),ee=Q[0],te=Q[1],oe=(0,P.default)({},ee.formats(),{list:"checked"}),ce=new D.default().retain(Y.index).insert(`
`,oe).retain(ee.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ce,U.default.sources.USER),this.quill.setSelection(Y.index+1,U.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,z){var Q=this.quill.getLine(Y.index),ee=T(Q,2),te=ee[0],oe=ee[1],ce=new D.default().retain(Y.index).insert(`
`,z.format).retain(te.length()-oe-1).retain(1,{header:null});this.quill.updateContents(ce,U.default.sources.USER),this.quill.setSelection(Y.index+1,U.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,z){var Q=z.prefix.length,ee=this.quill.getLine(Y.index),te=T(ee,2),oe=te[0],ce=te[1];if(ce>Q)return!0;var ie=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":ie="unchecked";break;case"[x]":ie="checked";break;case"-":case"*":ie="bullet";break;default:ie="ordered"}this.quill.insertText(Y.index," ",U.default.sources.USER),this.quill.history.cutoff();var J=new D.default().retain(Y.index-ce).delete(Q+1).retain(oe.length()-2-ce).retain(1,{list:ie});this.quill.updateContents(J,U.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-Q,U.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var z=this.quill.getLine(Y.index),Q=T(z,2),ee=Q[0],te=Q[1],oe=new D.default().retain(Y.index+ee.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(oe,U.default.sources.USER)}},"embed left":y(X.keys.LEFT,!1),"embed left shift":y(X.keys.LEFT,!0),"embed right":y(X.keys.RIGHT,!1),"embed right shift":y(X.keys.RIGHT,!0)}},a.default=X,a.SHORTKEY=K},function(s,a,u){function l(w){return w&&w.__esModule?w:{default:w}}function f(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}function c(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?w:O}function d(w,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);w.prototype=Object.create(O&&O.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(w,O):w.__proto__=O)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function w(O,T){var E=[],k=!0,A=!1,S=void 0;try{for(var R,I=O[Symbol.iterator]();!(k=(R=I.next()).done)&&(E.push(R.value),!T||E.length!==T);k=!0);}catch(P){A=!0,S=P}finally{try{!k&&I.return&&I.return()}finally{if(A)throw S}}return E}return function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return w(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function w(O,T,E){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,T);if(k===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:w(A,T,E)}if("value"in k)return k.value;var S=k.get;if(S!==void 0)return S.call(E)},m=function(){function w(O,T){for(var E=0;E<T.length;E++){var k=T[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,T,E){return T&&w(O.prototype,T),E&&w(O,E),O}}(),_=u(0),p=l(_),h=u(7),b=l(h),v=function(w){function O(T,E){f(this,O);var k=c(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T));return k.selection=E,k.textNode=document.createTextNode(O.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return d(O,w),m(O,null,[{key:"value",value:function(){}}]),m(O,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(T,E){if(this._length!==0)return y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,T,E);for(var k=this,A=0;k!=null&&k.statics.scope!==p.default.Scope.BLOCK_BLOT;)A+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=O.CONTENTS.length,k.optimize(),k.formatAt(A,O.CONTENTS.length,T,E),this._length=0)}},{key:"index",value:function(T,E){return T===this.textNode?0:y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,T,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var T=this.textNode,E=this.selection.getNativeRange(),k=void 0,A=void 0,S=void 0;if(E!=null&&E.start.node===T&&E.end.node===T){var R=[T,E.start.offset,E.end.offset];k=R[0],A=R[1],S=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==O.CONTENTS){var I=this.textNode.data.split(O.CONTENTS).join("");this.next instanceof b.default?(k=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=O.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(O.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var P=[A,S].map(function(D){return Math.max(0,Math.min(k.data.length,D-1))}),x=g(P,2);return A=x[0],S=x[1],{startNode:k,startOffset:A,endNode:k,endOffset:S}}}}},{key:"update",value:function(T,E){var k=this;if(T.some(function(S){return S.type==="characterData"&&S.target===k.textNode})){var A=this.restore();A&&(E.range=A)}}},{key:"value",value:function(){return""}}]),O}(p.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",a.default=v},function(s,a,u){function l(h){return h&&h.__esModule?h:{default:h}}function f(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function c(h,b){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?h:b}function d(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}Object.defineProperty(a,"__esModule",{value:!0});var g=u(0),y=l(g),m=u(4),_=l(m),p=function(h){function b(){return f(this,b),c(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return d(b,h),b}(y.default.Container);p.allowedChildren=[_.default,m.BlockEmbed,p],a.default=p},function(s,a,u){function l(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?b:v}function c(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var d=function(){function b(v,w){for(var O=0;O<w.length;O++){var T=w[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,O){return w&&b(v.prototype,w),O&&b(v,O),v}}(),g=function b(v,w,O){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,w);if(T===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:b(E,w,O)}if("value"in T)return T.value;var k=T.get;if(k!==void 0)return k.call(O)},y=u(0),m=function(b){return b&&b.__esModule?b:{default:b}}(y),_=function(b){function v(){return l(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return c(v,b),d(v,[{key:"value",value:function(w){var O=g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w);return O.startsWith("rgb(")?(O=O.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+O.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):O}}]),v}(m.default.Attributor.Style),p=new m.default.Attributor.Class("color","ql-color",{scope:m.default.Scope.INLINE}),h=new _("color","color",{scope:m.default.Scope.INLINE});a.ColorAttributor=_,a.ColorClass=p,a.ColorStyle=h},function(s,a,u){function l(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function f(h,b){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?h:b}function c(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}function d(h,b){var v=document.createElement("a");v.href=h;var w=v.href.slice(0,v.href.indexOf(":"));return b.indexOf(w)>-1}Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var g=function(){function h(b,v){for(var w=0;w<v.length;w++){var O=v[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,v,w){return v&&h(b.prototype,v),w&&h(b,w),b}}(),y=function h(b,v,w){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,v);if(O===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:h(T,v,w)}if("value"in O)return O.value;var E=O.get;if(E!==void 0)return E.call(w)},m=u(6),_=function(h){return h&&h.__esModule?h:{default:h}}(m),p=function(h){function b(){return l(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return c(b,h),g(b,[{key:"format",value:function(v,w){if(v!==this.statics.blotName||!w)return y(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(v){var w=y(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return v=this.sanitize(v),w.setAttribute("href",v),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return d(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),b}(_.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"],a.default=p,a.sanitize=d},function(s,a,u){function l(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function c(v,w){v.setAttribute(w,v.getAttribute(w)!=="true")}Object.defineProperty(a,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g=function(){function v(w,O){for(var T=0;T<O.length;T++){var E=O[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,O,T){return O&&v(w.prototype,O),T&&v(w,T),w}}(),y=u(23),m=l(y),_=u(107),p=l(_),h=0,b=function(){function v(w){var O=this;f(this,v),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){O.togglePicker()}),this.label.addEventListener("keydown",function(T){switch(T.keyCode){case m.default.keys.ENTER:O.togglePicker();break;case m.default.keys.ESCAPE:O.escape(),T.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return g(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var O=this,T=document.createElement("span");return T.tabIndex="0",T.setAttribute("role","button"),T.classList.add("ql-picker-item"),w.hasAttribute("value")&&T.setAttribute("data-value",w.getAttribute("value")),w.textContent&&T.setAttribute("data-label",w.textContent),T.addEventListener("click",function(){O.selectItem(T,!0)}),T.addEventListener("keydown",function(E){switch(E.keyCode){case m.default.keys.ENTER:O.selectItem(T,!0),E.preventDefault();break;case m.default.keys.ESCAPE:O.escape(),E.preventDefault()}}),T}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=p.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,O=document.createElement("span");O.classList.add("ql-picker-options"),O.setAttribute("aria-hidden","true"),O.tabIndex="-1",O.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",O.id),this.options=O,[].slice.call(this.select.options).forEach(function(T){var E=w.buildItem(T);O.appendChild(E),T.selected===!0&&w.selectItem(E)}),this.container.appendChild(O)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(O){w.container.setAttribute(O.name,O.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=this.container.querySelector(".ql-selected");if(w!==T&&(T!=null&&T.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),O))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":d(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var O=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(O)}else this.selectItem(null);var T=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",T)}}]),v}();a.default=b},function(s,a,u){function l(W){return W&&W.__esModule?W:{default:W}}Object.defineProperty(a,"__esModule",{value:!0});var f=u(0),c=l(f),d=u(5),g=l(d),y=u(4),m=l(y),_=u(16),p=l(_),h=u(25),b=l(h),v=u(24),w=l(v),O=u(35),T=l(O),E=u(6),k=l(E),A=u(22),S=l(A),R=u(7),I=l(R),P=u(55),x=l(P),D=u(42),F=l(D),G=u(23),H=l(G);g.default.register({"blots/block":m.default,"blots/block/embed":y.BlockEmbed,"blots/break":p.default,"blots/container":b.default,"blots/cursor":w.default,"blots/embed":T.default,"blots/inline":k.default,"blots/scroll":S.default,"blots/text":I.default,"modules/clipboard":x.default,"modules/history":F.default,"modules/keyboard":H.default}),c.default.register(m.default,p.default,w.default,k.default,S.default,I.default),a.default=g.default},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(1),f=function(){function c(d){this.domNode=d,this.domNode[l.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new l.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),g=typeof d=="number"?document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?document.createElement(d):document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return l.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[l.DATA_KEY]},c.prototype.deleteAt=function(d,g){this.isolate(d,g).remove()},c.prototype.formatAt=function(d,g,y,m){var _=this.isolate(d,g);if(l.query(y,l.Scope.BLOT)!=null&&m)_.wrap(y,m);else if(l.query(y,l.Scope.ATTRIBUTE)!=null){var p=l.create(this.statics.scope);_.wrap(p),p.format(y,m)}},c.prototype.insertAt=function(d,g,y){var m=y==null?l.create("text",g):l.create(g,y),_=this.split(d);this.parent.insertBefore(m,_)},c.prototype.insertInto=function(d,g){g===void 0&&(g=null),this.parent!=null&&this.parent.children.remove(this);var y=null;d.children.insertBefore(this,g),g!=null&&(y=g.domNode),this.domNode.parentNode==d.domNode&&this.domNode.nextSibling==y||d.domNode.insertBefore(this.domNode,y),this.parent=d,this.attach()},c.prototype.isolate=function(d,g){var y=this.split(d);return y.split(g),y},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[l.DATA_KEY]!=null&&delete this.domNode[l.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,g){var y=typeof d=="string"?l.create(d,g):d;return y.replace(this),y},c.prototype.split=function(d,g){return d===0?this:this.next},c.prototype.update=function(d,g){},c.prototype.wrap=function(d,g){var y=typeof d=="string"?l.create(d,g):d;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},c.blotName="abstract",c}();a.default=f},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=u(12),f=u(32),c=u(33),d=u(1),g=function(){function y(m){this.attributes={},this.domNode=m,this.build()}return y.prototype.attribute=function(m,_){_?m.add(this.domNode,_)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},y.prototype.build=function(){var m=this;this.attributes={};var _=l.default.keys(this.domNode),p=f.default.keys(this.domNode),h=c.default.keys(this.domNode);_.concat(p).concat(h).forEach(function(b){var v=d.query(b,d.Scope.ATTRIBUTE);v instanceof l.default&&(m.attributes[v.attrName]=v)})},y.prototype.copy=function(m){var _=this;Object.keys(this.attributes).forEach(function(p){var h=_.attributes[p].value(_.domNode);m.format(p,h)})},y.prototype.move=function(m){var _=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){_.attributes[p].remove(_.domNode)}),this.attributes={}},y.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(_,p){return _[p]=m.attributes[p].value(m.domNode),_},{})},y}();a.default=g},function(s,a,u){function l(g,y){return(g.getAttribute("class")||"").split(/\s+/).filter(function(m){return m.indexOf(y+"-")===0})}var f=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){function _(){this.constructor=y}g(y,m),y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(a,"__esModule",{value:!0});var c=u(12),d=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return f(y,g),y.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(_){return _.split("-").slice(0,-1).join("-")})},y.prototype.add=function(m,_){return!!this.canAdd(m,_)&&(this.remove(m),m.classList.add(this.keyName+"-"+_),!0)},y.prototype.remove=function(m){l(m,this.keyName).forEach(function(_){m.classList.remove(_)}),m.classList.length===0&&m.removeAttribute("class")},y.prototype.value=function(m){var _=l(m,this.keyName)[0]||"",p=_.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},y}(c.default);a.default=d},function(s,a,u){function l(g){var y=g.split("-"),m=y.slice(1).map(function(_){return _[0].toUpperCase()+_.slice(1)}).join("");return y[0]+m}var f=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){function _(){this.constructor=y}g(y,m),y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(a,"__esModule",{value:!0});var c=u(12),d=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return f(y,g),y.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(_){return _.split(":")[0].trim()})},y.prototype.add=function(m,_){return!!this.canAdd(m,_)&&(m.style[l(this.keyName)]=_,!0)},y.prototype.remove=function(m){m.style[l(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},y.prototype.value=function(m){var _=m.style[l(this.keyName)];return this.canAdd(m,_)?_:""},y}(c.default);a.default=d},function(s,a,u){function l(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var f=function(){function d(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&d(g.prototype,y),m&&d(g,m),g}}(),c=function(){function d(g,y){l(this,d),this.quill=g,this.options=y,this.modules={}}return f(d,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(y){g.modules[y]==null&&g.addModule(y)})}},{key:"addModule",value:function(g){var y=this.quill.constructor.import("modules/"+g);return this.modules[g]=new y(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},a.default=c},function(s,a,u){function l(w){return w&&w.__esModule?w:{default:w}}function f(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}function c(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?w:O}function d(w,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);w.prototype=Object.create(O&&O.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(w,O):w.__proto__=O)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function w(O,T){for(var E=0;E<T.length;E++){var k=T[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,T,E){return T&&w(O.prototype,T),E&&w(O,E),O}}(),y=function w(O,T,E){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,T);if(k===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:w(A,T,E)}if("value"in k)return k.value;var S=k.get;if(S!==void 0)return S.call(E)},m=u(0),_=l(m),p=u(7),h=l(p),b="\uFEFF",v=function(w){function O(T){f(this,O);var E=c(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T));return E.contentNode=document.createElement("span"),E.contentNode.setAttribute("contenteditable",!1),[].slice.call(E.domNode.childNodes).forEach(function(k){E.contentNode.appendChild(k)}),E.leftGuard=document.createTextNode(b),E.rightGuard=document.createTextNode(b),E.domNode.appendChild(E.leftGuard),E.domNode.appendChild(E.contentNode),E.domNode.appendChild(E.rightGuard),E}return d(O,w),g(O,[{key:"index",value:function(T,E){return T===this.leftGuard?0:T===this.rightGuard?1:y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,T,E)}},{key:"restore",value:function(T){var E=void 0,k=void 0,A=T.data.split(b).join("");if(T===this.leftGuard)if(this.prev instanceof h.default){var S=this.prev.length();this.prev.insertAt(S,A),E={startNode:this.prev.domNode,startOffset:S+A.length}}else k=document.createTextNode(A),this.parent.insertBefore(_.default.create(k),this),E={startNode:k,startOffset:A.length};else T===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,A),E={startNode:this.next.domNode,startOffset:A.length}):(k=document.createTextNode(A),this.parent.insertBefore(_.default.create(k),this.next),E={startNode:k,startOffset:A.length}));return T.data=b,E}},{key:"update",value:function(T,E){var k=this;T.forEach(function(A){if(A.type==="characterData"&&(A.target===k.leftGuard||A.target===k.rightGuard)){var S=k.restore(A.target);S&&(E.range=S)}})}}]),O}(_.default.Embed);a.default=v},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var l=u(0),f=function(m){return m&&m.__esModule?m:{default:m}}(l),c={scope:f.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new f.default.Attributor.Attribute("align","align",c),g=new f.default.Attributor.Class("align","ql-align",c),y=new f.default.Attributor.Style("align","text-align",c);a.AlignAttribute=d,a.AlignClass=g,a.AlignStyle=y},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var l=u(0),f=function(y){return y&&y.__esModule?y:{default:y}}(l),c=u(26),d=new f.default.Attributor.Class("background","ql-bg",{scope:f.default.Scope.INLINE}),g=new c.ColorAttributor("background","background-color",{scope:f.default.Scope.INLINE});a.BackgroundClass=d,a.BackgroundStyle=g},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var l=u(0),f=function(m){return m&&m.__esModule?m:{default:m}}(l),c={scope:f.default.Scope.BLOCK,whitelist:["rtl"]},d=new f.default.Attributor.Attribute("direction","dir",c),g=new f.default.Attributor.Class("direction","ql-direction",c),y=new f.default.Attributor.Style("direction","direction",c);a.DirectionAttribute=d,a.DirectionClass=g,a.DirectionStyle=y},function(s,a,u){function l(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?v:w}function c(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var d=function(){function v(w,O){for(var T=0;T<O.length;T++){var E=O[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,O,T){return O&&v(w.prototype,O),T&&v(w,T),w}}(),g=function v(w,O,T){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,O);if(E===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:v(k,O,T)}if("value"in E)return E.value;var A=E.get;if(A!==void 0)return A.call(T)},y=u(0),m=function(v){return v&&v.__esModule?v:{default:v}}(y),_={scope:m.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new m.default.Attributor.Class("font","ql-font",_),h=function(v){function w(){return l(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return c(w,v),d(w,[{key:"value",value:function(O){return g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,O).replace(/["']/g,"")}}]),w}(m.default.Attributor.Style),b=new h("font","font-family",_);a.FontStyle=b,a.FontClass=p},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var l=u(0),f=function(g){return g&&g.__esModule?g:{default:g}}(l),c=new f.default.Attributor.Class("size","ql-size",{scope:f.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new f.default.Attributor.Style("size","font-size",{scope:f.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=c,a.SizeStyle=d},function(s,a,u){s.exports={align:{"":u(76),center:u(77),right:u(78),justify:u(79)},background:u(80),blockquote:u(81),bold:u(82),clean:u(83),code:u(58),"code-block":u(58),color:u(84),direction:{"":u(85),rtl:u(86)},float:{center:u(87),full:u(88),left:u(89),right:u(90)},formula:u(91),header:{1:u(92),2:u(93)},italic:u(94),image:u(95),indent:{"+1":u(96),"-1":u(97)},link:u(98),list:{ordered:u(99),bullet:u(100),check:u(101)},script:{sub:u(102),super:u(103)},strike:u(104),underline:u(105),video:u(106)}},function(s,a,u){function l(T){return T&&T.__esModule?T:{default:T}}function f(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function c(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?T:E}function d(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}function g(T){var E=T.ops[T.ops.length-1];return E!=null&&(E.insert!=null?typeof E.insert=="string"&&E.insert.endsWith(`
`):E.attributes!=null&&Object.keys(E.attributes).some(function(k){return p.default.query(k,p.default.Scope.BLOCK)!=null}))}function y(T){var E=T.reduce(function(A,S){return A+=S.delete||0},0),k=T.length()-E;return g(T)&&(k-=1),k}Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var m=function(){function T(E,k){for(var A=0;A<k.length;A++){var S=k[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,k,A){return k&&T(E.prototype,k),A&&T(E,A),E}}(),_=u(0),p=l(_),h=u(5),b=l(h),v=u(9),w=l(v),O=function(T){function E(k,A){f(this,E);var S=c(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,A));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(b.default.events.EDITOR_CHANGE,function(R,I,P,x){R!==b.default.events.TEXT_CHANGE||S.ignoreChange||(S.options.userOnly&&x!==b.default.sources.USER?S.transform(I):S.record(I,P))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return d(E,T),m(E,[{key:"change",value:function(k,A){if(this.stack[k].length!==0){var S=this.stack[k].pop();this.stack[A].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[k],b.default.sources.USER),this.ignoreChange=!1;var R=y(S[k]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,A){if(k.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(A),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var I=this.stack.undo.pop();S=S.compose(I.undo),k=I.redo.compose(k)}else this.lastRecorded=R;this.stack.undo.push({redo:k,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(A){A.undo=k.transform(A.undo,!0),A.redo=k.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=k.transform(A.undo,!0),A.redo=k.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),E}(w.default);O.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},a.default=O,a.getLastChangeIndex=y},function(s,a,u){function l(N){return N&&N.__esModule?N:{default:N}}function f(N,V){if(!(N instanceof V))throw new TypeError("Cannot call a class as a function")}function c(N,V){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||typeof V!="object"&&typeof V!="function"?N:V}function d(N,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);N.prototype=Object.create(V&&V.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(N,V):N.__proto__=V)}function g(N){var V=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":N}function y(N,V){var K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];V.forEach(function(X){var Y=document.createElement("option");X===K?Y.setAttribute("selected","selected"):Y.setAttribute("value",X),N.appendChild(Y)})}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var m=function(){function N(V,K){for(var X=0;X<K.length;X++){var Y=K[X];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(V,Y.key,Y)}}return function(V,K,X){return K&&N(V.prototype,K),X&&N(V,X),V}}(),_=function N(V,K,X){V===null&&(V=Function.prototype);var Y=Object.getOwnPropertyDescriptor(V,K);if(Y===void 0){var z=Object.getPrototypeOf(V);return z===null?void 0:N(z,K,X)}if("value"in Y)return Y.value;var Q=Y.get;if(Q!==void 0)return Q.call(X)},p=u(3),h=l(p),b=u(2),v=l(b),w=u(8),O=l(w),T=u(23),E=l(T),k=u(34),A=l(k),S=u(59),R=l(S),I=u(60),P=l(I),x=u(28),D=l(x),F=u(61),G=l(F),H=[!1,"center","right","justify"],W=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],U=["1","2","3",!1],q=["small",!1,"large","huge"],$=function(N){function V(K,X){f(this,V);var Y=c(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,X)),z=function Q(ee){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Q);Y.tooltip==null||Y.tooltip.root.contains(ee.target)||document.activeElement===Y.tooltip.textbox||Y.quill.hasFocus()||Y.tooltip.hide(),Y.pickers!=null&&Y.pickers.forEach(function(te){te.container.contains(ee.target)||te.close()})};return K.emitter.listenDOM("click",document.body,z),Y}return d(V,N),m(V,[{key:"addModule",value:function(K){var X=_(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(X),X}},{key:"buildButtons",value:function(K,X){K.forEach(function(Y){(Y.getAttribute("class")||"").split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),X[z]!=null))if(z==="direction")Y.innerHTML=X[z][""]+X[z].rtl;else if(typeof X[z]=="string")Y.innerHTML=X[z];else{var Q=Y.value||"";Q!=null&&X[z][Q]&&(Y.innerHTML=X[z][Q])}})})}},{key:"buildPickers",value:function(K,X){var Y=this;this.pickers=K.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&y(Q,H),new P.default(Q,X.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var ee=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&y(Q,W,ee==="background"?"#ffffff":"#000000"),new R.default(Q,X[ee])}return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?y(Q,M):Q.classList.contains("ql-header")?y(Q,U):Q.classList.contains("ql-size")&&y(Q,q)),new D.default(Q)});var z=function(){Y.pickers.forEach(function(Q){Q.update()})};this.quill.on(O.default.events.EDITOR_CHANGE,z)}}]),V}(A.default);$.DEFAULTS=(0,h.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var N=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var K=new FileReader;K.onload=function(X){var Y=N.quill.getSelection(!0);N.quill.updateContents(new v.default().retain(Y.index).delete(Y.length).insert({image:X.target.result}),O.default.sources.USER),N.quill.setSelection(Y.index+1,O.default.sources.SILENT),V.value=""},K.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(N){function V(K,X){f(this,V);var Y=c(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,X));return Y.textbox=Y.root.querySelector('input[type="text"]'),Y.listen(),Y}return d(V,N),m(V,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(X){E.default.match(X,"enter")?(K.save(),X.preventDefault()):E.default.match(X,"escape")&&(K.cancel(),X.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),X!=null?this.textbox.value=X:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var X=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,O.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,O.default.sources.USER)),this.quill.root.scrollTop=X;break;case"video":K=g(K);case"formula":if(!K)break;var Y=this.quill.getSelection(!0);if(Y!=null){var z=Y.index+Y.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),K,O.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(z+1," ",O.default.sources.USER),this.quill.setSelection(z+2,O.default.sources.USER)}}this.textbox.value="",this.hide()}}]),V}(G.default);a.BaseTooltip=j,a.default=$},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function f(){this.head=this.tail=null,this.length=0}return f.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},f.prototype.contains=function(c){for(var d,g=this.iterator();d=g();)if(d===c)return!0;return!1},f.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},f.prototype.offset=function(c){for(var d=0,g=this.head;g!=null;){if(g===c)return d;d+=g.length(),g=g.next}return-1},f.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},f.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},f.prototype.find=function(c,d){d===void 0&&(d=!1);for(var g,y=this.iterator();g=y();){var m=g.length();if(c<m||d&&c===m&&(g.next==null||g.next.length()!==0))return[g,c];c-=m}return[null,0]},f.prototype.forEach=function(c){for(var d,g=this.iterator();d=g();)c(d)},f.prototype.forEachAt=function(c,d,g){if(!(d<=0))for(var y,m=this.find(c),_=m[0],p=m[1],h=c-p,b=this.iterator(_);(y=b())&&h<c+d;){var v=y.length();c>h?g(y,c-h,Math.min(d,h+v-c)):g(y,0,Math.min(v,c+d-h)),h+=v}},f.prototype.map=function(c){return this.reduce(function(d,g){return d.push(c(g)),d},[])},f.prototype.reduce=function(c,d){for(var g,y=this.iterator();g=y();)d=c(d,g);return d},f}();a.default=l},function(s,a,u){var l=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var p in _)_.hasOwnProperty(p)&&(m[p]=_[p])};return function(m,_){function p(){this.constructor=m}y(m,_),m.prototype=_===null?Object.create(_):(p.prototype=_.prototype,new p)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(17),c=u(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=function(y){function m(_){var p=y.call(this,_)||this;return p.scroll=p,p.observer=new MutationObserver(function(h){p.update(h)}),p.observer.observe(p.domNode,d),p.attach(),p}return l(m,y),m.prototype.detach=function(){y.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(_,p){this.update(),_===0&&p===this.length()?this.children.forEach(function(h){h.remove()}):y.prototype.deleteAt.call(this,_,p)},m.prototype.formatAt=function(_,p,h,b){this.update(),y.prototype.formatAt.call(this,_,p,h,b)},m.prototype.insertAt=function(_,p,h){this.update(),y.prototype.insertAt.call(this,_,p,h)},m.prototype.optimize=function(_,p){var h=this;_===void 0&&(_=[]),p===void 0&&(p={}),y.prototype.optimize.call(this,p);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)_.push(b.pop());for(var v=function(E,k){k===void 0&&(k=!0),E!=null&&E!==h&&E.domNode.parentNode!=null&&(E.domNode[c.DATA_KEY].mutations==null&&(E.domNode[c.DATA_KEY].mutations=[]),k&&v(E.parent))},w=function(E){E.domNode[c.DATA_KEY]!=null&&E.domNode[c.DATA_KEY].mutations!=null&&(E instanceof f.default&&E.children.forEach(w),E.optimize(p))},O=_,T=0;O.length>0;T+=1){if(T>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(O.forEach(function(E){var k=c.find(E.target,!0);k!=null&&(k.domNode===E.target&&(E.type==="childList"?(v(c.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(A){var S=c.find(A,!1);v(S,!1),S instanceof f.default&&S.children.forEach(function(R){v(R,!1)})})):E.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(w),O=[].slice.call(this.observer.takeRecords()),b=O.slice();b.length>0;)_.push(b.pop())}},m.prototype.update=function(_,p){var h=this;p===void 0&&(p={}),_=_||this.observer.takeRecords(),_.map(function(b){var v=c.find(b.target,!0);return v==null?null:v.domNode[c.DATA_KEY].mutations==null?(v.domNode[c.DATA_KEY].mutations=[b],v):(v.domNode[c.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b!=null&&b!==h&&b.domNode[c.DATA_KEY]!=null&&b.update(b.domNode[c.DATA_KEY].mutations||[],p)}),this.domNode[c.DATA_KEY].mutations!=null&&y.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,p),this.optimize(_,p)},m.blotName="scroll",m.defaultChild="block",m.scope=c.Scope.BLOCK_BLOT,m.tagName="DIV",m}(f.default);a.default=g},function(s,a,u){function l(y,m){if(Object.keys(y).length!==Object.keys(m).length)return!1;for(var _ in y)if(y[_]!==m[_])return!1;return!0}var f=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var p in _)_.hasOwnProperty(p)&&(m[p]=_[p])};return function(m,_){function p(){this.constructor=m}y(m,_),m.prototype=_===null?Object.create(_):(p.prototype=_.prototype,new p)}}();Object.defineProperty(a,"__esModule",{value:!0});var c=u(18),d=u(1),g=function(y){function m(){return y!==null&&y.apply(this,arguments)||this}return f(m,y),m.formats=function(_){if(_.tagName!==m.tagName)return y.formats.call(this,_)},m.prototype.format=function(_,p){var h=this;_!==this.statics.blotName||p?y.prototype.format.call(this,_,p):(this.children.forEach(function(b){b instanceof c.default||(b=b.wrap(m.blotName,!0)),h.attributes.copy(b)}),this.unwrap())},m.prototype.formatAt=function(_,p,h,b){this.formats()[h]!=null||d.query(h,d.Scope.ATTRIBUTE)?this.isolate(_,p).format(h,b):y.prototype.formatAt.call(this,_,p,h,b)},m.prototype.optimize=function(_){y.prototype.optimize.call(this,_);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var h=this.next;h instanceof m&&h.prev===this&&l(p,h.formats())&&(h.moveChildren(this),h.remove())},m.blotName="inline",m.scope=d.Scope.INLINE_BLOT,m.tagName="SPAN",m}(c.default);a.default=g},function(s,a,u){var l=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){function _(){this.constructor=y}g(y,m),y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(18),c=u(1),d=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return l(y,g),y.formats=function(m){var _=c.query(y.blotName).tagName;if(m.tagName!==_)return g.formats.call(this,m)},y.prototype.format=function(m,_){c.query(m,c.Scope.BLOCK)!=null&&(m!==this.statics.blotName||_?g.prototype.format.call(this,m,_):this.replaceWith(y.blotName))},y.prototype.formatAt=function(m,_,p,h){c.query(p,c.Scope.BLOCK)!=null?this.format(p,h):g.prototype.formatAt.call(this,m,_,p,h)},y.prototype.insertAt=function(m,_,p){if(p==null||c.query(_,c.Scope.INLINE)!=null)g.prototype.insertAt.call(this,m,_,p);else{var h=this.split(m),b=c.create(_,p);h.parent.insertBefore(b,h)}},y.prototype.update=function(m,_){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,m,_)},y.blotName="block",y.scope=c.Scope.BLOCK_BLOT,y.tagName="P",y}(f.default);a.default=d},function(s,a,u){var l=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var m in y)y.hasOwnProperty(m)&&(g[m]=y[m])};return function(g,y){function m(){this.constructor=g}d(g,y),g.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(19),c=function(d){function g(){return d!==null&&d.apply(this,arguments)||this}return l(g,d),g.formats=function(y){},g.prototype.format=function(y,m){d.prototype.formatAt.call(this,0,this.length(),y,m)},g.prototype.formatAt=function(y,m,_,p){y===0&&m===this.length()?this.format(_,p):d.prototype.formatAt.call(this,y,m,_,p)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g}(f.default);a.default=c},function(s,a,u){var l=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){function _(){this.constructor=y}g(y,m),y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=u(19),c=u(1),d=function(g){function y(m){var _=g.call(this,m)||this;return _.text=_.statics.value(_.domNode),_}return l(y,g),y.create=function(m){return document.createTextNode(m)},y.value=function(m){var _=m.data;return _.normalize&&(_=_.normalize()),_},y.prototype.deleteAt=function(m,_){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+_)},y.prototype.index=function(m,_){return this.domNode===m?_:-1},y.prototype.insertAt=function(m,_,p){p==null?(this.text=this.text.slice(0,m)+_+this.text.slice(m),this.domNode.data=this.text):g.prototype.insertAt.call(this,m,_,p)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(m){g.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(m,_){return[this.domNode,m]},y.prototype.split=function(m,_){if(_===void 0&&(_=!1),!_){if(m===0)return this;if(m===this.length())return this.next}var p=c.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},y.prototype.update=function(m,_){var p=this;m.some(function(h){return h.type==="characterData"&&h.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=c.Scope.INLINE_BLOT,y}(f.default);a.default=d},function(s,a,u){var l=document.createElement("div");if(l.classList.toggle("test-class",!1),l.classList.contains("test-class")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:f.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var g=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>g.length)&&(d=g.length),d-=c.length;var y=g.indexOf(c,d);return y!==-1&&y===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d,g=Object(this),y=g.length>>>0,m=arguments[1],_=0;_<y;_++)if(d=g[_],c.call(m,d,_,g))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,a){function u(E,k,A){if(E==k)return E?[[O,E]]:[];(A<0||E.length<A)&&(A=null);var S=d(E,k),R=E.substring(0,S);E=E.substring(S),k=k.substring(S),S=g(E,k);var I=E.substring(E.length-S);E=E.substring(0,E.length-S),k=k.substring(0,k.length-S);var P=l(E,k);return R&&P.unshift([O,R]),I&&P.push([O,I]),m(P),A!=null&&(P=p(P,A)),P=h(P)}function l(E,k){var A;if(!E)return[[w,k]];if(!k)return[[v,E]];var S=E.length>k.length?E:k,R=E.length>k.length?k:E,I=S.indexOf(R);if(I!=-1)return A=[[w,S.substring(0,I)],[O,R],[w,S.substring(I+R.length)]],E.length>k.length&&(A[0][0]=A[2][0]=v),A;if(R.length==1)return[[v,E],[w,k]];var P=y(E,k);if(P){var x=P[0],D=P[1],F=P[2],G=P[3],H=P[4],W=u(x,F),M=u(D,G);return W.concat([[O,H]],M)}return f(E,k)}function f(E,k){for(var A=E.length,S=k.length,R=Math.ceil((A+S)/2),I=R,P=2*R,x=new Array(P),D=new Array(P),F=0;F<P;F++)x[F]=-1,D[F]=-1;x[I+1]=0,D[I+1]=0;for(var G=A-S,H=G%2!=0,W=0,M=0,U=0,q=0,$=0;$<R;$++){for(var j=-$+W;j<=$-M;j+=2){var N,V=I+j;N=j==-$||j!=$&&x[V-1]<x[V+1]?x[V+1]:x[V-1]+1;for(var K=N-j;N<A&&K<S&&E.charAt(N)==k.charAt(K);)N++,K++;if(x[V]=N,N>A)M+=2;else if(K>S)W+=2;else if(H){var X=I+G-j;if(X>=0&&X<P&&D[X]!=-1){var Y=A-D[X];if(N>=Y)return c(E,k,N,K)}}}for(var z=-$+U;z<=$-q;z+=2){var Y,X=I+z;Y=z==-$||z!=$&&D[X-1]<D[X+1]?D[X+1]:D[X-1]+1;for(var Q=Y-z;Y<A&&Q<S&&E.charAt(A-Y-1)==k.charAt(S-Q-1);)Y++,Q++;if(D[X]=Y,Y>A)q+=2;else if(Q>S)U+=2;else if(!H){var V=I+G-z;if(V>=0&&V<P&&x[V]!=-1){var N=x[V],K=I+N-V;if(Y=A-Y,N>=Y)return c(E,k,N,K)}}}}return[[v,E],[w,k]]}function c(E,k,A,S){var R=E.substring(0,A),I=k.substring(0,S),P=E.substring(A),x=k.substring(S),D=u(R,I),F=u(P,x);return D.concat(F)}function d(E,k){if(!E||!k||E.charAt(0)!=k.charAt(0))return 0;for(var A=0,S=Math.min(E.length,k.length),R=S,I=0;A<R;)E.substring(I,R)==k.substring(I,R)?(A=R,I=A):S=R,R=Math.floor((S-A)/2+A);return R}function g(E,k){if(!E||!k||E.charAt(E.length-1)!=k.charAt(k.length-1))return 0;for(var A=0,S=Math.min(E.length,k.length),R=S,I=0;A<R;)E.substring(E.length-R,E.length-I)==k.substring(k.length-R,k.length-I)?(A=R,I=A):S=R,R=Math.floor((S-A)/2+A);return R}function y(E,k){function A(W,M,U){for(var q,$,j,N,V=W.substring(U,U+Math.floor(W.length/4)),K=-1,X="";(K=M.indexOf(V,K+1))!=-1;){var Y=d(W.substring(U),M.substring(K)),z=g(W.substring(0,U),M.substring(0,K));X.length<z+Y&&(X=M.substring(K-z,K)+M.substring(K,K+Y),q=W.substring(0,U-z),$=W.substring(U+Y),j=M.substring(0,K-z),N=M.substring(K+Y))}return 2*X.length>=W.length?[q,$,j,N,X]:null}var S=E.length>k.length?E:k,R=E.length>k.length?k:E;if(S.length<4||2*R.length<S.length)return null;var I,P=A(S,R,Math.ceil(S.length/4)),x=A(S,R,Math.ceil(S.length/2));if(!P&&!x)return null;I=x?P&&P[4].length>x[4].length?P:x:P;var D,F,G,H;return E.length>k.length?(D=I[0],F=I[1],G=I[2],H=I[3]):(G=I[0],H=I[1],D=I[2],F=I[3]),[D,F,G,H,I[4]]}function m(E){E.push([O,""]);for(var k,A=0,S=0,R=0,I="",P="";A<E.length;)switch(E[A][0]){case w:R++,P+=E[A][1],A++;break;case v:S++,I+=E[A][1],A++;break;case O:S+R>1?(S!==0&&R!==0&&(k=d(P,I),k!==0&&(A-S-R>0&&E[A-S-R-1][0]==O?E[A-S-R-1][1]+=P.substring(0,k):(E.splice(0,0,[O,P.substring(0,k)]),A++),P=P.substring(k),I=I.substring(k)),(k=g(P,I))!==0&&(E[A][1]=P.substring(P.length-k)+E[A][1],P=P.substring(0,P.length-k),I=I.substring(0,I.length-k))),S===0?E.splice(A-R,S+R,[w,P]):R===0?E.splice(A-S,S+R,[v,I]):E.splice(A-S-R,S+R,[v,I],[w,P]),A=A-S-R+(S?1:0)+(R?1:0)+1):A!==0&&E[A-1][0]==O?(E[A-1][1]+=E[A][1],E.splice(A,1)):A++,R=0,S=0,I="",P=""}E[E.length-1][1]===""&&E.pop();var x=!1;for(A=1;A<E.length-1;)E[A-1][0]==O&&E[A+1][0]==O&&(E[A][1].substring(E[A][1].length-E[A-1][1].length)==E[A-1][1]?(E[A][1]=E[A-1][1]+E[A][1].substring(0,E[A][1].length-E[A-1][1].length),E[A+1][1]=E[A-1][1]+E[A+1][1],E.splice(A-1,1),x=!0):E[A][1].substring(0,E[A+1][1].length)==E[A+1][1]&&(E[A-1][1]+=E[A+1][1],E[A][1]=E[A][1].substring(E[A+1][1].length)+E[A+1][1],E.splice(A+1,1),x=!0)),A++;x&&m(E)}function _(E,k){if(k===0)return[O,E];for(var A=0,S=0;S<E.length;S++){var R=E[S];if(R[0]===v||R[0]===O){var I=A+R[1].length;if(k===I)return[S+1,E];if(k<I){E=E.slice();var P=k-A,x=[R[0],R[1].slice(0,P)],D=[R[0],R[1].slice(P)];return E.splice(S,1,x,D),[S+1,E]}A=I}}throw new Error("cursor_pos is out of bounds!")}function p(E,k){var A=_(E,k),S=A[1],R=A[0],I=S[R],P=S[R+1];if(I==null||I[0]!==O)return E;if(P!=null&&I[1]+P[1]===P[1]+I[1])return S.splice(R,2,P,I),b(S,R,2);if(P!=null&&P[1].indexOf(I[1])===0){S.splice(R,2,[P[0],I[1]],[0,I[1]]);var x=P[1].slice(I[1].length);return x.length>0&&S.splice(R+2,0,[P[0],x]),b(S,R,3)}return E}function h(E){for(var k=!1,A=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},S=2;S<E.length;S+=1)E[S-2][0]===O&&function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319}(E[S-2][1])&&E[S-1][0]===v&&A(E[S-1][1])&&E[S][0]===w&&A(E[S][1])&&(k=!0,E[S-1][1]=E[S-2][1].slice(-1)+E[S-1][1],E[S][1]=E[S-2][1].slice(-1)+E[S][1],E[S-2][1]=E[S-2][1].slice(0,-1));if(!k)return E;for(var R=[],S=0;S<E.length;S+=1)E[S][1].length>0&&R.push(E[S]);return R}function b(E,k,A){for(var S=k+A-1;S>=0&&S>=k-1;S--)if(S+1<E.length){var R=E[S],I=E[S+1];R[0]===I[1]&&E.splice(S,2,[R[0],R[1]+I[1]])}return E}var v=-1,w=1,O=0,T=u;T.INSERT=w,T.DELETE=v,T.EQUAL=O,s.exports=T},function(s,a){function u(l){var f=[];for(var c in l)f.push(c);return f}a=s.exports=typeof Object.keys=="function"?Object.keys:u,a.shim=u},function(s,a){function u(c){return Object.prototype.toString.call(c)=="[object Arguments]"}function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}var f=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=s.exports=f?u:l,a.supported=u,a.unsupported=l},function(s,a){function u(){}function l(g,y,m){this.fn=g,this.context=y,this.once=m||!1}function f(){this._events=new u,this._eventsCount=0}var c=Object.prototype.hasOwnProperty,d="~";Object.create&&(u.prototype=Object.create(null),new u().__proto__||(d=!1)),f.prototype.eventNames=function(){var g,y,m=[];if(this._eventsCount===0)return m;for(y in g=this._events)c.call(g,y)&&m.push(d?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(g,y){var m=d?d+g:g,_=this._events[m];if(y)return!!_;if(!_)return[];if(_.fn)return[_.fn];for(var p=0,h=_.length,b=new Array(h);p<h;p++)b[p]=_[p].fn;return b},f.prototype.emit=function(g,y,m,_,p,h){var b=d?d+g:g;if(!this._events[b])return!1;var v,w,O=this._events[b],T=arguments.length;if(O.fn){switch(O.once&&this.removeListener(g,O.fn,void 0,!0),T){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,y),!0;case 3:return O.fn.call(O.context,y,m),!0;case 4:return O.fn.call(O.context,y,m,_),!0;case 5:return O.fn.call(O.context,y,m,_,p),!0;case 6:return O.fn.call(O.context,y,m,_,p,h),!0}for(w=1,v=new Array(T-1);w<T;w++)v[w-1]=arguments[w];O.fn.apply(O.context,v)}else{var E,k=O.length;for(w=0;w<k;w++)switch(O[w].once&&this.removeListener(g,O[w].fn,void 0,!0),T){case 1:O[w].fn.call(O[w].context);break;case 2:O[w].fn.call(O[w].context,y);break;case 3:O[w].fn.call(O[w].context,y,m);break;case 4:O[w].fn.call(O[w].context,y,m,_);break;default:if(!v)for(E=1,v=new Array(T-1);E<T;E++)v[E-1]=arguments[E];O[w].fn.apply(O[w].context,v)}}return!0},f.prototype.on=function(g,y,m){var _=new l(y,m||this),p=d?d+g:g;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],_]:this._events[p].push(_):(this._events[p]=_,this._eventsCount++),this},f.prototype.once=function(g,y,m){var _=new l(y,m||this,!0),p=d?d+g:g;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],_]:this._events[p].push(_):(this._events[p]=_,this._eventsCount++),this},f.prototype.removeListener=function(g,y,m,_){var p=d?d+g:g;if(!this._events[p])return this;if(!y)return--this._eventsCount==0?this._events=new u:delete this._events[p],this;var h=this._events[p];if(h.fn)h.fn!==y||_&&!h.once||m&&h.context!==m||(--this._eventsCount==0?this._events=new u:delete this._events[p]);else{for(var b=0,v=[],w=h.length;b<w;b++)(h[b].fn!==y||_&&!h[b].once||m&&h[b].context!==m)&&v.push(h[b]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount==0?this._events=new u:delete this._events[p]}return this},f.prototype.removeAllListeners=function(g){var y;return g?(y=d?d+g:g,this._events[y]&&(--this._eventsCount==0?this._events=new u:delete this._events[y])):(this._events=new u,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=d,f.EventEmitter=f,s!==void 0&&(s.exports=f)},function(s,a,u){function l(C){return C&&C.__esModule?C:{default:C}}function f(C,L,B){return L in C?Object.defineProperty(C,L,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[L]=B,C}function c(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function d(C,L){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||typeof L!="object"&&typeof L!="function"?C:L}function g(C,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(C,L):C.__proto__=L)}function y(C,L,B){return(L===void 0?"undefined":I(L))==="object"?Object.keys(L).reduce(function(Z,ne){return y(Z,ne,L[ne])},C):C.reduce(function(Z,ne){return ne.attributes&&ne.attributes[L]?Z.push(ne):Z.insert(ne.insert,(0,F.default)({},f({},L,B),ne.attributes))},new H.default)}function m(C){return C.nodeType!==Node.ELEMENT_NODE?{}:C["__ql-computed-style"]||(C["__ql-computed-style"]=window.getComputedStyle(C))}function _(C,L){for(var B="",Z=C.ops.length-1;Z>=0&&B.length<L.length;--Z){var ne=C.ops[Z];if(typeof ne.insert!="string")break;B=ne.insert+B}return B.slice(-1*L.length)===L}function p(C){return C.childNodes.length!==0&&["block","list-item"].indexOf(m(C).display)>-1}function h(C,L,B){return C.nodeType===C.TEXT_NODE?B.reduce(function(Z,ne){return ne(C,Z)},new H.default):C.nodeType===C.ELEMENT_NODE?[].reduce.call(C.childNodes||[],function(Z,ne){var ae=h(ne,L,B);return ne.nodeType===C.ELEMENT_NODE&&(ae=L.reduce(function(pe,Ie){return Ie(ne,pe)},ae),ae=(ne[ie]||[]).reduce(function(pe,Ie){return Ie(ne,pe)},ae)),Z.concat(ae)},new H.default):new H.default}function b(C,L,B){return y(B,C,!0)}function v(C,L){var B=M.default.Attributor.Attribute.keys(C),Z=M.default.Attributor.Class.keys(C),ne=M.default.Attributor.Style.keys(C),ae={};return B.concat(Z).concat(ne).forEach(function(pe){var Ie=M.default.query(pe,M.default.Scope.ATTRIBUTE);Ie!=null&&(ae[Ie.attrName]=Ie.value(C),ae[Ie.attrName])||(Ie=re[pe],Ie==null||Ie.attrName!==pe&&Ie.keyName!==pe||(ae[Ie.attrName]=Ie.value(C)||void 0),(Ie=ue[pe])==null||Ie.attrName!==pe&&Ie.keyName!==pe||(Ie=ue[pe],ae[Ie.attrName]=Ie.value(C)||void 0))}),Object.keys(ae).length>0&&(L=y(L,ae)),L}function w(C,L){var B=M.default.query(C);if(B==null)return L;if(B.prototype instanceof M.default.Embed){var Z={},ne=B.value(C);ne!=null&&(Z[B.blotName]=ne,L=new H.default().insert(Z,B.formats(C)))}else typeof B.formats=="function"&&(L=y(L,B.blotName,B.formats(C)));return L}function O(C,L){return _(L,`
`)||L.insert(`
`),L}function T(){return new H.default}function E(C,L){var B=M.default.query(C);if(B==null||B.blotName!=="list-item"||!_(L,`
`))return L;for(var Z=-1,ne=C.parentNode;!ne.classList.contains("ql-clipboard");)(M.default.query(ne)||{}).blotName==="list"&&(Z+=1),ne=ne.parentNode;return Z<=0?L:L.compose(new H.default().retain(L.length()-1).retain(1,{indent:Z}))}function k(C,L){return _(L,`
`)||(p(C)||L.length()>0&&C.nextSibling&&p(C.nextSibling))&&L.insert(`
`),L}function A(C,L){if(p(C)&&C.nextElementSibling!=null&&!_(L,`

`)){var B=C.offsetHeight+parseFloat(m(C).marginTop)+parseFloat(m(C).marginBottom);C.nextElementSibling.offsetTop>C.offsetTop+1.5*B&&L.insert(`
`)}return L}function S(C,L){var B={},Z=C.style||{};return Z.fontStyle&&m(C).fontStyle==="italic"&&(B.italic=!0),Z.fontWeight&&(m(C).fontWeight.startsWith("bold")||parseInt(m(C).fontWeight)>=700)&&(B.bold=!0),Object.keys(B).length>0&&(L=y(L,B)),parseFloat(Z.textIndent||0)>0&&(L=new H.default().insert("	").concat(L)),L}function R(C,L){var B=C.data;if(C.parentNode.tagName==="O:P")return L.insert(B.trim());if(B.trim().length===0&&C.parentNode.classList.contains("ql-clipboard"))return L;if(!m(C.parentNode).whiteSpace.startsWith("pre")){var Z=function(ne,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&ne?" ":ae};B=B.replace(/\r\n/g," ").replace(/\n/g," "),B=B.replace(/\s\s+/g,Z.bind(Z,!0)),(C.previousSibling==null&&p(C.parentNode)||C.previousSibling!=null&&p(C.previousSibling))&&(B=B.replace(/^\s+/,Z.bind(Z,!1))),(C.nextSibling==null&&p(C.parentNode)||C.nextSibling!=null&&p(C.nextSibling))&&(B=B.replace(/\s+$/,Z.bind(Z,!1)))}return L.insert(B)}Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},P=function(){function C(L,B){var Z=[],ne=!0,ae=!1,pe=void 0;try{for(var Ie,Re=L[Symbol.iterator]();!(ne=(Ie=Re.next()).done)&&(Z.push(Ie.value),!B||Z.length!==B);ne=!0);}catch(Ae){ae=!0,pe=Ae}finally{try{!ne&&Re.return&&Re.return()}finally{if(ae)throw pe}}return Z}return function(L,B){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return C(L,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function C(L,B){for(var Z=0;Z<B.length;Z++){var ne=B[Z];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(L,ne.key,ne)}}return function(L,B,Z){return B&&C(L.prototype,B),Z&&C(L,Z),L}}(),D=u(3),F=l(D),G=u(2),H=l(G),W=u(0),M=l(W),U=u(5),q=l(U),$=u(10),j=l($),N=u(9),V=l(N),K=u(36),X=u(37),Y=u(13),z=l(Y),Q=u(26),ee=u(38),te=u(39),oe=u(40),ce=(0,j.default)("quill:clipboard"),ie="__ql-matcher",J=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,k],["br",O],[Node.ELEMENT_NODE,k],[Node.ELEMENT_NODE,w],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,v],[Node.ELEMENT_NODE,S],["li",E],["b",b.bind(b,"bold")],["i",b.bind(b,"italic")],["style",T]],re=[K.AlignAttribute,ee.DirectionAttribute].reduce(function(C,L){return C[L.keyName]=L,C},{}),ue=[K.AlignStyle,X.BackgroundStyle,Q.ColorStyle,ee.DirectionStyle,te.FontStyle,oe.SizeStyle].reduce(function(C,L){return C[L.keyName]=L,C},{}),he=function(C){function L(B,Z){c(this,L);var ne=d(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,B,Z));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],J.concat(ne.options.matchers).forEach(function(ae){var pe=P(ae,2),Ie=pe[0],Re=pe[1];(Z.matchVisual||Re!==A)&&ne.addMatcher(Ie,Re)}),ne}return g(L,C),x(L,[{key:"addMatcher",value:function(B,Z){this.matchers.push([B,Z])}},{key:"convert",value:function(B){if(typeof B=="string")return this.container.innerHTML=B.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[z.default.blotName]){var ne=this.container.innerText;return this.container.innerHTML="",new H.default().insert(ne,f({},z.default.blotName,Z[z.default.blotName]))}var ae=this.prepareMatching(),pe=P(ae,2),Ie=pe[0],Re=pe[1],Ae=h(this.container,Ie,Re);return _(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new H.default().retain(Ae.length()-1).delete(1))),ce.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(B,Z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.default.sources.API;if(typeof B=="string")this.quill.setContents(this.convert(B),Z),this.quill.setSelection(0,q.default.sources.SILENT);else{var ae=this.convert(Z);this.quill.updateContents(new H.default().retain(B).concat(ae),ne),this.quill.setSelection(B+ae.length(),q.default.sources.SILENT)}}},{key:"onPaste",value:function(B){var Z=this;if(!B.defaultPrevented&&this.quill.isEnabled()){var ne=this.quill.getSelection(),ae=new H.default().retain(ne.index),pe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(q.default.sources.SILENT),setTimeout(function(){ae=ae.concat(Z.convert()).delete(ne.length),Z.quill.updateContents(ae,q.default.sources.USER),Z.quill.setSelection(ae.length()-ne.length,q.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=pe,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var B=this,Z=[],ne=[];return this.matchers.forEach(function(ae){var pe=P(ae,2),Ie=pe[0],Re=pe[1];switch(Ie){case Node.TEXT_NODE:ne.push(Re);break;case Node.ELEMENT_NODE:Z.push(Re);break;default:[].forEach.call(B.container.querySelectorAll(Ie),function(Ae){Ae[ie]=Ae[ie]||[],Ae[ie].push(Re)})}}),[Z,ne]}}]),L}(V.default);he.DEFAULTS={matchers:[],matchVisual:!0},a.default=he,a.matchAttributor=v,a.matchBlot=w,a.matchNewline=k,a.matchSpacing=A,a.matchText=R},function(s,a,u){function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}function c(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),g=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}if("value"in w)return w.value;var T=w.get;if(T!==void 0)return T.call(v)},y=u(6),m=function(p){return p&&p.__esModule?p:{default:p}}(y),_=function(p){function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return c(h,p),d(h,[{key:"optimize",value:function(b){g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(m.default);_.blotName="bold",_.tagName=["STRONG","B"],a.default=_},function(s,a,u){function l(x){return x&&x.__esModule?x:{default:x}}function f(x,D,F){return D in x?Object.defineProperty(x,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):x[D]=F,x}function c(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}function d(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||typeof D!="object"&&typeof D!="function"?x:D}function g(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}function y(x,D,F){var G=document.createElement("button");G.setAttribute("type","button"),G.classList.add("ql-"+D),F!=null&&(G.value=F),x.appendChild(G)}function m(x,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(F){var G=document.createElement("span");G.classList.add("ql-formats"),F.forEach(function(H){if(typeof H=="string")y(G,H);else{var W=Object.keys(H)[0],M=H[W];Array.isArray(M)?_(G,W,M):y(G,W,M)}}),x.appendChild(G)})}function _(x,D,F){var G=document.createElement("select");G.classList.add("ql-"+D),F.forEach(function(H){var W=document.createElement("option");H!==!1?W.setAttribute("value",H):W.setAttribute("selected","selected"),G.appendChild(W)}),x.appendChild(G)}Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var p=function(){function x(D,F){var G=[],H=!0,W=!1,M=void 0;try{for(var U,q=D[Symbol.iterator]();!(H=(U=q.next()).done)&&(G.push(U.value),!F||G.length!==F);H=!0);}catch($){W=!0,M=$}finally{try{!H&&q.return&&q.return()}finally{if(W)throw M}}return G}return function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return x(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function x(D,F){for(var G=0;G<F.length;G++){var H=F[G];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,H.key,H)}}return function(D,F,G){return F&&x(D.prototype,F),G&&x(D,G),D}}(),b=u(2),v=l(b),w=u(0),O=l(w),T=u(5),E=l(T),k=u(10),A=l(k),S=u(9),R=l(S),I=(0,A.default)("quill:toolbar"),P=function(x){function D(F,G){c(this,D);var H=d(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,F,G));if(Array.isArray(H.options.container)){var W=document.createElement("div");m(W,H.options.container),F.container.parentNode.insertBefore(W,F.container),H.container=W}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var M;return M=I.error("Container required for toolbar",H.options),d(H,M)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(U){H.addHandler(U,H.options.handlers[U])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(U){H.attach(U)}),H.quill.on(E.default.events.EDITOR_CHANGE,function(U,q){U===E.default.events.SELECTION_CHANGE&&H.update(q)}),H.quill.on(E.default.events.SCROLL_OPTIMIZE,function(){var U=H.quill.selection.getRange(),q=p(U,1),$=q[0];H.update($)}),H}return g(D,x),h(D,[{key:"addHandler",value:function(F,G){this.handlers[F]=G}},{key:"attach",value:function(F){var G=this,H=[].find.call(F.classList,function(M){return M.indexOf("ql-")===0});if(H){if(H=H.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null)return void I.warn("ignoring attaching to disabled format",H,F);if(O.default.query(H)==null)return void I.warn("ignoring attaching to nonexistent format",H,F)}var W=F.tagName==="SELECT"?"change":"click";F.addEventListener(W,function(M){var U=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var q=F.options[F.selectedIndex];U=!q.hasAttribute("selected")&&(q.value||!1)}else U=!F.classList.contains("ql-active")&&(F.value||!F.hasAttribute("value")),M.preventDefault();G.quill.focus();var $=G.quill.selection.getRange(),j=p($,1),N=j[0];if(G.handlers[H]!=null)G.handlers[H].call(G,U);else if(O.default.query(H).prototype instanceof O.default.Embed){if(!(U=prompt("Enter "+H)))return;G.quill.updateContents(new v.default().retain(N.index).delete(N.length).insert(f({},H,U)),E.default.sources.USER)}else G.quill.format(H,U,E.default.sources.USER);G.update(N)}),this.controls.push([H,F])}}},{key:"update",value:function(F){var G=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(H){var W=p(H,2),M=W[0],U=W[1];if(U.tagName==="SELECT"){var q=void 0;if(F==null)q=null;else if(G[M]==null)q=U.querySelector("option[selected]");else if(!Array.isArray(G[M])){var $=G[M];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),q=U.querySelector('option[value="'+$+'"]')}q==null?(U.value="",U.selectedIndex=-1):q.selected=!0}else if(F==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var j=G[M]===U.getAttribute("value")||G[M]!=null&&G[M].toString()===U.getAttribute("value")||G[M]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",j)}else U.classList.toggle("ql-active",G[M]!=null)})}}]),D}(R.default);P.DEFAULTS={},P.DEFAULTS={container:null,handlers:{clean:function(){var x=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(G){O.default.query(G,O.default.Scope.INLINE)!=null&&x.quill.format(G,!1)})}else this.quill.removeFormat(D,E.default.sources.USER)},direction:function(x){var D=this.quill.getFormat().align;x==="rtl"&&D==null?this.quill.format("align","right",E.default.sources.USER):x||D!=="right"||this.quill.format("align",!1,E.default.sources.USER),this.quill.format("direction",x,E.default.sources.USER)},indent:function(x){var D=this.quill.getSelection(),F=this.quill.getFormat(D),G=parseInt(F.indent||0);if(x==="+1"||x==="-1"){var H=x==="+1"?1:-1;F.direction==="rtl"&&(H*=-1),this.quill.format("indent",G+H,E.default.sources.USER)}},link:function(x){x===!0&&(x=prompt("Enter link URL:")),this.quill.format("link",x,E.default.sources.USER)},list:function(x){var D=this.quill.getSelection(),F=this.quill.getFormat(D);x==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,E.default.sources.USER):this.quill.format("list","unchecked",E.default.sources.USER):this.quill.format("list",x,E.default.sources.USER)}}},a.default=P,a.addControls=m},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,a,u){function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}function c(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),g=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}if("value"in w)return w.value;var T=w.get;if(T!==void 0)return T.call(v)},y=u(28),m=function(p){return p&&p.__esModule?p:{default:p}}(y),_=function(p){function h(b,v){l(this,h);var w=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,b));return w.label.innerHTML=v,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(O){O.classList.add("ql-primary")}),w}return c(h,p),d(h,[{key:"buildItem",value:function(b){var v=g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,b);return v.style.backgroundColor=b.getAttribute("value")||"",v}},{key:"selectItem",value:function(b,v){g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,b,v);var w=this.label.querySelector(".ql-color-label"),O=b&&b.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=O:w.style.fill=O)}}]),h}(m.default);a.default=_},function(s,a,u){function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}function c(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),g=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}if("value"in w)return w.value;var T=w.get;if(T!==void 0)return T.call(v)},y=u(28),m=function(p){return p&&p.__esModule?p:{default:p}}(y),_=function(p){function h(b,v){l(this,h);var w=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,b));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(O){O.innerHTML=v[O.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return c(h,p),d(h,[{key:"selectItem",value:function(b,v){g(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,b,v),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),h}(m.default);a.default=_},function(s,a,u){function l(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var f=function(){function d(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&d(g.prototype,y),m&&d(g,m),g}}(),c=function(){function d(g,y){var m=this;l(this,d),this.quill=g,this.boundsContainer=y||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return f(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var y=g.left+g.width/2-this.root.offsetWidth/2,m=g.bottom+this.quill.root.scrollTop;this.root.style.left=y+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var _=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),h=0;if(p.right>_.right&&(h=_.right-p.right,this.root.style.left=y+h+"px"),p.left<_.left&&(h=_.left-p.left,this.root.style.left=y+h+"px"),p.bottom>_.bottom){var b=p.bottom-p.top,v=g.bottom-g.top+b;this.root.style.top=m-v+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();a.default=c},function(s,a,u){function l(P){return P&&P.__esModule?P:{default:P}}function f(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}function c(P,x){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?P:x}function d(P,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(P,x):P.__proto__=x)}Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function P(x,D){var F=[],G=!0,H=!1,W=void 0;try{for(var M,U=x[Symbol.iterator]();!(G=(M=U.next()).done)&&(F.push(M.value),!D||F.length!==D);G=!0);}catch(q){H=!0,W=q}finally{try{!G&&U.return&&U.return()}finally{if(H)throw W}}return F}return function(x,D){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return P(x,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function P(x,D,F){x===null&&(x=Function.prototype);var G=Object.getOwnPropertyDescriptor(x,D);if(G===void 0){var H=Object.getPrototypeOf(x);return H===null?void 0:P(H,D,F)}if("value"in G)return G.value;var W=G.get;if(W!==void 0)return W.call(F)},m=function(){function P(x,D){for(var F=0;F<D.length;F++){var G=D[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(x,G.key,G)}}return function(x,D,F){return D&&P(x.prototype,D),F&&P(x,F),x}}(),_=u(3),p=l(_),h=u(8),b=l(h),v=u(43),w=l(v),O=u(27),T=l(O),E=u(15),k=u(41),A=l(k),S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(P){function x(D,F){f(this,x),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=S);var G=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D,F));return G.quill.container.classList.add("ql-snow"),G}return d(x,P),m(x,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),A.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),A.default),this.tooltip=new I(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,G){D.handlers.link.call(D,!G.format.link)})}}]),x}(w.default);R.DEFAULTS=(0,p.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var x=this.quill.getSelection();if(x==null||x.length==0)return;var D=this.quill.getText(x);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D),this.quill.theme.tooltip.edit("link",D)}else this.quill.format("link",!1)}}}}});var I=function(P){function x(D,F){f(this,x);var G=c(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D,F));return G.preview=G.root.querySelector("a.ql-preview"),G}return d(x,P),m(x,[{key:"listen",value:function(){var D=this;y(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(D.linkRange!=null){var G=D.linkRange;D.restoreFocus(),D.quill.formatText(G,"link",!1,b.default.sources.USER),delete D.linkRange}F.preventDefault(),D.hide()}),this.quill.on(b.default.events.SELECTION_CHANGE,function(F,G,H){if(F!=null){if(F.length===0&&H===b.default.sources.USER){var W=D.quill.scroll.descendant(T.default,F.index),M=g(W,2),U=M[0],q=M[1];if(U!=null){D.linkRange=new E.Range(F.index-q,U.length());var $=T.default.formats(U.domNode);return D.preview.textContent=$,D.preview.setAttribute("href",$),D.show(),void D.position(D.quill.getBounds(D.linkRange))}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){y(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(v.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=R},function(s,a,u){function l(ae){return ae&&ae.__esModule?ae:{default:ae}}Object.defineProperty(a,"__esModule",{value:!0});var f=u(29),c=l(f),d=u(36),g=u(38),y=u(64),m=u(65),_=l(m),p=u(66),h=l(p),b=u(67),v=l(b),w=u(37),O=u(26),T=u(39),E=u(40),k=u(56),A=l(k),S=u(68),R=l(S),I=u(27),P=l(I),x=u(69),D=l(x),F=u(70),G=l(F),H=u(71),W=l(H),M=u(72),U=l(M),q=u(73),$=l(q),j=u(13),N=l(j),V=u(74),K=l(V),X=u(75),Y=l(X),z=u(57),Q=l(z),ee=u(41),te=l(ee),oe=u(28),ce=l(oe),ie=u(59),J=l(ie),re=u(60),ue=l(re),he=u(61),C=l(he),L=u(108),B=l(L),Z=u(62),ne=l(Z);c.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":d.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":O.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":d.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":O.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":E.SizeStyle},!0),c.default.register({"formats/align":d.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":y.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":O.ColorStyle,"formats/font":T.FontClass,"formats/size":E.SizeClass,"formats/blockquote":_.default,"formats/code-block":N.default,"formats/header":h.default,"formats/list":v.default,"formats/bold":A.default,"formats/code":j.Code,"formats/italic":R.default,"formats/link":P.default,"formats/script":D.default,"formats/strike":G.default,"formats/underline":W.default,"formats/image":U.default,"formats/video":$.default,"formats/list/item":b.ListItem,"modules/formula":K.default,"modules/syntax":Y.default,"modules/toolbar":Q.default,"themes/bubble":B.default,"themes/snow":ne.default,"ui/icons":te.default,"ui/picker":ce.default,"ui/icon-picker":ue.default,"ui/color-picker":J.default,"ui/tooltip":C.default},!0),a.default=c.default},function(s,a,u){function l(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function f(h,b){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?h:b}function c(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var d=function(){function h(b,v){for(var w=0;w<v.length;w++){var O=v[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,v,w){return v&&h(b.prototype,v),w&&h(b,w),b}}(),g=function h(b,v,w){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,v);if(O===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:h(T,v,w)}if("value"in O)return O.value;var E=O.get;if(E!==void 0)return E.call(w)},y=u(0),m=function(h){return h&&h.__esModule?h:{default:h}}(y),_=function(h){function b(){return l(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return c(b,h),d(b,[{key:"add",value:function(v,w){if(w==="+1"||w==="-1"){var O=this.value(v)||0;w=w==="+1"?O+1:O-1}return w===0?(this.remove(v),!0):g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,v,w)}},{key:"canAdd",value:function(v,w){return g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,v,w)||g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,v,parseInt(w))}},{key:"value",value:function(v){return parseInt(g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,v))||void 0}}]),b}(m.default.Attributor.Class),p=new _("indent","ql-indent",{scope:m.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=p},function(s,a,u){function l(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}Object.defineProperty(a,"__esModule",{value:!0});var d=u(4),g=function(m){return m&&m.__esModule?m:{default:m}}(d),y=function(m){function _(){return l(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return c(_,m),_}(g.default);y.blotName="blockquote",y.tagName="blockquote",a.default=y},function(s,a,u){function l(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function f(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?_:p}function c(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function _(p,h){for(var b=0;b<h.length;b++){var v=h[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,h,b){return h&&_(p.prototype,h),b&&_(p,b),p}}(),g=u(4),y=function(_){return _&&_.__esModule?_:{default:_}}(g),m=function(_){function p(){return l(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return c(p,_),d(p,null,[{key:"formats",value:function(h){return this.tagName.indexOf(h.tagName)+1}}]),p}(y.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],a.default=m},function(s,a,u){function l(E){return E&&E.__esModule?E:{default:E}}function f(E,k,A){return k in E?Object.defineProperty(E,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):E[k]=A,E}function c(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function d(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?E:k}function g(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var y=function(){function E(k,A){for(var S=0;S<A.length;S++){var R=A[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,A,S){return A&&E(k.prototype,A),S&&E(k,S),k}}(),m=function E(k,A,S){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,A);if(R===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:E(I,A,S)}if("value"in R)return R.value;var P=R.get;if(P!==void 0)return P.call(S)},_=u(0),p=l(_),h=u(4),b=l(h),v=u(25),w=l(v),O=function(E){function k(){return c(this,k),d(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return g(k,E),y(k,[{key:"format",value:function(A,S){A!==T.blotName||S?m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,A,S):this.replaceWith(p.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,S){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,S),this):(this.parent.unwrap(),m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,A,S))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:m(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,A)}}]),k}(b.default);O.blotName="list-item",O.tagName="LI";var T=function(E){function k(A){c(this,k);var S=d(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A)),R=function(I){if(I.target.parentNode===A){var P=S.statics.formats(A),x=p.default.find(I.target);P==="checked"?x.format("list","unchecked"):P==="unchecked"&&x.format("list","checked")}};return A.addEventListener("touchstart",R),A.addEventListener("mousedown",R),S}return g(k,E),y(k,null,[{key:"create",value:function(A){var S=A==="ordered"?"OL":"UL",R=m(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,S);return A!=="checked"&&A!=="unchecked"||R.setAttribute("data-checked",A==="checked"),R}},{key:"formats",value:function(A){return A.tagName==="OL"?"ordered":A.tagName==="UL"?A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),y(k,[{key:"format",value:function(A,S){this.children.length>0&&this.children.tail.format(A,S)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,S){if(A instanceof O)m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,A,S);else{var R=S==null?this.length():S.offset(this),I=this.split(R);I.parent.insertBefore(A,I)}}},{key:"optimize",value:function(A){m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,A);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var S=p.default.create(this.statics.defaultChild);A.moveChildren(S),this.appendChild(S)}m(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,A)}}]),k}(w.default);T.blotName="list",T.scope=p.default.Scope.BLOCK_BLOT,T.tagName=["OL","UL"],T.defaultChild="list-item",T.allowedChildren=[O],a.ListItem=O,a.default=T},function(s,a,u){function l(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}Object.defineProperty(a,"__esModule",{value:!0});var d=u(56),g=function(m){return m&&m.__esModule?m:{default:m}}(d),y=function(m){function _(){return l(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return c(_,m),_}(g.default);y.blotName="italic",y.tagName=["EM","I"],a.default=y},function(s,a,u){function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function f(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}function c(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function p(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,b,v){return b&&p(h.prototype,b),v&&p(h,v),h}}(),g=function p(h,b,v){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,b);if(w===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:p(O,b,v)}if("value"in w)return w.value;var T=w.get;if(T!==void 0)return T.call(v)},y=u(6),m=function(p){return p&&p.__esModule?p:{default:p}}(y),_=function(p){function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return c(h,p),d(h,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):g(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,b)}},{key:"formats",value:function(b){return b.tagName==="SUB"?"sub":b.tagName==="SUP"?"super":void 0}}]),h}(m.default);_.blotName="script",_.tagName=["SUB","SUP"],a.default=_},function(s,a,u){function l(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}Object.defineProperty(a,"__esModule",{value:!0});var d=u(6),g=function(m){return m&&m.__esModule?m:{default:m}}(d),y=function(m){function _(){return l(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return c(_,m),_}(g.default);y.blotName="strike",y.tagName="S",a.default=y},function(s,a,u){function l(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?m:_}function c(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}Object.defineProperty(a,"__esModule",{value:!0});var d=u(6),g=function(m){return m&&m.__esModule?m:{default:m}}(d),y=function(m){function _(){return l(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return c(_,m),_}(g.default);y.blotName="underline",y.tagName="U",a.default=y},function(s,a,u){function l(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?b:v}function c(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function b(v,w){for(var O=0;O<w.length;O++){var T=w[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,O){return w&&b(v.prototype,w),O&&b(v,O),v}}(),g=function b(v,w,O){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,w);if(T===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:b(E,w,O)}if("value"in T)return T.value;var k=T.get;if(k!==void 0)return k.call(O)},y=u(0),m=function(b){return b&&b.__esModule?b:{default:b}}(y),_=u(27),p=["alt","height","width"],h=function(b){function v(){return l(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return c(v,b),d(v,[{key:"format",value:function(w,O){p.indexOf(w)>-1?O?this.domNode.setAttribute(w,O):this.domNode.removeAttribute(w):g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,O)}}],[{key:"create",value:function(w){var O=g(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return typeof w=="string"&&O.setAttribute("src",this.sanitize(w)),O}},{key:"formats",value:function(w){return p.reduce(function(O,T){return w.hasAttribute(T)&&(O[T]=w.getAttribute(T)),O},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,_.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(m.default.Embed);h.blotName="image",h.tagName="IMG",a.default=h},function(s,a,u){function l(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?b:v}function c(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function b(v,w){for(var O=0;O<w.length;O++){var T=w[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,O){return w&&b(v.prototype,w),O&&b(v,O),v}}(),g=function b(v,w,O){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,w);if(T===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:b(E,w,O)}if("value"in T)return T.value;var k=T.get;if(k!==void 0)return k.call(O)},y=u(4),m=u(27),_=function(b){return b&&b.__esModule?b:{default:b}}(m),p=["height","width"],h=function(b){function v(){return l(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return c(v,b),d(v,[{key:"format",value:function(w,O){p.indexOf(w)>-1?O?this.domNode.setAttribute(w,O):this.domNode.removeAttribute(w):g(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,O)}}],[{key:"create",value:function(w){var O=g(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return O.setAttribute("frameborder","0"),O.setAttribute("allowfullscreen",!0),O.setAttribute("src",this.sanitize(w)),O}},{key:"formats",value:function(w){return p.reduce(function(O,T){return w.hasAttribute(T)&&(O[T]=w.getAttribute(T)),O},{})}},{key:"sanitize",value:function(w){return _.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(y.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",a.default=h},function(s,a,u){function l(T){return T&&T.__esModule?T:{default:T}}function f(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function c(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?T:E}function d(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var g=function(){function T(E,k){for(var A=0;A<k.length;A++){var S=k[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,k,A){return k&&T(E.prototype,k),A&&T(E,A),E}}(),y=function T(E,k,A){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,k);if(S===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:T(R,k,A)}if("value"in S)return S.value;var I=S.get;if(I!==void 0)return I.call(A)},m=u(35),_=l(m),p=u(5),h=l(p),b=u(9),v=l(b),w=function(T){function E(){return f(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return d(E,T),g(E,null,[{key:"create",value:function(k){var A=y(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",k)),A}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),E}(_.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var O=function(T){function E(){f(this,E);var k=c(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return d(E,T),g(E,null,[{key:"register",value:function(){h.default.register(w,!0)}}]),E}(v.default);a.FormulaBlot=w,a.default=O},function(s,a,u){function l(A){return A&&A.__esModule?A:{default:A}}function f(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function c(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?A:S}function d(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var g=function(){function A(S,R){for(var I=0;I<R.length;I++){var P=R[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,R,I){return R&&A(S.prototype,R),I&&A(S,I),S}}(),y=function A(S,R,I){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,R);if(P===void 0){var x=Object.getPrototypeOf(S);return x===null?void 0:A(x,R,I)}if("value"in P)return P.value;var D=P.get;if(D!==void 0)return D.call(I)},m=u(0),_=l(m),p=u(5),h=l(p),b=u(9),v=l(b),w=u(13),O=l(w),T=function(A){function S(){return f(this,S),c(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return d(S,A),g(S,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),y(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),S}(O.default);T.className="ql-syntax";var E=new _.default.Attributor.Class("token","hljs",{scope:_.default.Scope.INLINE}),k=function(A){function S(R,I){f(this,S);var P=c(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,I));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return P.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){P.highlight(),x=null},P.options.interval)}),P.highlight(),P}return d(S,A),g(S,null,[{key:"register",value:function(){h.default.register(E,!0),h.default.register(T,!0)}}]),g(S,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(T).forEach(function(P){P.highlight(R.options.highlight)}),this.quill.update(h.default.sources.SILENT),I!=null&&this.quill.setSelection(I,h.default.sources.SILENT)}}}]),S}(v.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(A){return window.hljs.highlightAuto(A).value}}(),interval:1e3},a.CodeBlock=T,a.CodeToken=E,a.default=k},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,a,u){function l(S){return S&&S.__esModule?S:{default:S}}function f(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function c(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?S:R}function d(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var g=function S(R,I,P){R===null&&(R=Function.prototype);var x=Object.getOwnPropertyDescriptor(R,I);if(x===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:S(D,I,P)}if("value"in x)return x.value;var F=x.get;if(F!==void 0)return F.call(P)},y=function(){function S(R,I){for(var P=0;P<I.length;P++){var x=I[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}return function(R,I,P){return I&&S(R.prototype,I),P&&S(R,P),R}}(),m=u(3),_=l(m),p=u(8),h=l(p),b=u(43),v=l(b),w=u(15),O=u(41),T=l(O),E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){function R(I,P){f(this,R),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=E);var x=c(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I,P));return x.quill.container.classList.add("ql-bubble"),x}return d(R,S),y(R,[{key:"extendToolbar",value:function(I){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),T.default)}}]),R}(v.default);k.DEFAULTS=(0,_.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(S){function R(I,P){f(this,R);var x=c(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I,P));return x.quill.on(h.default.events.EDITOR_CHANGE,function(D,F,G,H){if(D===h.default.events.SELECTION_CHANGE)if(F!=null&&F.length>0&&H===h.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var W=x.quill.getLines(F.index,F.length);if(W.length===1)x.position(x.quill.getBounds(F));else{var M=W[W.length-1],U=x.quill.getIndex(M),q=Math.min(M.length()-1,F.index+F.length-U),$=x.quill.getBounds(new w.Range(U,q));x.position($)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return d(R,S),y(R,[{key:"listen",value:function(){var I=this;g(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var P=I.quill.getSelection();P!=null&&I.position(I.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var P=g(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,I),x=this.root.querySelector(".ql-tooltip-arrow");if(x.style.marginLeft="",P===0)return P;x.style.marginLeft=-1*P-x.offsetWidth/2+"px"}}]),R}(b.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=A,a.default=k},function(s,a,u){s.exports=u(63)}]).default})}).call(r,i(43).Buffer)},function(n,r,i){var o=i(11),s=i(1),a=o(s,"Map");n.exports=a},function(n,r,i){var o=i(1),s=o.Symbol;n.exports=s},function(n,r){function i(o,s,a){switch(a.length){case 0:return o.call(s);case 1:return o.call(s,a[0]);case 2:return o.call(s,a[0],a[1]);case 3:return o.call(s,a[0],a[1],a[2])}return o.apply(s,a)}n.exports=i},function(n,r,i){function o(u,l,f){(f===void 0||a(u[l],f))&&(f!==void 0||l in u)||s(u,l,f)}var s=i(10),a=i(8);n.exports=o},function(n,r,i){function o(g,y,m,_,p){g!==y&&u(y,function(h,b){if(f(h))p||(p=new s),l(g,y,b,m,o,_,p);else{var v=_?_(d(g,b),h,b+"",g,y,p):void 0;v===void 0&&(v=h),a(g,b,v)}},c)}var s=i(48),a=i(19),u=i(53),l=i(58),f=i(0),c=i(34),d=i(27);n.exports=o},function(n,r,i){function o(l,f){return u(a(l,f,s),l+"")}var s=i(28),a=i(96),u=i(97);n.exports=o},function(n,r,i){var o=i(11),s=function(){try{var a=o(Object,"defineProperty");return a({},"",{}),a}catch{}}();n.exports=s},function(n,r,i){(function(o){var s=typeof o=="object"&&o&&o.Object===Object&&o;n.exports=s}).call(r,i(35))},function(n,r,i){var o=i(95),s=o(Object.getPrototypeOf,Object);n.exports=s},function(n,r){function i(a,u){var l=typeof a;return!!(u=u==null?o:u)&&(l=="number"||l!="symbol"&&s.test(a))&&a>-1&&a%1==0&&a<u}var o=9007199254740991,s=/^(?:0|[1-9]\d*)$/;n.exports=i},function(n,r){function i(s){var a=s&&s.constructor;return s===(typeof a=="function"&&a.prototype||o)}var o=Object.prototype;n.exports=i},function(n,r){function i(o,s){return s=="__proto__"?void 0:o[s]}n.exports=i},function(n,r){function i(o){return o}n.exports=i},function(n,r,i){var o=i(54),s=i(2),a=Object.prototype,u=a.hasOwnProperty,l=a.propertyIsEnumerable,f=o(function(){return arguments}())?o:function(c){return s(c)&&u.call(c,"callee")&&!l.call(c,"callee")};n.exports=f},function(n,r){var i=Array.isArray;n.exports=i},function(n,r,i){(function(o){var s=i(1),a=i(109),u=typeof r=="object"&&r&&!r.nodeType&&r,l=u&&typeof o=="object"&&o&&!o.nodeType&&o,f=l&&l.exports===u,c=f?s.Buffer:void 0,d=c?c.isBuffer:void 0,g=d||a;o.exports=g}).call(r,i(14)(n))},function(n,r){function i(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=o}var o=9007199254740991;n.exports=i},function(n,r,i){var o=i(56),s=i(61),a=i(93),u=a&&a.isTypedArray,l=u?s(u):o;n.exports=l},function(n,r,i){function o(l){return u(l)?s(l,!0):a(l)}var s=i(50),a=i(57),u=i(12);n.exports=o},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}}},function(n,r,i){function o(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function s(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?f:c}function a(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}i.d(r,"a",function(){return l});var u=i(9),l=function(f){function c(){var d,g,y,m;o(this,c);for(var _=arguments.length,p=Array(_),h=0;h<_;h++)p[h]=arguments[h];return g=y=s(this,(d=c.__proto__||Object.getPrototypeOf(c)).call.apply(d,[this].concat(p))),y.onCreate=function(){y.display=document.createElement("div"),Object.assign(y.display.style,y.options.displayStyles),y.overlay.appendChild(y.display)},y.onDestroy=function(){},y.onUpdate=function(){if(y.display&&y.img){var b=y.getCurrentSize();if(y.display.innerHTML=b.join(" &times; "),b[0]>120&&b[1]>30)Object.assign(y.display.style,{right:"4px",bottom:"4px",left:"auto"});else if(y.img.style.float=="right"){var v=y.display.getBoundingClientRect();Object.assign(y.display.style,{right:"auto",bottom:"-"+(v.height+4)+"px",left:"-"+(v.width+4)+"px"})}else{var w=y.display.getBoundingClientRect();Object.assign(y.display.style,{right:"-"+(w.width+4)+"px",bottom:"-"+(w.height+4)+"px",left:"auto"})}}},y.getCurrentSize=function(){return[y.img.width,Math.round(y.img.width/y.img.naturalWidth*y.img.naturalHeight)]},m=g,s(y,m)}return a(c,f),c}(u.a)},function(n,r,i){function o(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function s(f,c){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?f:c}function a(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(f,c):f.__proto__=c)}i.d(r,"a",function(){return l});var u=i(9),l=function(f){function c(){var d,g,y,m;o(this,c);for(var _=arguments.length,p=Array(_),h=0;h<_;h++)p[h]=arguments[h];return g=y=s(this,(d=c.__proto__||Object.getPrototypeOf(c)).call.apply(d,[this].concat(p))),y.onCreate=function(){y.boxes=[],y.addBox("nwse-resize"),y.addBox("nesw-resize"),y.addBox("nwse-resize"),y.addBox("nesw-resize"),y.positionBoxes()},y.onDestroy=function(){y.setCursor("")},y.positionBoxes=function(){var b=-parseFloat(y.options.handleStyles.width)/2+"px",v=-parseFloat(y.options.handleStyles.height)/2+"px";[{left:b,top:v},{right:b,top:v},{right:b,bottom:v},{left:b,bottom:v}].forEach(function(w,O){Object.assign(y.boxes[O].style,w)})},y.addBox=function(b){var v=document.createElement("div");Object.assign(v.style,y.options.handleStyles),v.style.cursor=b,v.style.width=y.options.handleStyles.width+"px",v.style.height=y.options.handleStyles.height+"px",v.addEventListener("mousedown",y.handleMousedown,!1),y.overlay.appendChild(v),y.boxes.push(v)},y.handleMousedown=function(b){y.dragBox=b.target,y.dragStartX=b.clientX,y.preDragWidth=y.img.width||y.img.naturalWidth,y.setCursor(y.dragBox.style.cursor),document.addEventListener("mousemove",y.handleDrag,!1),document.addEventListener("mouseup",y.handleMouseup,!1)},y.handleMouseup=function(){y.setCursor(""),document.removeEventListener("mousemove",y.handleDrag),document.removeEventListener("mouseup",y.handleMouseup)},y.handleDrag=function(b){if(y.img){var v=b.clientX-y.dragStartX;y.dragBox===y.boxes[0]||y.dragBox===y.boxes[3]?y.img.width=Math.round(y.preDragWidth-v):y.img.width=Math.round(y.preDragWidth+v),y.requestUpdate()}},y.setCursor=function(b){[document.body,y.img].forEach(function(v){v.style.cursor=b})},m=g,s(y,m)}return a(c,f),c}(u.a)},function(n,r,i){function o(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function s(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?T:E}function a(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}i.d(r,"a",function(){return O});var u=i(15),l=i.n(u),f=i(112),c=i.n(f),d=i(111),g=i.n(d),y=i(113),m=i.n(y),_=i(9),p=l.a.imports.parchment,h=new p.Attributor.Style("float","float"),b=new p.Attributor.Style("margin","margin"),v=new p.Attributor.Style("display","display"),w=new p.Attributor.Attribute("nameClass","class",{scope:p.Scope.INLINE});l.a.register(w);var O=function(T){function E(){var k,A,S,R;o(this,E);for(var I=arguments.length,P=Array(I),x=0;x<I;x++)P[x]=arguments[x];return A=S=s(this,(k=E.__proto__||Object.getPrototypeOf(E)).call.apply(k,[this].concat(P))),S.onCreate=function(){S.toolbar=document.createElement("div"),Object.assign(S.toolbar.style,S.options.toolbarStyles),S.overlay.appendChild(S.toolbar),S._defineAlignments(),S._addToolbarButtons()},S.onDestroy=function(){},S.onUpdate=function(){},S._defineAlignments=function(){S.alignments=[{icon:c.a,apply:function(){v.add(S.img,"inline"),h.add(S.img,"left"),b.add(S.img,"0 1em 1em 0"),S.img.align="left"},isApplied:function(){return h.value(S.img)=="left"}},{icon:g.a,apply:function(){v.add(S.img,"block"),h.remove(S.img),b.add(S.img,"auto"),S.img.align="center"},isApplied:function(){return b.value(S.img)=="auto"}},{icon:m.a,apply:function(){v.add(S.img,"inline"),h.add(S.img,"right"),b.add(S.img,"0 0 1em 1em"),S.img.align="right"},isApplied:function(){return h.value(S.img)=="right"}}]},S._addToolbarButtons=function(){var D=[];S.alignments.forEach(function(F,G){var H=document.createElement("span");D.push(H),H.innerHTML=F.icon,H.addEventListener("click",function(){D.forEach(function(W){return W.style.filter=""}),F.isApplied()?(h.remove(S.img),b.remove(S.img),v.remove(S.img)):(S._selectButton(H),F.apply()),S.requestUpdate()}),Object.assign(H.style,S.options.toolbarButtonStyles),G>0&&(H.style.borderLeftWidth="0"),Object.assign(H.children[0].style,S.options.toolbarButtonSvgStyles),F.isApplied()&&S._selectButton(H),S.toolbar.appendChild(H)})},S._selectButton=function(D){D.style.filter="invert(20%)"},R=A,s(S,R)}return a(E,T),E}(_.a)},function(n,r,i){var o=i(18),s=i(21),a=i(70),u=i(108),l=s(function(f){return f.push(void 0,a),o(u,void 0,f)});n.exports=l},function(n,r,i){function o(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?T:E}function s(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}function a(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=i(15),l=i.n(u),f=i(40),c=i.n(f),d=i(36),g=i(37),y=i(39),m=i(38),_=function(){function T(E,k){for(var A=0;A<k.length;A++){var S=k[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,k,A){return k&&T(E.prototype,k),A&&T(E,A),E}}(),p=function T(E,k,A){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,k);if(S===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:T(R,k,A)}if("value"in S)return S.value;var I=S.get;if(I!==void 0)return I.call(A)},h={DisplaySize:g.a,Toolbar:y.a,Resize:m.a},b=function T(E){var k=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,T),this.initializeModules=function(){k.removeModules(),k.modules=k.moduleClasses.map(function(R){return new(h[R]||R)(k)}),k.modules.forEach(function(R){R.onCreate()}),k.onUpdate()},this.onUpdate=function(){k.repositionElements(),k.modules.forEach(function(R){R.onUpdate()})},this.removeModules=function(){k.modules.forEach(function(R){R.onDestroy()}),k.modules=[]},this.handleClick=function(R){if(R.target&&R.target.tagName&&R.target.tagName.toUpperCase()==="IMG"){if(k.img===R.target)return;k.img&&k.hide(),k.show(R.target),R.preventDefault()}else k.img&&k.hide()},this.handleScroll=function(R){k.hide()},this.show=function(R){k.img=R,k.showOverlay(),k.initializeModules()},this.showOverlay=function(){k.overlay&&k.hideOverlay(),k.quill.setSelection(null),k.setUserSelect("none"),document.addEventListener("keyup",k.checkImage,!0),k.quill.root.addEventListener("input",k.checkImage,!0),k.overlay=document.createElement("div"),Object.assign(k.overlay.style,k.options.overlayStyles),k.quill.root.parentNode.appendChild(k.overlay),k.repositionElements()},this.hideOverlay=function(){k.overlay&&(k.quill.root.parentNode.removeChild(k.overlay),k.overlay=void 0,document.removeEventListener("keyup",k.checkImage),k.quill.root.removeEventListener("input",k.checkImage),k.setUserSelect(""))},this.repositionElements=function(){if(k.overlay&&k.img){var R=k.quill.root.parentNode,I=k.img.getBoundingClientRect(),P=R.getBoundingClientRect();Object.assign(k.overlay.style,{left:I.left-P.left-1+R.scrollLeft+"px",top:I.top-P.top+R.scrollTop+"px",width:I.width+"px",height:I.height+"px"})}},this.hide=function(){k.hideOverlay(),k.removeModules(),k.img=void 0},this.setUserSelect=function(R){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(I){k.quill.root.style[I]=R,document.documentElement.style[I]=R})},this.checkImage=function(R){k.img&&(R.keyCode!=46&&R.keyCode!=8||(window.Quill||l.a).find(k.img).deleteAt(0),k.hide())},this.quill=E;var S=!1;A.modules&&(S=A.modules.slice()),this.options=c()({},A,d.a),S!==!1&&(this.options.modules=S),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.addEventListener("mscontrolselect",this.handleClick,!1),this.quill.root.addEventListener("scroll",this.handleScroll,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]};if(r.default=b,window.Quill){var v=["alt","height","width","style"],w=window.Quill.import("formats/image"),O=function(T){function E(){return a(this,E),o(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,T),_(E,[{key:"format",value:function(k,A){v.indexOf(k)>-1?A?this.domNode.setAttribute(k,A):this.domNode.removeAttribute(k):p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,k,A)}}],[{key:"formats",value:function(k){return v.reduce(function(A,S){return k.hasAttribute(S)&&(A[S]=k.getAttribute(S)),A},{})}}]),E}(w);window.Quill.register(O,!0),typeof Object.assign!="function"&&(Object.assign=function(T){if(T==null)throw new TypeError("Cannot convert undefined or null to object");T=Object(T);for(var E=1;E<arguments.length;E++){var k=arguments[E];if(k!=null)for(var A in k)Object.prototype.hasOwnProperty.call(k,A)&&(T[A]=k[A])}return T}),window.Quill.register("modules/imageResize",b)}},function(n,r,i){function o(h){var b=h.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");return v===-1&&(v=b),[v,v===b?0:4-v%4]}function s(h){var b=o(h),v=b[0],w=b[1];return 3*(v+w)/4-w}function a(h,b,v){return 3*(b+v)/4-v}function u(h){for(var b,v=o(h),w=v[0],O=v[1],T=new y(a(h,w,O)),E=0,k=O>0?w-4:w,A=0;A<k;A+=4)b=g[h.charCodeAt(A)]<<18|g[h.charCodeAt(A+1)]<<12|g[h.charCodeAt(A+2)]<<6|g[h.charCodeAt(A+3)],T[E++]=b>>16&255,T[E++]=b>>8&255,T[E++]=255&b;return O===2&&(b=g[h.charCodeAt(A)]<<2|g[h.charCodeAt(A+1)]>>4,T[E++]=255&b),O===1&&(b=g[h.charCodeAt(A)]<<10|g[h.charCodeAt(A+1)]<<4|g[h.charCodeAt(A+2)]>>2,T[E++]=b>>8&255,T[E++]=255&b),T}function l(h){return d[h>>18&63]+d[h>>12&63]+d[h>>6&63]+d[63&h]}function f(h,b,v){for(var w,O=[],T=b;T<v;T+=3)w=(h[T]<<16&16711680)+(h[T+1]<<8&65280)+(255&h[T+2]),O.push(l(w));return O.join("")}function c(h){for(var b,v=h.length,w=v%3,O=[],T=0,E=v-w;T<E;T+=16383)O.push(f(h,T,T+16383>E?E:T+16383));return w===1?(b=h[v-1],O.push(d[b>>2]+d[b<<4&63]+"==")):w===2&&(b=(h[v-2]<<8)+h[v-1],O.push(d[b>>10]+d[b>>4&63]+d[b<<2&63]+"=")),O.join("")}r.byteLength=s,r.toByteArray=u,r.fromByteArray=c;for(var d=[],g=[],y=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,p=m.length;_<p;++_)d[_]=m[_],g[m.charCodeAt(_)]=_;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63},function(n,r,i){(function(o){function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(C,L){if(s()<L)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(C=new Uint8Array(L),C.__proto__=u.prototype):(C===null&&(C=new u(L)),C.length=L),C}function u(C,L,B){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(C,L,B);if(typeof C=="number"){if(typeof L=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,C)}return l(this,C,L,B)}function l(C,L,B,Z){if(typeof L=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&L instanceof ArrayBuffer?m(C,L,B,Z):typeof L=="string"?g(C,L,B):_(C,L)}function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be a number');if(C<0)throw new RangeError('"size" argument must not be negative')}function c(C,L,B,Z){return f(L),L<=0?a(C,L):B!==void 0?typeof Z=="string"?a(C,L).fill(B,Z):a(C,L).fill(B):a(C,L)}function d(C,L){if(f(L),C=a(C,L<0?0:0|p(L)),!u.TYPED_ARRAY_SUPPORT)for(var B=0;B<L;++B)C[B]=0;return C}function g(C,L,B){if(typeof B=="string"&&B!==""||(B="utf8"),!u.isEncoding(B))throw new TypeError('"encoding" must be a valid string encoding');var Z=0|b(L,B);C=a(C,Z);var ne=C.write(L,B);return ne!==Z&&(C=C.slice(0,ne)),C}function y(C,L){var B=L.length<0?0:0|p(L.length);C=a(C,B);for(var Z=0;Z<B;Z+=1)C[Z]=255&L[Z];return C}function m(C,L,B,Z){if(L.byteLength,B<0||L.byteLength<B)throw new RangeError("'offset' is out of bounds");if(L.byteLength<B+(Z||0))throw new RangeError("'length' is out of bounds");return L=B===void 0&&Z===void 0?new Uint8Array(L):Z===void 0?new Uint8Array(L,B):new Uint8Array(L,B,Z),u.TYPED_ARRAY_SUPPORT?(C=L,C.__proto__=u.prototype):C=y(C,L),C}function _(C,L){if(u.isBuffer(L)){var B=0|p(L.length);return C=a(C,B),C.length===0||L.copy(C,0,0,B),C}if(L){if(typeof ArrayBuffer<"u"&&L.buffer instanceof ArrayBuffer||"length"in L)return typeof L.length!="number"||ce(L.length)?a(C,0):y(C,L);if(L.type==="Buffer"&&re(L.data))return y(C,L.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(C){if(C>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|C}function h(C){return+C!=C&&(C=0),u.alloc(+C)}function b(C,L){if(u.isBuffer(C))return C.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(C)||C instanceof ArrayBuffer))return C.byteLength;typeof C!="string"&&(C=""+C);var B=C.length;if(B===0)return 0;for(var Z=!1;;)switch(L){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":case void 0:return z(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return te(C).length;default:if(Z)return z(C).length;L=(""+L).toLowerCase(),Z=!0}}function v(C,L,B){var Z=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,L>>>=0,B<=L))return"";for(C||(C="utf8");;)switch(C){case"hex":return H(this,L,B);case"utf8":case"utf-8":return x(this,L,B);case"ascii":return F(this,L,B);case"latin1":case"binary":return G(this,L,B);case"base64":return P(this,L,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,L,B);default:if(Z)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),Z=!0}}function w(C,L,B){var Z=C[L];C[L]=C[B],C[B]=Z}function O(C,L,B,Z,ne){if(C.length===0)return-1;if(typeof B=="string"?(Z=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,isNaN(B)&&(B=ne?0:C.length-1),B<0&&(B=C.length+B),B>=C.length){if(ne)return-1;B=C.length-1}else if(B<0){if(!ne)return-1;B=0}if(typeof L=="string"&&(L=u.from(L,Z)),u.isBuffer(L))return L.length===0?-1:T(C,L,B,Z,ne);if(typeof L=="number")return L&=255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(C,L,B):Uint8Array.prototype.lastIndexOf.call(C,L,B):T(C,[L],B,Z,ne);throw new TypeError("val must be string, number or Buffer")}function T(C,L,B,Z,ne){function ae(Ti,xd){return pe===1?Ti[xd]:Ti.readUInt16BE(xd*pe)}var pe=1,Ie=C.length,Re=L.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(C.length<2||L.length<2)return-1;pe=2,Ie/=2,Re/=2,B/=2}var Ae;if(ne){var Ce=-1;for(Ae=B;Ae<Ie;Ae++)if(ae(C,Ae)===ae(L,Ce===-1?0:Ae-Ce)){if(Ce===-1&&(Ce=Ae),Ae-Ce+1===Re)return Ce*pe}else Ce!==-1&&(Ae-=Ae-Ce),Ce=-1}else for(B+Re>Ie&&(B=Ie-Re),Ae=B;Ae>=0;Ae--){for(var Je=!0,so=0;so<Re;so++)if(ae(C,Ae+so)!==ae(L,so)){Je=!1;break}if(Je)return Ae}return-1}function E(C,L,B,Z){B=Number(B)||0;var ne=C.length-B;Z?(Z=Number(Z))>ne&&(Z=ne):Z=ne;var ae=L.length;if(ae%2!=0)throw new TypeError("Invalid hex string");Z>ae/2&&(Z=ae/2);for(var pe=0;pe<Z;++pe){var Ie=parseInt(L.substr(2*pe,2),16);if(isNaN(Ie))return pe;C[B+pe]=Ie}return pe}function k(C,L,B,Z){return oe(z(L,C.length-B),C,B,Z)}function A(C,L,B,Z){return oe(Q(L),C,B,Z)}function S(C,L,B,Z){return A(C,L,B,Z)}function R(C,L,B,Z){return oe(te(L),C,B,Z)}function I(C,L,B,Z){return oe(ee(L,C.length-B),C,B,Z)}function P(C,L,B){return L===0&&B===C.length?ie.fromByteArray(C):ie.fromByteArray(C.slice(L,B))}function x(C,L,B){B=Math.min(C.length,B);for(var Z=[],ne=L;ne<B;){var ae=C[ne],pe=null,Ie=ae>239?4:ae>223?3:ae>191?2:1;if(ne+Ie<=B){var Re,Ae,Ce,Je;switch(Ie){case 1:ae<128&&(pe=ae);break;case 2:Re=C[ne+1],(192&Re)==128&&(Je=(31&ae)<<6|63&Re)>127&&(pe=Je);break;case 3:Re=C[ne+1],Ae=C[ne+2],(192&Re)==128&&(192&Ae)==128&&(Je=(15&ae)<<12|(63&Re)<<6|63&Ae)>2047&&(Je<55296||Je>57343)&&(pe=Je);break;case 4:Re=C[ne+1],Ae=C[ne+2],Ce=C[ne+3],(192&Re)==128&&(192&Ae)==128&&(192&Ce)==128&&(Je=(15&ae)<<18|(63&Re)<<12|(63&Ae)<<6|63&Ce)>65535&&Je<1114112&&(pe=Je)}}pe===null?(pe=65533,Ie=1):pe>65535&&(pe-=65536,Z.push(pe>>>10&1023|55296),pe=56320|1023&pe),Z.push(pe),ne+=Ie}return D(Z)}function D(C){var L=C.length;if(L<=ue)return String.fromCharCode.apply(String,C);for(var B="",Z=0;Z<L;)B+=String.fromCharCode.apply(String,C.slice(Z,Z+=ue));return B}function F(C,L,B){var Z="";B=Math.min(C.length,B);for(var ne=L;ne<B;++ne)Z+=String.fromCharCode(127&C[ne]);return Z}function G(C,L,B){var Z="";B=Math.min(C.length,B);for(var ne=L;ne<B;++ne)Z+=String.fromCharCode(C[ne]);return Z}function H(C,L,B){var Z=C.length;(!L||L<0)&&(L=0),(!B||B<0||B>Z)&&(B=Z);for(var ne="",ae=L;ae<B;++ae)ne+=Y(C[ae]);return ne}function W(C,L,B){for(var Z=C.slice(L,B),ne="",ae=0;ae<Z.length;ae+=2)ne+=String.fromCharCode(Z[ae]+256*Z[ae+1]);return ne}function M(C,L,B){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+L>B)throw new RangeError("Trying to access beyond buffer length")}function U(C,L,B,Z,ne,ae){if(!u.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ne||L<ae)throw new RangeError('"value" argument is out of bounds');if(B+Z>C.length)throw new RangeError("Index out of range")}function q(C,L,B,Z){L<0&&(L=65535+L+1);for(var ne=0,ae=Math.min(C.length-B,2);ne<ae;++ne)C[B+ne]=(L&255<<8*(Z?ne:1-ne))>>>8*(Z?ne:1-ne)}function $(C,L,B,Z){L<0&&(L=4294967295+L+1);for(var ne=0,ae=Math.min(C.length-B,4);ne<ae;++ne)C[B+ne]=L>>>8*(Z?ne:3-ne)&255}function j(C,L,B,Z,ne,ae){if(B+Z>C.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function N(C,L,B,Z,ne){return ne||j(C,L,B,4),J.write(C,L,B,Z,23,4),B+4}function V(C,L,B,Z,ne){return ne||j(C,L,B,8),J.write(C,L,B,Z,52,8),B+8}function K(C){if(C=X(C).replace(he,""),C.length<2)return"";for(;C.length%4!=0;)C+="=";return C}function X(C){return C.trim?C.trim():C.replace(/^\s+|\s+$/g,"")}function Y(C){return C<16?"0"+C.toString(16):C.toString(16)}function z(C,L){L=L||1/0;for(var B,Z=C.length,ne=null,ae=[],pe=0;pe<Z;++pe){if((B=C.charCodeAt(pe))>55295&&B<57344){if(!ne){if(B>56319){(L-=3)>-1&&ae.push(239,191,189);continue}if(pe+1===Z){(L-=3)>-1&&ae.push(239,191,189);continue}ne=B;continue}if(B<56320){(L-=3)>-1&&ae.push(239,191,189),ne=B;continue}B=65536+(ne-55296<<10|B-56320)}else ne&&(L-=3)>-1&&ae.push(239,191,189);if(ne=null,B<128){if((L-=1)<0)break;ae.push(B)}else if(B<2048){if((L-=2)<0)break;ae.push(B>>6|192,63&B|128)}else if(B<65536){if((L-=3)<0)break;ae.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;ae.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return ae}function Q(C){for(var L=[],B=0;B<C.length;++B)L.push(255&C.charCodeAt(B));return L}function ee(C,L){for(var B,Z,ne,ae=[],pe=0;pe<C.length&&!((L-=2)<0);++pe)B=C.charCodeAt(pe),Z=B>>8,ne=B%256,ae.push(ne),ae.push(Z);return ae}function te(C){return ie.toByteArray(K(C))}function oe(C,L,B,Z){for(var ne=0;ne<Z&&!(ne+B>=L.length||ne>=C.length);++ne)L[ne+B]=C[ne];return ne}function ce(C){return C!==C}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var ie=i(42),J=i(44),re=i(45);r.Buffer=u,r.SlowBuffer=h,r.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:function(){try{var C=new Uint8Array(1);return C.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},C.foo()===42&&typeof C.subarray=="function"&&C.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=s(),u.poolSize=8192,u._augment=function(C){return C.__proto__=u.prototype,C},u.from=function(C,L,B){return l(null,C,L,B)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(C,L,B){return c(null,C,L,B)},u.allocUnsafe=function(C){return d(null,C)},u.allocUnsafeSlow=function(C){return d(null,C)},u.isBuffer=function(C){return!(C==null||!C._isBuffer)},u.compare=function(C,L){if(!u.isBuffer(C)||!u.isBuffer(L))throw new TypeError("Arguments must be Buffers");if(C===L)return 0;for(var B=C.length,Z=L.length,ne=0,ae=Math.min(B,Z);ne<ae;++ne)if(C[ne]!==L[ne]){B=C[ne],Z=L[ne];break}return B<Z?-1:Z<B?1:0},u.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(C,L){if(!re(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return u.alloc(0);var B;if(L===void 0)for(L=0,B=0;B<C.length;++B)L+=C[B].length;var Z=u.allocUnsafe(L),ne=0;for(B=0;B<C.length;++B){var ae=C[B];if(!u.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(Z,ne),ne+=ae.length}return Z},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<C;L+=2)w(this,L,L+1);return this},u.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<C;L+=4)w(this,L,L+3),w(this,L+1,L+2);return this},u.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<C;L+=8)w(this,L,L+7),w(this,L+1,L+6),w(this,L+2,L+5),w(this,L+3,L+4);return this},u.prototype.toString=function(){var C=0|this.length;return C===0?"":arguments.length===0?x(this,0,C):v.apply(this,arguments)},u.prototype.equals=function(C){if(!u.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||u.compare(this,C)===0},u.prototype.inspect=function(){var C="",L=r.INSPECT_MAX_BYTES;return this.length>0&&(C=this.toString("hex",0,L).match(/.{2}/g).join(" "),this.length>L&&(C+=" ... ")),"<Buffer "+C+">"},u.prototype.compare=function(C,L,B,Z,ne){if(!u.isBuffer(C))throw new TypeError("Argument must be a Buffer");if(L===void 0&&(L=0),B===void 0&&(B=C?C.length:0),Z===void 0&&(Z=0),ne===void 0&&(ne=this.length),L<0||B>C.length||Z<0||ne>this.length)throw new RangeError("out of range index");if(Z>=ne&&L>=B)return 0;if(Z>=ne)return-1;if(L>=B)return 1;if(L>>>=0,B>>>=0,Z>>>=0,ne>>>=0,this===C)return 0;for(var ae=ne-Z,pe=B-L,Ie=Math.min(ae,pe),Re=this.slice(Z,ne),Ae=C.slice(L,B),Ce=0;Ce<Ie;++Ce)if(Re[Ce]!==Ae[Ce]){ae=Re[Ce],pe=Ae[Ce];break}return ae<pe?-1:pe<ae?1:0},u.prototype.includes=function(C,L,B){return this.indexOf(C,L,B)!==-1},u.prototype.indexOf=function(C,L,B){return O(this,C,L,B,!0)},u.prototype.lastIndexOf=function(C,L,B){return O(this,C,L,B,!1)},u.prototype.write=function(C,L,B,Z){if(L===void 0)Z="utf8",B=this.length,L=0;else if(B===void 0&&typeof L=="string")Z=L,B=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L|=0,isFinite(B)?(B|=0,Z===void 0&&(Z="utf8")):(Z=B,B=void 0)}var ne=this.length-L;if((B===void 0||B>ne)&&(B=ne),C.length>0&&(B<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ae=!1;;)switch(Z){case"hex":return E(this,C,L,B);case"utf8":case"utf-8":return k(this,C,L,B);case"ascii":return A(this,C,L,B);case"latin1":case"binary":return S(this,C,L,B);case"base64":return R(this,C,L,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,C,L,B);default:if(ae)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ae=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ue=4096;u.prototype.slice=function(C,L){var B=this.length;C=~~C,L=L===void 0?B:~~L,C<0?(C+=B)<0&&(C=0):C>B&&(C=B),L<0?(L+=B)<0&&(L=0):L>B&&(L=B),L<C&&(L=C);var Z;if(u.TYPED_ARRAY_SUPPORT)Z=this.subarray(C,L),Z.__proto__=u.prototype;else{var ne=L-C;Z=new u(ne,void 0);for(var ae=0;ae<ne;++ae)Z[ae]=this[ae+C]}return Z},u.prototype.readUIntLE=function(C,L,B){C|=0,L|=0,B||M(C,L,this.length);for(var Z=this[C],ne=1,ae=0;++ae<L&&(ne*=256);)Z+=this[C+ae]*ne;return Z},u.prototype.readUIntBE=function(C,L,B){C|=0,L|=0,B||M(C,L,this.length);for(var Z=this[C+--L],ne=1;L>0&&(ne*=256);)Z+=this[C+--L]*ne;return Z},u.prototype.readUInt8=function(C,L){return L||M(C,1,this.length),this[C]},u.prototype.readUInt16LE=function(C,L){return L||M(C,2,this.length),this[C]|this[C+1]<<8},u.prototype.readUInt16BE=function(C,L){return L||M(C,2,this.length),this[C]<<8|this[C+1]},u.prototype.readUInt32LE=function(C,L){return L||M(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},u.prototype.readUInt32BE=function(C,L){return L||M(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},u.prototype.readIntLE=function(C,L,B){C|=0,L|=0,B||M(C,L,this.length);for(var Z=this[C],ne=1,ae=0;++ae<L&&(ne*=256);)Z+=this[C+ae]*ne;return ne*=128,Z>=ne&&(Z-=Math.pow(2,8*L)),Z},u.prototype.readIntBE=function(C,L,B){C|=0,L|=0,B||M(C,L,this.length);for(var Z=L,ne=1,ae=this[C+--Z];Z>0&&(ne*=256);)ae+=this[C+--Z]*ne;return ne*=128,ae>=ne&&(ae-=Math.pow(2,8*L)),ae},u.prototype.readInt8=function(C,L){return L||M(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},u.prototype.readInt16LE=function(C,L){L||M(C,2,this.length);var B=this[C]|this[C+1]<<8;return 32768&B?4294901760|B:B},u.prototype.readInt16BE=function(C,L){L||M(C,2,this.length);var B=this[C+1]|this[C]<<8;return 32768&B?4294901760|B:B},u.prototype.readInt32LE=function(C,L){return L||M(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},u.prototype.readInt32BE=function(C,L){return L||M(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},u.prototype.readFloatLE=function(C,L){return L||M(C,4,this.length),J.read(this,C,!0,23,4)},u.prototype.readFloatBE=function(C,L){return L||M(C,4,this.length),J.read(this,C,!1,23,4)},u.prototype.readDoubleLE=function(C,L){return L||M(C,8,this.length),J.read(this,C,!0,52,8)},u.prototype.readDoubleBE=function(C,L){return L||M(C,8,this.length),J.read(this,C,!1,52,8)},u.prototype.writeUIntLE=function(C,L,B,Z){C=+C,L|=0,B|=0,!Z&&U(this,C,L,B,Math.pow(2,8*B)-1,0);var ne=1,ae=0;for(this[L]=255&C;++ae<B&&(ne*=256);)this[L+ae]=C/ne&255;return L+B},u.prototype.writeUIntBE=function(C,L,B,Z){C=+C,L|=0,B|=0,!Z&&U(this,C,L,B,Math.pow(2,8*B)-1,0);var ne=B-1,ae=1;for(this[L+ne]=255&C;--ne>=0&&(ae*=256);)this[L+ne]=C/ae&255;return L+B},u.prototype.writeUInt8=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,1,255,0),u.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),this[L]=255&C,L+1},u.prototype.writeUInt16LE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[L]=255&C,this[L+1]=C>>>8):q(this,C,L,!0),L+2},u.prototype.writeUInt16BE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[L]=C>>>8,this[L+1]=255&C):q(this,C,L,!1),L+2},u.prototype.writeUInt32LE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=255&C):$(this,C,L,!0),L+4},u.prototype.writeUInt32BE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C):$(this,C,L,!1),L+4},u.prototype.writeIntLE=function(C,L,B,Z){if(C=+C,L|=0,!Z){var ne=Math.pow(2,8*B-1);U(this,C,L,B,ne-1,-ne)}var ae=0,pe=1,Ie=0;for(this[L]=255&C;++ae<B&&(pe*=256);)C<0&&Ie===0&&this[L+ae-1]!==0&&(Ie=1),this[L+ae]=(C/pe>>0)-Ie&255;return L+B},u.prototype.writeIntBE=function(C,L,B,Z){if(C=+C,L|=0,!Z){var ne=Math.pow(2,8*B-1);U(this,C,L,B,ne-1,-ne)}var ae=B-1,pe=1,Ie=0;for(this[L+ae]=255&C;--ae>=0&&(pe*=256);)C<0&&Ie===0&&this[L+ae+1]!==0&&(Ie=1),this[L+ae]=(C/pe>>0)-Ie&255;return L+B},u.prototype.writeInt8=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,1,127,-128),u.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),C<0&&(C=255+C+1),this[L]=255&C,L+1},u.prototype.writeInt16LE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[L]=255&C,this[L+1]=C>>>8):q(this,C,L,!0),L+2},u.prototype.writeInt16BE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[L]=C>>>8,this[L+1]=255&C):q(this,C,L,!1),L+2},u.prototype.writeInt32LE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[L]=255&C,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24):$(this,C,L,!0),L+4},u.prototype.writeInt32BE=function(C,L,B){return C=+C,L|=0,B||U(this,C,L,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),u.TYPED_ARRAY_SUPPORT?(this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C):$(this,C,L,!1),L+4},u.prototype.writeFloatLE=function(C,L,B){return N(this,C,L,!0,B)},u.prototype.writeFloatBE=function(C,L,B){return N(this,C,L,!1,B)},u.prototype.writeDoubleLE=function(C,L,B){return V(this,C,L,!0,B)},u.prototype.writeDoubleBE=function(C,L,B){return V(this,C,L,!1,B)},u.prototype.copy=function(C,L,B,Z){if(B||(B=0),Z||Z===0||(Z=this.length),L>=C.length&&(L=C.length),L||(L=0),Z>0&&Z<B&&(Z=B),Z===B||C.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),C.length-L<Z-B&&(Z=C.length-L+B);var ne,ae=Z-B;if(this===C&&B<L&&L<Z)for(ne=ae-1;ne>=0;--ne)C[ne+L]=this[ne+B];else if(ae<1e3||!u.TYPED_ARRAY_SUPPORT)for(ne=0;ne<ae;++ne)C[ne+L]=this[ne+B];else Uint8Array.prototype.set.call(C,this.subarray(B,B+ae),L);return ae},u.prototype.fill=function(C,L,B,Z){if(typeof C=="string"){if(typeof L=="string"?(Z=L,L=0,B=this.length):typeof B=="string"&&(Z=B,B=this.length),C.length===1){var ne=C.charCodeAt(0);ne<256&&(C=ne)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!u.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof C=="number"&&(C&=255);if(L<0||this.length<L||this.length<B)throw new RangeError("Out of range index");if(B<=L)return this;L>>>=0,B=B===void 0?this.length:B>>>0,C||(C=0);var ae;if(typeof C=="number")for(ae=L;ae<B;++ae)this[ae]=C;else{var pe=u.isBuffer(C)?C:z(new u(C,Z).toString()),Ie=pe.length;for(ae=0;ae<B-L;++ae)this[ae+L]=pe[ae%Ie]}return this};var he=/[^+\/0-9A-Za-z-_]/g}).call(r,i(35))},function(n,r){r.read=function(i,o,s,a,u){var l,f,c=8*u-a-1,d=(1<<c)-1,g=d>>1,y=-7,m=s?u-1:0,_=s?-1:1,p=i[o+m];for(m+=_,l=p&(1<<-y)-1,p>>=-y,y+=c;y>0;l=256*l+i[o+m],m+=_,y-=8);for(f=l&(1<<-y)-1,l>>=-y,y+=a;y>0;f=256*f+i[o+m],m+=_,y-=8);if(l===0)l=1-g;else{if(l===d)return f?NaN:1/0*(p?-1:1);f+=Math.pow(2,a),l-=g}return(p?-1:1)*f*Math.pow(2,l-a)},r.write=function(i,o,s,a,u,l){var f,c,d,g=8*l-u-1,y=(1<<g)-1,m=y>>1,_=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:l-1,h=a?1:-1,b=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(c=isNaN(o)?1:0,f=y):(f=Math.floor(Math.log(o)/Math.LN2),o*(d=Math.pow(2,-f))<1&&(f--,d*=2),o+=f+m>=1?_/d:_*Math.pow(2,1-m),o*d>=2&&(f++,d/=2),f+m>=y?(c=0,f=y):f+m>=1?(c=(o*d-1)*Math.pow(2,u),f+=m):(c=o*Math.pow(2,m-1)*Math.pow(2,u),f=0));u>=8;i[s+p]=255&c,p+=h,c/=256,u-=8);for(f=f<<u|c,g+=u;g>0;i[s+p]=255&f,p+=h,f/=256,g-=8);i[s+p-h]|=128*b}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},function(n,r,i){function o(c){var d=-1,g=c==null?0:c.length;for(this.clear();++d<g;){var y=c[d];this.set(y[0],y[1])}}var s=i(73),a=i(74),u=i(75),l=i(76),f=i(77);o.prototype.clear=s,o.prototype.delete=a,o.prototype.get=u,o.prototype.has=l,o.prototype.set=f,n.exports=o},function(n,r,i){function o(c){var d=-1,g=c==null?0:c.length;for(this.clear();++d<g;){var y=c[d];this.set(y[0],y[1])}}var s=i(87),a=i(88),u=i(89),l=i(90),f=i(91);o.prototype.clear=s,o.prototype.delete=a,o.prototype.get=u,o.prototype.has=l,o.prototype.set=f,n.exports=o},function(n,r,i){function o(d){var g=this.__data__=new s(d);this.size=g.size}var s=i(3),a=i(99),u=i(100),l=i(101),f=i(102),c=i(103);o.prototype.clear=a,o.prototype.delete=u,o.prototype.get=l,o.prototype.has=f,o.prototype.set=c,n.exports=o},function(n,r,i){var o=i(1),s=o.Uint8Array;n.exports=s},function(n,r,i){function o(y,m){var _=u(y),p=!_&&a(y),h=!_&&!p&&l(y),b=!_&&!p&&!h&&c(y),v=_||p||h||b,w=v?s(y.length,String):[],O=w.length;for(var T in y)!m&&!g.call(y,T)||v&&(T=="length"||h&&(T=="offset"||T=="parent")||b&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||f(T,O))||w.push(T);return w}var s=i(60),a=i(29),u=i(30),l=i(31),f=i(25),c=i(33),d=Object.prototype,g=d.hasOwnProperty;n.exports=o},function(n,r,i){function o(f,c,d){var g=f[c];l.call(f,c)&&a(g,d)&&(d!==void 0||c in f)||s(f,c,d)}var s=i(10),a=i(8),u=Object.prototype,l=u.hasOwnProperty;n.exports=o},function(n,r,i){var o=i(0),s=Object.create,a=function(){function u(){}return function(l){if(!o(l))return{};if(s)return s(l);u.prototype=l;var f=new u;return u.prototype=void 0,f}}();n.exports=a},function(n,r,i){var o=i(69),s=o();n.exports=s},function(n,r,i){function o(l){return a(l)&&s(l)==u}var s=i(5),a=i(2),u="[object Arguments]";n.exports=o},function(n,r,i){function o(p){return!(!u(p)||a(p))&&(s(p)?_:c).test(l(p))}var s=i(13),a=i(81),u=i(0),l=i(104),f=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,g=Object.prototype,y=d.toString,m=g.hasOwnProperty,_=RegExp("^"+y.call(m).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=o},function(n,r,i){function o(f){return u(f)&&a(f.length)&&!!l[s(f)]}var s=i(5),a=i(32),u=i(2),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,n.exports=o},function(n,r,i){function o(c){if(!s(c))return u(c);var d=a(c),g=[];for(var y in c)(y!="constructor"||!d&&f.call(c,y))&&g.push(y);return g}var s=i(0),a=i(26),u=i(92),l=Object.prototype,f=l.hasOwnProperty;n.exports=o},function(n,r,i){function o(w,O,T,E,k,A,S){var R=b(w,T),I=b(O,T),P=S.get(I);if(P)return void s(w,T,P);var x=A?A(R,I,T+"",w,O,S):void 0,D=x===void 0;if(D){var F=d(I),G=!F&&y(I),H=!F&&!G&&h(I);x=I,F||G||H?d(R)?x=R:g(R)?x=l(R):G?(D=!1,x=a(I,!0)):H?(D=!1,x=u(I,!0)):x=[]:p(I)||c(I)?(x=R,c(R)?x=v(R):(!_(R)||E&&m(R))&&(x=f(I))):D=!1}D&&(S.set(I,x),k(x,I,E,A,S),S.delete(I)),s(w,T,x)}var s=i(19),a=i(63),u=i(64),l=i(65),f=i(78),c=i(29),d=i(30),g=i(106),y=i(31),m=i(13),_=i(0),p=i(107),h=i(33),b=i(27),v=i(110);n.exports=o},function(n,r,i){var o=i(105),s=i(22),a=i(28),u=s?function(l,f){return s(l,"toString",{configurable:!0,enumerable:!1,value:o(f),writable:!0})}:a;n.exports=u},function(n,r){function i(o,s){for(var a=-1,u=Array(o);++a<o;)u[a]=s(a);return u}n.exports=i},function(n,r){function i(o){return function(s){return o(s)}}n.exports=i},function(n,r,i){function o(a){var u=new a.constructor(a.byteLength);return new s(u).set(new s(a)),u}var s=i(49);n.exports=o},function(n,r,i){(function(o){function s(g,y){if(y)return g.slice();var m=g.length,_=d?d(m):new g.constructor(m);return g.copy(_),_}var a=i(1),u=typeof r=="object"&&r&&!r.nodeType&&r,l=u&&typeof o=="object"&&o&&!o.nodeType&&o,f=l&&l.exports===u,c=f?a.Buffer:void 0,d=c?c.allocUnsafe:void 0;o.exports=s}).call(r,i(14)(n))},function(n,r,i){function o(a,u){var l=u?s(a.buffer):a.buffer;return new a.constructor(l,a.byteOffset,a.length)}var s=i(62);n.exports=o},function(n,r){function i(o,s){var a=-1,u=o.length;for(s||(s=Array(u));++a<u;)s[a]=o[a];return s}n.exports=i},function(n,r,i){function o(u,l,f,c){var d=!f;f||(f={});for(var g=-1,y=l.length;++g<y;){var m=l[g],_=c?c(f[m],u[m],m,f,u):void 0;_===void 0&&(_=u[m]),d?a(f,m,_):s(f,m,_)}return f}var s=i(51),a=i(10);n.exports=o},function(n,r,i){var o=i(1),s=o["__core-js_shared__"];n.exports=s},function(n,r,i){function o(u){return s(function(l,f){var c=-1,d=f.length,g=d>1?f[d-1]:void 0,y=d>2?f[2]:void 0;for(g=u.length>3&&typeof g=="function"?(d--,g):void 0,y&&a(f[0],f[1],y)&&(g=d<3?void 0:g,d=1),l=Object(l);++c<d;){var m=f[c];m&&u(l,m,c,g)}return l})}var s=i(21),a=i(79);n.exports=o},function(n,r){function i(o){return function(s,a,u){for(var l=-1,f=Object(s),c=u(s),d=c.length;d--;){var g=c[o?d:++l];if(a(f[g],g,f)===!1)break}return s}}n.exports=i},function(n,r,i){function o(u,l,f,c,d,g){return a(u)&&a(l)&&(g.set(l,u),s(u,l,void 0,o,g),g.delete(l)),u}var s=i(20),a=i(0);n.exports=o},function(n,r,i){function o(c){var d=u.call(c,f),g=c[f];try{c[f]=void 0;var y=!0}catch{}var m=l.call(c);return y&&(d?c[f]=g:delete c[f]),m}var s=i(17),a=Object.prototype,u=a.hasOwnProperty,l=a.toString,f=s?s.toStringTag:void 0;n.exports=o},function(n,r){function i(o,s){return o==null?void 0:o[s]}n.exports=i},function(n,r,i){function o(){this.__data__=s?s(null):{},this.size=0}var s=i(7);n.exports=o},function(n,r){function i(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}n.exports=i},function(n,r,i){function o(f){var c=this.__data__;if(s){var d=c[f];return d===a?void 0:d}return l.call(c,f)?c[f]:void 0}var s=i(7),a="__lodash_hash_undefined__",u=Object.prototype,l=u.hasOwnProperty;n.exports=o},function(n,r,i){function o(l){var f=this.__data__;return s?f[l]!==void 0:u.call(f,l)}var s=i(7),a=Object.prototype,u=a.hasOwnProperty;n.exports=o},function(n,r,i){function o(u,l){var f=this.__data__;return this.size+=this.has(u)?0:1,f[u]=s&&l===void 0?a:l,this}var s=i(7),a="__lodash_hash_undefined__";n.exports=o},function(n,r,i){function o(l){return typeof l.constructor!="function"||u(l)?{}:s(a(l))}var s=i(52),a=i(24),u=i(26);n.exports=o},function(n,r,i){function o(f,c,d){if(!l(d))return!1;var g=typeof c;return!!(g=="number"?a(d)&&u(c,d.length):g=="string"&&c in d)&&s(d[c],f)}var s=i(8),a=i(12),u=i(25),l=i(0);n.exports=o},function(n,r){function i(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}n.exports=i},function(n,r,i){function o(u){return!!a&&a in u}var s=i(67),a=function(){var u=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();n.exports=o},function(n,r){function i(){this.__data__=[],this.size=0}n.exports=i},function(n,r,i){function o(l){var f=this.__data__,c=s(f,l);return!(c<0)&&(c==f.length-1?f.pop():u.call(f,c,1),--this.size,!0)}var s=i(4),a=Array.prototype,u=a.splice;n.exports=o},function(n,r,i){function o(a){var u=this.__data__,l=s(u,a);return l<0?void 0:u[l][1]}var s=i(4);n.exports=o},function(n,r,i){function o(a){return s(this.__data__,a)>-1}var s=i(4);n.exports=o},function(n,r,i){function o(a,u){var l=this.__data__,f=s(l,a);return f<0?(++this.size,l.push([a,u])):l[f][1]=u,this}var s=i(4);n.exports=o},function(n,r,i){function o(){this.size=0,this.__data__={hash:new s,map:new(u||a),string:new s}}var s=i(46),a=i(3),u=i(16);n.exports=o},function(n,r,i){function o(a){var u=s(this,a).delete(a);return this.size-=u?1:0,u}var s=i(6);n.exports=o},function(n,r,i){function o(a){return s(this,a).get(a)}var s=i(6);n.exports=o},function(n,r,i){function o(a){return s(this,a).has(a)}var s=i(6);n.exports=o},function(n,r,i){function o(a,u){var l=s(this,a),f=l.size;return l.set(a,u),this.size+=l.size==f?0:1,this}var s=i(6);n.exports=o},function(n,r){function i(o){var s=[];if(o!=null)for(var a in Object(o))s.push(a);return s}n.exports=i},function(n,r,i){(function(o){var s=i(23),a=typeof r=="object"&&r&&!r.nodeType&&r,u=a&&typeof o=="object"&&o&&!o.nodeType&&o,l=u&&u.exports===a,f=l&&s.process,c=function(){try{var d=u&&u.require&&u.require("util").types;return d||f&&f.binding&&f.binding("util")}catch{}}();o.exports=c}).call(r,i(14)(n))},function(n,r){function i(a){return s.call(a)}var o=Object.prototype,s=o.toString;n.exports=i},function(n,r){function i(o,s){return function(a){return o(s(a))}}n.exports=i},function(n,r,i){function o(u,l,f){return l=a(l===void 0?u.length-1:l,0),function(){for(var c=arguments,d=-1,g=a(c.length-l,0),y=Array(g);++d<g;)y[d]=c[l+d];d=-1;for(var m=Array(l+1);++d<l;)m[d]=c[d];return m[l]=f(y),s(u,this,m)}}var s=i(18),a=Math.max;n.exports=o},function(n,r,i){var o=i(59),s=i(98),a=s(o);n.exports=a},function(n,r){function i(u){var l=0,f=0;return function(){var c=a(),d=s-(c-f);if(f=c,d>0){if(++l>=o)return arguments[0]}else l=0;return u.apply(void 0,arguments)}}var o=800,s=16,a=Date.now;n.exports=i},function(n,r,i){function o(){this.__data__=new s,this.size=0}var s=i(3);n.exports=o},function(n,r){function i(o){var s=this.__data__,a=s.delete(o);return this.size=s.size,a}n.exports=i},function(n,r){function i(o){return this.__data__.get(o)}n.exports=i},function(n,r){function i(o){return this.__data__.has(o)}n.exports=i},function(n,r,i){function o(f,c){var d=this.__data__;if(d instanceof s){var g=d.__data__;if(!a||g.length<l-1)return g.push([f,c]),this.size=++d.size,this;d=this.__data__=new u(g)}return d.set(f,c),this.size=d.size,this}var s=i(3),a=i(16),u=i(47),l=200;n.exports=o},function(n,r){function i(a){if(a!=null){try{return s.call(a)}catch{}try{return a+""}catch{}}return""}var o=Function.prototype,s=o.toString;n.exports=i},function(n,r){function i(o){return function(){return o}}n.exports=i},function(n,r,i){function o(u){return a(u)&&s(u)}var s=i(12),a=i(2);n.exports=o},function(n,r,i){function o(m){if(!u(m)||s(m)!=l)return!1;var _=a(m);if(_===null)return!0;var p=g.call(_,"constructor")&&_.constructor;return typeof p=="function"&&p instanceof p&&d.call(p)==y}var s=i(5),a=i(24),u=i(2),l="[object Object]",f=Function.prototype,c=Object.prototype,d=f.toString,g=c.hasOwnProperty,y=d.call(Object);n.exports=o},function(n,r,i){var o=i(20),s=i(68),a=s(function(u,l,f,c){o(u,l,f,c)});n.exports=a},function(n,r){function i(){return!1}n.exports=i},function(n,r,i){function o(u){return s(u,a(u))}var s=i(66),a=i(34);n.exports=o},function(n,r){n.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>
</svg>`},function(n,r){n.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>
</svg>`},function(n,r){n.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>
</svg>`}])})})(v2);const Hie=tR(v2.exports),Wie=$1.Quill.register("modules/ImageResize",Hie),Gie=()=>{const t=()=>null;return $e("div",{id:"toolbar",className:"w-full",children:[$e("select",{className:"ql-header toolbar-border",value:"",onChange:t,children:[fe("option",{value:"1",children:"\uBCF8\uBB38\uD06C\uAE30"}),fe("option",{value:"2",children:"\uBCF8\uBB38\uD06C\uAE302"}),fe("option",{value:"3",children:"\uBCF8\uBB38\uD06C\uAE303"}),fe("option",{value:"0",children:"\uBCF8\uBB38 \uCDE8\uC18C"})]}),$e("div",{className:"flex flex-row items-center",children:[$e("div",{className:"toolbar-border",children:[fe("button",{className:"ql-bold"}),fe("button",{className:"ql-italic"}),fe("button",{className:"ql-underline"}),fe("button",{className:"ql-strike"}),fe("button",{className:"ql-blockquote"}),fe("button",{className:"ql-code-block"})]}),$e("div",{className:"toolbar-border",children:[$e("select",{className:"ql-color",value:"",onChange:t,children:[fe("option",{value:"red"}),fe("option",{value:"green"}),fe("option",{value:"blue"}),fe("option",{value:"orange"}),fe("option",{value:"violet"}),fe("option",{value:"#d0d1d2"}),fe("option",{value:"black"})]}),fe("select",{value:"",onChange:t,className:"ql-background"})]}),$e("div",{className:"toolbar-border",children:[fe("button",{className:"ql-link"}),fe("button",{className:"ql-image"})]})]})]})};function JA(){const[t,e]=ye.exports.useState(""),[n,r]=ye.exports.useState(""),[i,o]=ye.exports.useState(""),[s,a]=ye.exports.useState(!1),{id:u}=qb(),l=ye.exports.useRef(),f=os(),c=Wt.exports.useFirestore(),d=Wt.exports.useFirebase();Wt.exports.useFirestoreConnect(["categorys","write"]);const g=er(w=>w.firestore.data.categorys),y=er(w=>w.firestore.data.write),m=ye.exports.useCallback(w=>{e(w.target.value)},[]),_=ye.exports.useCallback(w=>{r(w.target.value)},[]),p=ye.exports.useCallback(w=>{o(w)},[]),h=async w=>{w.preventDefault();const O=/<[^>]*>?/g,T=Date.now();a(!0),y[u]?await c.doc(`write/${u}`).update({time:{...y[u].time,updatedAt:Date.now(),isUpdate:!0},info:{title:t,Quilltext:i,text:i.replace(O,"")}}):(await c.collection("write").add({categoryName:n,time:{createdAt:T,updatedAt:T,isUpdate:!1},info:{title:t,Quilltext:i,text:i.replace(O,"")}}),e("")),a(!1),f("/")},b=()=>{const w=document.createElement("input");w.setAttribute("type","file"),w.setAttribute("accept","image/*"),w.click(),w.addEventListener("change",()=>{const O=w.files[0];async function T(){try{const E=await zie(O);let k="";k=await(await d.storage().ref().child(Fie()).putString(E,"data_url")).ref.getDownloadURL();const R=l.current.getEditor(),I=R.getSelection();R.insertEmbed(I.index,"image",k)}catch(E){console.log(E)}}T()})},v=ye.exports.useMemo(()=>({toolbar:{container:"#toolbar",handlers:{image:b}},ImageResize:{parchment:$1.Quill.import("parchment")}}),[]);return ye.exports.useEffect(()=>{var w;(w=l.current)==null||w.editor.root.setAttribute("spellcheck","false")},[]),ye.exports.useEffect(()=>{y&&y[u]&&(e(y[u].info.title),o(y[u].info.Quilltext))},[y,u]),fe(Dn,{children:y&&fe("div",{className:"main-padding",children:$e("form",{onSubmit:h,className:"editor-form",children:[$e("div",{className:"components-input-container",children:[fe("input",{spellCheck:"false",className:"",onChange:m,value:t||"",type:"text",placeholder:"\uC81C\uBAA9",required:!0}),!y[u]&&$e("select",{onChange:_,required:!0,children:[!n&&fe("option",{value:"",children:"\uD0DC\uADF8\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694"}),g&&Object.keys(g).filter(w=>{var O;return((O=g[w])==null?void 0:O.CheckUndefined)!==void 0}).map((w,O)=>fe("option",{children:w},O))]})]}),$e("div",{className:"mb-6 border border-2 focus-within:border-black",children:[fe(Gie,{}),fe($1,{id:"editor",className:"w-full h-auto",spellCheck:"false",theme:"snow",ref:l,modules:v,formats:Wie,value:i||"",onChange:(w,O,T,E)=>p(E.getHTML())})]}),fe("div",{className:"flex flex-row justify-center items-center",children:$e("div",{className:"flex flex-row justify-between items-center",children:[fe("button",{type:"submit",disabled:s,className:"w-[100px] border border-2 border-gray-300 py-0.5 rounded-[5px] mr-5 hover:border-gray-400",children:"Enter"}),fe("button",{type:"button",onClick:()=>{const w=localStorage.getItem("page");f(`/page/${w}`)},className:"w-[100px] border border-2 border-gray-300 py-0.5 rounded-[5px] hover:border-gray-400",children:"Close"})]})})]})})})}function Kie(t){function e(U,q,$,j,N){for(var V=0,K=0,X=0,Y=0,z,Q,ee=0,te=0,oe,ce=oe=z=0,ie=0,J=0,re=0,ue=0,he=$.length,C=he-1,L,B="",Z="",ne="",ae="",pe;ie<he;){if(Q=$.charCodeAt(ie),ie===C&&K+Y+X+V!==0&&(K!==0&&(Q=K===47?10:47),Y=X=V=0,he++,C++),K+Y+X+V===0){if(ie===C&&(0<J&&(B=B.replace(d,"")),0<B.trim().length)){switch(Q){case 32:case 9:case 59:case 13:case 10:break;default:B+=$.charAt(ie)}Q=59}switch(Q){case 123:for(B=B.trim(),z=B.charCodeAt(0),oe=1,ue=++ie;ie<he;){switch(Q=$.charCodeAt(ie)){case 123:oe++;break;case 125:oe--;break;case 47:switch(Q=$.charCodeAt(ie+1)){case 42:case 47:e:{for(ce=ie+1;ce<C;++ce)switch($.charCodeAt(ce)){case 47:if(Q===42&&$.charCodeAt(ce-1)===42&&ie+2!==ce){ie=ce+1;break e}break;case 10:if(Q===47){ie=ce+1;break e}}ie=ce}}break;case 91:Q++;case 40:Q++;case 34:case 39:for(;ie++<C&&$.charCodeAt(ie)!==Q;);}if(oe===0)break;ie++}switch(oe=$.substring(ue,ie),z===0&&(z=(B=B.replace(c,"").trim()).charCodeAt(0)),z){case 64:switch(0<J&&(B=B.replace(d,"")),Q=B.charCodeAt(1),Q){case 100:case 109:case 115:case 45:J=q;break;default:J=D}if(oe=e(q,J,oe,Q,N+1),ue=oe.length,0<G&&(J=n(D,B,re),pe=a(3,oe,J,q,I,R,ue,Q,N,j),B=J.join(""),pe!==void 0&&(ue=(oe=pe.trim()).length)===0&&(Q=0,oe="")),0<ue)switch(Q){case 115:B=B.replace(O,s);case 100:case 109:case 45:oe=B+"{"+oe+"}";break;case 107:B=B.replace(h,"$1 $2"),oe=B+"{"+oe+"}",oe=x===1||x===2&&o("@"+oe,3)?"@-webkit-"+oe+"@"+oe:"@"+oe;break;default:oe=B+oe,j===112&&(oe=(Z+=oe,""))}else oe="";break;default:oe=e(q,n(q,B,re),oe,j,N+1)}ne+=oe,oe=re=J=ce=z=0,B="",Q=$.charCodeAt(++ie);break;case 125:case 59:if(B=(0<J?B.replace(d,""):B).trim(),1<(ue=B.length))switch(ce===0&&(z=B.charCodeAt(0),z===45||96<z&&123>z)&&(ue=(B=B.replace(" ",":")).length),0<G&&(pe=a(1,B,q,U,I,R,Z.length,j,N,j))!==void 0&&(ue=(B=pe.trim()).length)===0&&(B="\0\0"),z=B.charCodeAt(0),Q=B.charCodeAt(1),z){case 0:break;case 64:if(Q===105||Q===99){ae+=B+$.charAt(ie);break}default:B.charCodeAt(ue-1)!==58&&(Z+=i(B,z,Q,B.charCodeAt(2)))}re=J=ce=z=0,B="",Q=$.charCodeAt(++ie)}}switch(Q){case 13:case 10:K===47?K=0:1+z===0&&j!==107&&0<B.length&&(J=1,B+="\0"),0<G*W&&a(0,B,q,U,I,R,Z.length,j,N,j),R=1,I++;break;case 59:case 125:if(K+Y+X+V===0){R++;break}default:switch(R++,L=$.charAt(ie),Q){case 9:case 32:if(Y+V+K===0)switch(ee){case 44:case 58:case 9:case 32:L="";break;default:Q!==32&&(L=" ")}break;case 0:L="\\0";break;case 12:L="\\f";break;case 11:L="\\v";break;case 38:Y+K+V===0&&(J=re=1,L="\f"+L);break;case 108:if(Y+K+V+P===0&&0<ce)switch(ie-ce){case 2:ee===112&&$.charCodeAt(ie-3)===58&&(P=ee);case 8:te===111&&(P=te)}break;case 58:Y+K+V===0&&(ce=ie);break;case 44:K+X+Y+V===0&&(J=1,L+="\r");break;case 34:case 39:K===0&&(Y=Y===Q?0:Y===0?Q:Y);break;case 91:Y+K+X===0&&V++;break;case 93:Y+K+X===0&&V--;break;case 41:Y+K+V===0&&X--;break;case 40:if(Y+K+V===0){if(z===0)switch(2*ee+3*te){case 533:break;default:z=1}X++}break;case 64:K+X+Y+V+ce+oe===0&&(oe=1);break;case 42:case 47:if(!(0<Y+V+X))switch(K){case 0:switch(2*Q+3*$.charCodeAt(ie+1)){case 235:K=47;break;case 220:ue=ie,K=42}break;case 42:Q===47&&ee===42&&ue+2!==ie&&($.charCodeAt(ue+2)===33&&(Z+=$.substring(ue,ie+1)),L="",K=0)}}K===0&&(B+=L)}te=ee,ee=Q,ie++}if(ue=Z.length,0<ue){if(J=q,0<G&&(pe=a(2,Z,J,U,I,R,ue,j,N,j),pe!==void 0&&(Z=pe).length===0))return ae+Z+ne;if(Z=J.join(",")+"{"+Z+"}",x*P!==0){switch(x!==2||o(Z,2)||(P=0),P){case 111:Z=Z.replace(v,":-moz-$1")+Z;break;case 112:Z=Z.replace(b,"::-webkit-input-$1")+Z.replace(b,"::-moz-$1")+Z.replace(b,":-ms-input-$1")+Z}P=0}}return ae+Z+ne}function n(U,q,$){var j=q.trim().split(_);q=j;var N=j.length,V=U.length;switch(V){case 0:case 1:var K=0;for(U=V===0?"":U[0]+" ";K<N;++K)q[K]=r(U,q[K],$).trim();break;default:var X=K=0;for(q=[];K<N;++K)for(var Y=0;Y<V;++Y)q[X++]=r(U[Y]+" ",j[K],$).trim()}return q}function r(U,q,$){var j=q.charCodeAt(0);switch(33>j&&(j=(q=q.trim()).charCodeAt(0)),j){case 38:return q.replace(p,"$1"+U.trim());case 58:return U.trim()+q.replace(p,"$1"+U.trim());default:if(0<1*$&&0<q.indexOf("\f"))return q.replace(p,(U.charCodeAt(0)===58?"":"$1")+U.trim())}return U+q}function i(U,q,$,j){var N=U+";",V=2*q+3*$+4*j;if(V===944){U=N.indexOf(":",9)+1;var K=N.substring(U,N.length-1).trim();return K=N.substring(0,U).trim()+K+";",x===1||x===2&&o(K,1)?"-webkit-"+K+K:K}if(x===0||x===2&&!o(N,1))return N;switch(V){case 1015:return N.charCodeAt(10)===97?"-webkit-"+N+N:N;case 951:return N.charCodeAt(3)===116?"-webkit-"+N+N:N;case 963:return N.charCodeAt(5)===110?"-webkit-"+N+N:N;case 1009:if(N.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+N+N;case 978:return"-webkit-"+N+"-moz-"+N+N;case 1019:case 983:return"-webkit-"+N+"-moz-"+N+"-ms-"+N+N;case 883:if(N.charCodeAt(8)===45)return"-webkit-"+N+N;if(0<N.indexOf("image-set(",11))return N.replace(S,"$1-webkit-$2")+N;break;case 932:if(N.charCodeAt(4)===45)switch(N.charCodeAt(5)){case 103:return"-webkit-box-"+N.replace("-grow","")+"-webkit-"+N+"-ms-"+N.replace("grow","positive")+N;case 115:return"-webkit-"+N+"-ms-"+N.replace("shrink","negative")+N;case 98:return"-webkit-"+N+"-ms-"+N.replace("basis","preferred-size")+N}return"-webkit-"+N+"-ms-"+N+N;case 964:return"-webkit-"+N+"-ms-flex-"+N+N;case 1023:if(N.charCodeAt(8)!==99)break;return K=N.substring(N.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+K+"-webkit-"+N+"-ms-flex-pack"+K+N;case 1005:return y.test(N)?N.replace(g,":-webkit-")+N.replace(g,":-moz-")+N:N;case 1e3:switch(K=N.substring(13).trim(),q=K.indexOf("-")+1,K.charCodeAt(0)+K.charCodeAt(q)){case 226:K=N.replace(w,"tb");break;case 232:K=N.replace(w,"tb-rl");break;case 220:K=N.replace(w,"lr");break;default:return N}return"-webkit-"+N+"-ms-"+K+N;case 1017:if(N.indexOf("sticky",9)===-1)break;case 975:switch(q=(N=U).length-10,K=(N.charCodeAt(q)===33?N.substring(0,q):N).substring(U.indexOf(":",7)+1).trim(),V=K.charCodeAt(0)+(K.charCodeAt(7)|0)){case 203:if(111>K.charCodeAt(8))break;case 115:N=N.replace(K,"-webkit-"+K)+";"+N;break;case 207:case 102:N=N.replace(K,"-webkit-"+(102<V?"inline-":"")+"box")+";"+N.replace(K,"-webkit-"+K)+";"+N.replace(K,"-ms-"+K+"box")+";"+N}return N+";";case 938:if(N.charCodeAt(5)===45)switch(N.charCodeAt(6)){case 105:return K=N.replace("-items",""),"-webkit-"+N+"-webkit-box-"+K+"-ms-flex-"+K+N;case 115:return"-webkit-"+N+"-ms-flex-item-"+N.replace(E,"")+N;default:return"-webkit-"+N+"-ms-flex-line-pack"+N.replace("align-content","").replace(E,"")+N}break;case 973:case 989:if(N.charCodeAt(3)!==45||N.charCodeAt(4)===122)break;case 931:case 953:if(A.test(U)===!0)return(K=U.substring(U.indexOf(":")+1)).charCodeAt(0)===115?i(U.replace("stretch","fill-available"),q,$,j).replace(":fill-available",":stretch"):N.replace(K,"-webkit-"+K)+N.replace(K,"-moz-"+K.replace("fill-",""))+N;break;case 962:if(N="-webkit-"+N+(N.charCodeAt(5)===102?"-ms-"+N:"")+N,$+j===211&&N.charCodeAt(13)===105&&0<N.indexOf("transform",10))return N.substring(0,N.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+N}return N}function o(U,q){var $=U.indexOf(q===1?":":"{"),j=U.substring(0,q!==3?$:10);return $=U.substring($+1,U.length-1),H(q!==2?j:j.replace(k,"$1"),$,q)}function s(U,q){var $=i(q,q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2));return $!==q+";"?$.replace(T," or ($1)").substring(4):"("+q+")"}function a(U,q,$,j,N,V,K,X,Y,z){for(var Q=0,ee=q,te;Q<G;++Q)switch(te=F[Q].call(f,U,ee,$,j,N,V,K,X,Y,z)){case void 0:case!1:case!0:case null:break;default:ee=te}if(ee!==q)return ee}function u(U){switch(U){case void 0:case null:G=F.length=0;break;default:if(typeof U=="function")F[G++]=U;else if(typeof U=="object")for(var q=0,$=U.length;q<$;++q)u(U[q]);else W=!!U|0}return u}function l(U){return U=U.prefix,U!==void 0&&(H=null,U?typeof U!="function"?x=1:(x=2,H=U):x=0),l}function f(U,q){var $=U;if(33>$.charCodeAt(0)&&($=$.trim()),M=$,$=[M],0<G){var j=a(-1,q,$,$,I,R,0,0,0,0);j!==void 0&&typeof j=="string"&&(q=j)}var N=e(D,$,q,0,0);return 0<G&&(j=a(-2,N,$,$,I,R,N.length,0,0,0),j!==void 0&&(N=j)),M="",P=0,R=I=1,N}var c=/^\0+/g,d=/[\0\r\f]/g,g=/: */g,y=/zoo|gra/,m=/([,: ])(transform)/g,_=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,h=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,E=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,R=1,I=1,P=0,x=1,D=[],F=[],G=0,H=null,W=0,M="";return f.use=u,f.set=l,t!==void 0&&l(t),f}var Qie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Yie(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Xie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eI=Yie(function(t){return Xie.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Ci(){return(Ci=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var tI=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},M1=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!Pg.exports.typeOf(t)},Sp=Object.freeze([]),Mo=Object.freeze({});function Zc(t){return typeof t=="function"}function nI(t){return t.displayName||t.name||"Component"}function Fw(t){return t&&typeof t.styledComponentId=="string"}var Ru=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Uw=typeof window<"u"&&"HTMLElement"in window,Zie=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function Zf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Jie=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;n>=s;)(s<<=1)<0&&Zf(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var u=this.indexOfGroup(n+1),l=0,f=r.length;l<f;l++)this.tag.insertRule(u,r[l])&&(this.groupSizes[n]++,u++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),s=o+i,a=o;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Ph=new Map,Ap=new Map,bc=1,Xd=function(t){if(Ph.has(t))return Ph.get(t);for(;Ap.has(bc);)bc++;var e=bc++;return Ph.set(t,e),Ap.set(e,t),e},eoe=function(t){return Ap.get(t)},toe=function(t,e){e>=bc&&(bc=e+1),Ph.set(t,e),Ap.set(e,t)},noe="style["+Ru+'][data-styled-version="5.3.6"]',roe=new RegExp("^"+Ru+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ioe=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},ooe=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(roe);if(a){var u=0|parseInt(a[1],10),l=a[2];u!==0&&(toe(l,u),ioe(t,l,a[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(s)}}},soe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},_2=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var u=a.childNodes,l=u.length;l>=0;l--){var f=u[l];if(f&&f.nodeType===1&&f.hasAttribute(Ru))return f}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Ru,"active"),r.setAttribute("data-styled-version","5.3.6");var s=soe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},aoe=function(){function t(n){var r=this.element=_2(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var u=o[s];if(u.ownerNode===i)return u}Zf(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),uoe=function(){function t(n){var r=this.element=_2(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),loe=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),rI=Uw,coe={isServer:!Uw,useCSSOMInjection:!Zie},b2=function(){function t(n,r,i){n===void 0&&(n=Mo),r===void 0&&(r={}),this.options=Ci({},coe,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Uw&&rI&&(rI=!1,function(o){for(var s=document.querySelectorAll(noe),a=0,u=s.length;a<u;a++){var l=s[a];l&&l.getAttribute(Ru)!=="active"&&(ooe(o,l),l.parentNode&&l.parentNode.removeChild(l))}}(this))}t.registerId=function(n){return Xd(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Ci({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,s=r.target,n=i?new loe(s):o?new aoe(s):new uoe(s),new Jie(n)));var n,r,i,o,s},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(Xd(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Xd(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(Xd(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",s=0;s<i;s++){var a=eoe(s);if(a!==void 0){var u=n.names.get(a),l=r.getGroup(s);if(u&&l&&u.size){var f=Ru+".g"+s+'[id="'+a+'"]',c="";u!==void 0&&u.forEach(function(d){d.length>0&&(c+=d+",")}),o+=""+l+f+'{content:"'+c+`"}/*!sc*/
`}}}return o}(this)},t}(),foe=/(a)(d)/gi,iI=function(t){return String.fromCharCode(t+(t>25?39:97))};function j1(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=iI(e%52)+n;return(iI(e%52)+n).replace(foe,"$1-$2")}var nu=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},w2=function(t){return nu(5381,t)};function doe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Zc(n)&&!Fw(n))return!1}return!0}var hoe=w2("5.3.6"),poe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&doe(e),this.componentId=n,this.baseHash=nu(hoe,n),this.baseStyle=r,b2.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=Pu(this.rules,e,n,r).join(""),a=j1(nu(this.baseHash,s)>>>0);if(!n.hasNameForId(i,a)){var u=r(s,"."+a,void 0,i);n.insertRules(i,a,u)}o.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,f=nu(this.baseHash,r.hash),c="",d=0;d<l;d++){var g=this.rules[d];if(typeof g=="string")c+=g;else if(g){var y=Pu(g,e,n,r),m=Array.isArray(y)?y.join(""):y;f=nu(f,m+d),c+=m}}if(c){var _=j1(f>>>0);if(!n.hasNameForId(i,_)){var p=r(c,"."+_,void 0,i);n.insertRules(i,_,p)}o.push(_)}}return o.join(" ")},t}(),goe=/^\s*\/\/.*$/gm,moe=[":","[",".","#"];function yoe(t){var e,n,r,i,o=t===void 0?Mo:t,s=o.options,a=s===void 0?Mo:s,u=o.plugins,l=u===void 0?Sp:u,f=new Kie(a),c=[],d=function(m){function _(p){if(p)try{m(p+"}")}catch{}}return function(p,h,b,v,w,O,T,E,k,A){switch(p){case 1:if(k===0&&h.charCodeAt(0)===64)return m(h+";"),"";break;case 2:if(E===0)return h+"/*|*/";break;case 3:switch(E){case 102:case 112:return m(b[0]+h),"";default:return h+(A===0?"/*|*/":"")}case-2:h.split("/*|*/}").forEach(_)}}}(function(m){c.push(m)}),g=function(m,_,p){return _===0&&moe.indexOf(p[n.length])!==-1||p.match(i)?m:"."+e};function y(m,_,p,h){h===void 0&&(h="&");var b=m.replace(goe,""),v=_&&p?p+" "+_+" { "+b+" }":b;return e=h,n=_,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(p||!_?"":_,v)}return f.use([].concat(l,[function(m,_,p){m===2&&p.length&&p[0].lastIndexOf(n)>0&&(p[0]=p[0].replace(r,g))},d,function(m){if(m===-2){var _=c;return c=[],_}}])),y.hash=l.length?l.reduce(function(m,_){return _.name||Zf(15),nu(m,_.name)},5381).toString():"",y}var E2=Bo.createContext();E2.Consumer;var O2=Bo.createContext(),voe=(O2.Consumer,new b2),F1=yoe();function _oe(){return ye.exports.useContext(E2)||voe}function boe(){return ye.exports.useContext(O2)||F1}var woe=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=F1);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.toString=function(){return Zf(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=F1),this.name+e.hash},t}(),Eoe=/([A-Z])/,Ooe=/([A-Z])/g,Toe=/^ms-/,Soe=function(t){return"-"+t.toLowerCase()};function oI(t){return Eoe.test(t)?t.replace(Ooe,Soe).replace(Toe,"-ms-"):t}var sI=function(t){return t==null||t===!1||t===""};function Pu(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],s=0,a=t.length;s<a;s+=1)(i=Pu(t[s],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(sI(t))return"";if(Fw(t))return"."+t.styledComponentId;if(Zc(t)){if(typeof(l=t)!="function"||l.prototype&&l.prototype.isReactComponent||!e)return t;var u=t(e);return Pu(u,e,n,r)}var l;return t instanceof woe?n?(t.inject(n,r),t.getName(r)):t:M1(t)?function f(c,d){var g,y,m=[];for(var _ in c)c.hasOwnProperty(_)&&!sI(c[_])&&(Array.isArray(c[_])&&c[_].isCss||Zc(c[_])?m.push(oI(_)+":",c[_],";"):M1(c[_])?m.push.apply(m,f(c[_],_)):m.push(oI(_)+": "+(g=_,(y=c[_])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||g in Qie?String(y).trim():y+"px")+";"));return d?[d+" {"].concat(m,["}"]):m}(t):t.toString()}var aI=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function Aoe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Zc(t)||M1(t)?aI(Pu(tI(Sp,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:aI(Pu(tI(t,n)))}var Ioe=function(t,e,n){return n===void 0&&(n=Mo),t.theme!==n.theme&&t.theme||e||n.theme},koe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xoe=/(^-|-$)/g;function Pv(t){return t.replace(koe,"-").replace(xoe,"")}var Roe=function(t){return j1(w2(t)>>>0)};function Zd(t){return typeof t=="string"&&!0}var U1=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},Poe=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function Coe(t,e,n){var r=t[n];U1(e)&&U1(r)?T2(r,e):t[n]=e}function T2(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(U1(s))for(var a in s)Poe(a)&&Coe(t,s[a],a)}return t}var S2=Bo.createContext();S2.Consumer;var Cv={};function A2(t,e,n){var r=Fw(t),i=!Zd(t),o=e.attrs,s=o===void 0?Sp:o,a=e.componentId,u=a===void 0?function(h,b){var v=typeof h!="string"?"sc":Pv(h);Cv[v]=(Cv[v]||0)+1;var w=v+"-"+Roe("5.3.6"+v+Cv[v]);return b?b+"-"+w:w}(e.displayName,e.parentComponentId):a,l=e.displayName,f=l===void 0?function(h){return Zd(h)?"styled."+h:"Styled("+nI(h)+")"}(t):l,c=e.displayName&&e.componentId?Pv(e.displayName)+"-"+e.componentId:e.componentId||u,d=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,g=e.shouldForwardProp;r&&t.shouldForwardProp&&(g=e.shouldForwardProp?function(h,b,v){return t.shouldForwardProp(h,b,v)&&e.shouldForwardProp(h,b,v)}:t.shouldForwardProp);var y,m=new poe(n,c,r?t.componentStyle:void 0),_=m.isStatic&&s.length===0,p=function(h,b){return function(v,w,O,T){var E=v.attrs,k=v.componentStyle,A=v.defaultProps,S=v.foldedComponentIds,R=v.shouldForwardProp,I=v.styledComponentId,P=v.target,x=function(j,N,V){j===void 0&&(j=Mo);var K=Ci({},N,{theme:j}),X={};return V.forEach(function(Y){var z,Q,ee,te=Y;for(z in Zc(te)&&(te=te(K)),te)K[z]=X[z]=z==="className"?(Q=X[z],ee=te[z],Q&&ee?Q+" "+ee:Q||ee):te[z]}),[K,X]}(Ioe(w,ye.exports.useContext(S2),A)||Mo,w,E),D=x[0],F=x[1],G=function(j,N,V,K){var X=_oe(),Y=boe(),z=N?j.generateAndInjectStyles(Mo,X,Y):j.generateAndInjectStyles(V,X,Y);return z}(k,T,D),H=O,W=F.$as||w.$as||F.as||w.as||P,M=Zd(W),U=F!==w?Ci({},w,{},F):w,q={};for(var $ in U)$[0]!=="$"&&$!=="as"&&($==="forwardedAs"?q.as=U[$]:(R?R($,eI,W):!M||eI($))&&(q[$]=U[$]));return w.style&&F.style!==w.style&&(q.style=Ci({},w.style,{},F.style)),q.className=Array.prototype.concat(S,I,G!==I?G:null,w.className,F.className).filter(Boolean).join(" "),q.ref=H,ye.exports.createElement(W,q)}(y,h,b,_)};return p.displayName=f,(y=Bo.forwardRef(p)).attrs=d,y.componentStyle=m,y.displayName=f,y.shouldForwardProp=g,y.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Sp,y.styledComponentId=c,y.target=r?t.target:t,y.withComponent=function(h){var b=e.componentId,v=function(O,T){if(O==null)return{};var E,k,A={},S=Object.keys(O);for(k=0;k<S.length;k++)E=S[k],T.indexOf(E)>=0||(A[E]=O[E]);return A}(e,["componentId"]),w=b&&b+"-"+(Zd(h)?h:Pv(nI(h)));return A2(h,Ci({},v,{attrs:d,componentId:w}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(h){this._foldedDefaultProps=r?T2({},t.defaultProps,h):h}}),y.toString=function(){return"."+y.styledComponentId},i&&Uf(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var q1=function(t){return function e(n,r,i){if(i===void 0&&(i=Mo),!Pg.exports.isValidElementType(r))return Zf(1,String(r));var o=function(){return n(r,i,Aoe.apply(void 0,arguments))};return o.withConfig=function(s){return e(n,r,Ci({},i,{},s))},o.attrs=function(s){return e(n,r,Ci({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(A2,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){q1[t]=q1(t)});const I2=q1,Noe=I2.li`
  background: ${t=>t.background?"lightgray":"white"};
`;function Doe({itemsPerPage:t,items:e,currentPage:n,BtnLimit:r,setCurrentItems:i}){const[o,s]=ye.exports.useState(0),[a,u]=ye.exports.useState(Math.floor(n/r)*r),[l,f]=ye.exports.useState(r),c=os(),d=ye.exports.useMemo(()=>e&&new Array(e.length).fill().map((y,m)=>m).slice(a,l),[e,a,l]),g=y=>{c(`/page/${y}`)};return ye.exports.useEffect(()=>{const y=n<r,m=Math.ceil(r/(r*2))+1;e&&(s(Math.ceil(e.length/t)),u(y?0:o-m-(e.length-n*t)-m+1),f(a+r>o?o:a+r))},[e,n,a,d,o]),ye.exports.useEffect(()=>{const y=(n-1)*t,m=y+t;e&&i(e.slice(y,m))},[n,e]),ye.exports.useEffect(()=>{localStorage.setItem("page",n)},[n]),fe(Dn,{children:e&&fe(Dn,{children:fe("ul",{className:"flex flex-row items-center justify-center",children:e.length!==0&&$e(Dn,{children:[fe("button",{disabled:n===1,className:"components-pagination-btn select-none mr-2 font-bold",onClick:()=>g(1),children:n===1?"--":"<"}),d.map((y,m)=>fe(Noe,{background:n===y+1,className:"components-pagination-btn select-none mr-1",onClick:()=>g(y+1),children:y+1},m)),fe("button",{disabled:n===o,className:"components-pagination-btn select-none ml-2 font-bold",onClick:()=>g(o),children:n===o?"--":">"})]})})})})}function Loe({currentItems:t}){Wt.exports.useFirestoreConnect(["write"]);const e=er(i=>i.firestore.data.write),n=os(),r=t[0]==="";return t.length>0&&!r?fe(Dn,{children:fe("ul",{className:"flex flex-col items-center justify-center",children:t.filter(i=>{var o;return((o=e[i])==null?void 0:o.info)!==void 0}).map((i,o)=>{const s=e[i],a=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return fe("li",{className:"border border-4 border-gray-300 w-[640px] h-[160px] px-8 py-6 flex flex-col justify-start items-start mb-4 select-none hover:border-gray-400 cursor-pointer",onClick:()=>n(`/detail/${i}`),children:$e("div",{className:"flex flex-col justify-center items-start w-full",children:[$e("div",{className:"flex flex-row justify-between items-center h-[25px] w-full mb-2 border border-b-gray-400 pb-4 border-x-transparent border-t-transparent",children:[$e("div",{className:"flex flex-row justify-start items-center",children:[fe("div",{className:"font-bold opacity-60 leading-[25px] mr-4 overflow-hidden",children:`[ ${s.categoryName.slice(0,14)} ]`}),fe("div",{title:s.info.title,className:"overflow-hidden w-[200px] mr-2",children:s.info.title})]}),fe("div",{className:"flex flex-row justify-end items-center text-[12px] font-bold opacity-60",children:s.time.isUpdate?`${a.format(s.time.updatedAt)} (\uC218\uC815\uB428)`:a.format(s.time.createdAt)})]}),fe("div",{className:"tracking-tight text-sm w-[560px] h-[80px] overflow",children:s.info.text})]})},o)})})}):r?fe("div",{children:"\uAC8C\uC2DC\uAE00 \uC815\uBCF4\uB97C \uBC1B\uC544\uC624\uB294 \uC911..."}):fe("div",{children:"\uAC80\uC0C9\uACB0\uACFC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"})}function uI(){const[t,e]=ye.exports.useState(!1),[n,r]=ye.exports.useState(""),[i,o]=ye.exports.useState([""]),[s,a]=ye.exports.useTransition(),{page:u}=qb(),l=5,f=5;Wt.exports.useFirestoreConnect(["write"]);const c=er(y=>y.firestore.data.write),d=ye.exports.useMemo(()=>c&&Object.keys(c).filter(y=>{var m;return((m=c[y])==null?void 0:m.info)!==void 0}).sort(function(y,m){return t?c[y].time.updatedAt-c[m].time.updatedAt:c[m].time.updatedAt-c[y].time.updatedAt}).filter(y=>c[y].categoryName.toLowerCase().includes(n.toLowerCase())),[c,t,n]);return $e("div",{className:"main-padding flex flex-col items-center",children:[$e("div",{className:"components-input-container w-[800px]",children:[fe("input",{type:"text",value:n||"",onChange:y=>{a(()=>r(y.target.value))},placeholder:"\uAC80\uC0C9\uD560 \uD0DC\uADF8\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694",id:"search_input"}),fe("label",{className:"border border-2 border-gray-300 px-3 py-2 cursor-pointer mr-5 select-none",htmlFor:"search_input",onClick:()=>r(""),children:"\uCD08\uAE30\uD654"}),fe("button",{className:"border border-2 border-gray-300 px-3 py-2 cursor-pointer select-none",onClick:()=>e(!t),children:t?"\uC624\uB798\uB41C\uC21C":"\uCD5C\uC2E0\uC21C"})]}),$e("div",{children:[fe("div",{className:"mb-5",children:fe(Loe,{currentItems:i})}),fe(Doe,{itemsPerPage:f,items:d,currentPage:u?parseInt(u):1,BtnLimit:l,setCurrentItems:o})]})]})}/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function _o(t){return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}function B1(t,e){return B1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},B1(t,e)}function $oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ch(t,e,n){return $oe()?Ch=Reflect.construct:Ch=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),l=new u;return s&&B1(l,s.prototype),l},Ch.apply(null,arguments)}function Cr(t){return Moe(t)||joe(t)||Foe(t)||Uoe()}function Moe(t){if(Array.isArray(t))return V1(t)}function joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Foe(t,e){if(!!t){if(typeof t=="string")return V1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V1(t,e)}}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qoe=Object.hasOwnProperty,lI=Object.setPrototypeOf,Boe=Object.isFrozen,Voe=Object.getPrototypeOf,zoe=Object.getOwnPropertyDescriptor,$n=Object.freeze,hi=Object.seal,Hoe=Object.create,k2=typeof Reflect<"u"&&Reflect,Ip=k2.apply,z1=k2.construct;Ip||(Ip=function(e,n,r){return e.apply(n,r)});$n||($n=function(e){return e});hi||(hi=function(e){return e});z1||(z1=function(e,n){return Ch(e,Cr(n))});var Woe=qr(Array.prototype.forEach),cI=qr(Array.prototype.pop),Ul=qr(Array.prototype.push),Nh=qr(String.prototype.toLowerCase),Goe=qr(String.prototype.match),uo=qr(String.prototype.replace),Koe=qr(String.prototype.indexOf),Qoe=qr(String.prototype.trim),Sn=qr(RegExp.prototype.test),Nv=Yoe(TypeError);function qr(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ip(t,e,r)}}function Yoe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return z1(t,n)}}function Ue(t,e,n){n=n||Nh,lI&&lI(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var o=n(i);o!==i&&(Boe(e)||(e[r]=o),i=o)}t[i]=!0}return t}function ms(t){var e=Hoe(null),n;for(n in t)Ip(qoe,t,[n])&&(e[n]=t[n]);return e}function Jd(t,e){for(;t!==null;){var n=zoe(t,e);if(n){if(n.get)return qr(n.get);if(typeof n.value=="function")return qr(n.value)}t=Voe(t)}function r(i){return console.warn("fallback value for",i),null}return r}var fI=$n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dv=$n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lv=$n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Xoe=$n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$v=$n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Zoe=$n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dI=$n(["#text"]),hI=$n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Mv=$n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pI=$n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eh=$n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Joe=hi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ese=hi(/<%[\w\W]*|[\w\W]*%>/gm),tse=hi(/^data-[\-\w.\u00B7-\uFFFF]/),nse=hi(/^aria-[\-\w]+$/),rse=hi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ise=hi(/^(?:\w+script|data):/i),ose=hi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sse=hi(/^html$/i),ase=function(){return typeof window>"u"?null:window},use=function(e,n){if(_o(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function x2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ase(),e=function(se){return x2(se)};if(e.version="2.4.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,u=t.NodeFilter,l=t.NamedNodeMap,f=l===void 0?t.NamedNodeMap||t.MozNamedAttrMap:l,c=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,y=a.prototype,m=Jd(y,"cloneNode"),_=Jd(y,"nextSibling"),p=Jd(y,"childNodes"),h=Jd(y,"parentNode");if(typeof o=="function"){var b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}var v=use(g,n),w=v?v.createHTML(""):"",O=r,T=O.implementation,E=O.createNodeIterator,k=O.createDocumentFragment,A=O.getElementsByTagName,S=n.importNode,R={};try{R=ms(r).documentMode?r.documentMode:{}}catch{}var I={};e.isSupported=typeof h=="function"&&T&&typeof T.createHTMLDocument<"u"&&R!==9;var P=Joe,x=ese,D=tse,F=nse,G=ise,H=ose,W=rse,M=null,U=Ue({},[].concat(Cr(fI),Cr(Dv),Cr(Lv),Cr($v),Cr(dI))),q=null,$=Ue({},[].concat(Cr(hI),Cr(Mv),Cr(pI),Cr(eh))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),N=null,V=null,K=!0,X=!0,Y=!1,z=!1,Q=!1,ee=!1,te=!1,oe=!1,ce=!1,ie=!1,J=!0,re=!1,ue="user-content-",he=!0,C=!1,L={},B=null,Z=Ue({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ne=null,ae=Ue({},["audio","video","img","source","image","track"]),pe=null,Ie=Ue({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1999/xhtml",Je=Ce,so=!1,Ti,xd=["application/xhtml+xml","text/html"],xF="text/html",jt,$a=null,RF=r.createElement("form"),HO=function(se){return se instanceof RegExp||se instanceof Function},Ny=function(se){$a&&$a===se||((!se||_o(se)!=="object")&&(se={}),se=ms(se),Ti=xd.indexOf(se.PARSER_MEDIA_TYPE)===-1?Ti=xF:Ti=se.PARSER_MEDIA_TYPE,jt=Ti==="application/xhtml+xml"?function(_e){return _e}:Nh,M="ALLOWED_TAGS"in se?Ue({},se.ALLOWED_TAGS,jt):U,q="ALLOWED_ATTR"in se?Ue({},se.ALLOWED_ATTR,jt):$,pe="ADD_URI_SAFE_ATTR"in se?Ue(ms(Ie),se.ADD_URI_SAFE_ATTR,jt):Ie,ne="ADD_DATA_URI_TAGS"in se?Ue(ms(ae),se.ADD_DATA_URI_TAGS,jt):ae,B="FORBID_CONTENTS"in se?Ue({},se.FORBID_CONTENTS,jt):Z,N="FORBID_TAGS"in se?Ue({},se.FORBID_TAGS,jt):{},V="FORBID_ATTR"in se?Ue({},se.FORBID_ATTR,jt):{},L="USE_PROFILES"in se?se.USE_PROFILES:!1,K=se.ALLOW_ARIA_ATTR!==!1,X=se.ALLOW_DATA_ATTR!==!1,Y=se.ALLOW_UNKNOWN_PROTOCOLS||!1,z=se.SAFE_FOR_TEMPLATES||!1,Q=se.WHOLE_DOCUMENT||!1,oe=se.RETURN_DOM||!1,ce=se.RETURN_DOM_FRAGMENT||!1,ie=se.RETURN_TRUSTED_TYPE||!1,te=se.FORCE_BODY||!1,J=se.SANITIZE_DOM!==!1,re=se.SANITIZE_NAMED_PROPS||!1,he=se.KEEP_CONTENT!==!1,C=se.IN_PLACE||!1,W=se.ALLOWED_URI_REGEXP||W,Je=se.NAMESPACE||Ce,se.CUSTOM_ELEMENT_HANDLING&&HO(se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),se.CUSTOM_ELEMENT_HANDLING&&HO(se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),se.CUSTOM_ELEMENT_HANDLING&&typeof se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(X=!1),ce&&(oe=!0),L&&(M=Ue({},Cr(dI)),q=[],L.html===!0&&(Ue(M,fI),Ue(q,hI)),L.svg===!0&&(Ue(M,Dv),Ue(q,Mv),Ue(q,eh)),L.svgFilters===!0&&(Ue(M,Lv),Ue(q,Mv),Ue(q,eh)),L.mathMl===!0&&(Ue(M,$v),Ue(q,pI),Ue(q,eh))),se.ADD_TAGS&&(M===U&&(M=ms(M)),Ue(M,se.ADD_TAGS,jt)),se.ADD_ATTR&&(q===$&&(q=ms(q)),Ue(q,se.ADD_ATTR,jt)),se.ADD_URI_SAFE_ATTR&&Ue(pe,se.ADD_URI_SAFE_ATTR,jt),se.FORBID_CONTENTS&&(B===Z&&(B=ms(B)),Ue(B,se.FORBID_CONTENTS,jt)),he&&(M["#text"]=!0),Q&&Ue(M,["html","head","body"]),M.table&&(Ue(M,["tbody"]),delete N.tbody),$n&&$n(se),$a=se)},WO=Ue({},["mi","mo","mn","ms","mtext"]),GO=Ue({},["foreignobject","desc","title","annotation-xml"]),PF=Ue({},["title","style","font","a","script"]),Rd=Ue({},Dv);Ue(Rd,Lv),Ue(Rd,Xoe);var Dy=Ue({},$v);Ue(Dy,Zoe);var CF=function(se){var _e=h(se);(!_e||!_e.tagName)&&(_e={namespaceURI:Ce,tagName:"template"});var Oe=Nh(se.tagName),Ke=Nh(_e.tagName);return se.namespaceURI===Ae?_e.namespaceURI===Ce?Oe==="svg":_e.namespaceURI===Re?Oe==="svg"&&(Ke==="annotation-xml"||WO[Ke]):Boolean(Rd[Oe]):se.namespaceURI===Re?_e.namespaceURI===Ce?Oe==="math":_e.namespaceURI===Ae?Oe==="math"&&GO[Ke]:Boolean(Dy[Oe]):se.namespaceURI===Ce?_e.namespaceURI===Ae&&!GO[Ke]||_e.namespaceURI===Re&&!WO[Ke]?!1:!Dy[Oe]&&(PF[Oe]||!Rd[Oe]):!1},Si=function(se){Ul(e.removed,{element:se});try{se.parentNode.removeChild(se)}catch{try{se.outerHTML=w}catch{se.remove()}}},Ly=function(se,_e){try{Ul(e.removed,{attribute:_e.getAttributeNode(se),from:_e})}catch{Ul(e.removed,{attribute:null,from:_e})}if(_e.removeAttribute(se),se==="is"&&!q[se])if(oe||ce)try{Si(_e)}catch{}else try{_e.setAttribute(se,"")}catch{}},KO=function(se){var _e,Oe;if(te)se="<remove></remove>"+se;else{var Ke=Goe(se,/^[\r\n\t ]+/);Oe=Ke&&Ke[0]}Ti==="application/xhtml+xml"&&(se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+se+"</body></html>");var qn=v?v.createHTML(se):se;if(Je===Ce)try{_e=new d().parseFromString(qn,Ti)}catch{}if(!_e||!_e.documentElement){_e=T.createDocument(Je,"template",null);try{_e.documentElement.innerHTML=so?"":qn}catch{}}var pn=_e.body||_e.documentElement;return se&&Oe&&pn.insertBefore(r.createTextNode(Oe),pn.childNodes[0]||null),Je===Ce?A.call(_e,Q?"html":"body")[0]:Q?_e.documentElement:pn},QO=function(se){return E.call(se.ownerDocument||se,se,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},NF=function(se){return se instanceof c&&(typeof se.nodeName!="string"||typeof se.textContent!="string"||typeof se.removeChild!="function"||!(se.attributes instanceof f)||typeof se.removeAttribute!="function"||typeof se.setAttribute!="function"||typeof se.namespaceURI!="string"||typeof se.insertBefore!="function")},kl=function(se){return _o(s)==="object"?se instanceof s:se&&_o(se)==="object"&&typeof se.nodeType=="number"&&typeof se.nodeName=="string"},Ai=function(se,_e,Oe){!I[se]||Woe(I[se],function(Ke){Ke.call(e,_e,Oe,$a)})},YO=function(se){var _e;if(Ai("beforeSanitizeElements",se,null),NF(se)||Sn(/[\u0080-\uFFFF]/,se.nodeName))return Si(se),!0;var Oe=jt(se.nodeName);if(Ai("uponSanitizeElement",se,{tagName:Oe,allowedTags:M}),se.hasChildNodes()&&!kl(se.firstElementChild)&&(!kl(se.content)||!kl(se.content.firstElementChild))&&Sn(/<[/\w]/g,se.innerHTML)&&Sn(/<[/\w]/g,se.textContent)||Oe==="select"&&Sn(/<template/i,se.innerHTML))return Si(se),!0;if(!M[Oe]||N[Oe]){if(!N[Oe]&&ZO(Oe)&&(j.tagNameCheck instanceof RegExp&&Sn(j.tagNameCheck,Oe)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Oe)))return!1;if(he&&!B[Oe]){var Ke=h(se)||se.parentNode,qn=p(se)||se.childNodes;if(qn&&Ke)for(var pn=qn.length,tn=pn-1;tn>=0;--tn)Ke.insertBefore(m(qn[tn],!0),_(se))}return Si(se),!0}return se instanceof a&&!CF(se)||(Oe==="noscript"||Oe==="noembed")&&Sn(/<\/no(script|embed)/i,se.innerHTML)?(Si(se),!0):(z&&se.nodeType===3&&(_e=se.textContent,_e=uo(_e,P," "),_e=uo(_e,x," "),se.textContent!==_e&&(Ul(e.removed,{element:se.cloneNode()}),se.textContent=_e)),Ai("afterSanitizeElements",se,null),!1)},XO=function(se,_e,Oe){if(J&&(_e==="id"||_e==="name")&&(Oe in r||Oe in RF))return!1;if(!(X&&!V[_e]&&Sn(D,_e))){if(!(K&&Sn(F,_e))){if(!q[_e]||V[_e]){if(!(ZO(se)&&(j.tagNameCheck instanceof RegExp&&Sn(j.tagNameCheck,se)||j.tagNameCheck instanceof Function&&j.tagNameCheck(se))&&(j.attributeNameCheck instanceof RegExp&&Sn(j.attributeNameCheck,_e)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(_e))||_e==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&Sn(j.tagNameCheck,Oe)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Oe))))return!1}else if(!pe[_e]){if(!Sn(W,uo(Oe,H,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&se!=="script"&&Koe(Oe,"data:")===0&&ne[se])){if(!(Y&&!Sn(G,uo(Oe,H,"")))){if(Oe)return!1}}}}}}return!0},ZO=function(se){return se.indexOf("-")>0},JO=function(se){var _e,Oe,Ke,qn;Ai("beforeSanitizeAttributes",se,null);var pn=se.attributes;if(!!pn){var tn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(qn=pn.length;qn--;){_e=pn[qn];var Pd=_e,gn=Pd.name,$y=Pd.namespaceURI;if(Oe=gn==="value"?_e.value:Qoe(_e.value),Ke=jt(gn),tn.attrName=Ke,tn.attrValue=Oe,tn.keepAttr=!0,tn.forceKeepAttr=void 0,Ai("uponSanitizeAttribute",se,tn),Oe=tn.attrValue,!tn.forceKeepAttr&&(Ly(gn,se),!!tn.keepAttr)){if(Sn(/\/>/i,Oe)){Ly(gn,se);continue}z&&(Oe=uo(Oe,P," "),Oe=uo(Oe,x," "));var eT=jt(se.nodeName);if(!!XO(eT,Ke,Oe)){if(re&&(Ke==="id"||Ke==="name")&&(Ly(gn,se),Oe=ue+Oe),v&&_o(g)==="object"&&typeof g.getAttributeType=="function"&&!$y)switch(g.getAttributeType(eT,Ke)){case"TrustedHTML":Oe=v.createHTML(Oe);break;case"TrustedScriptURL":Oe=v.createScriptURL(Oe);break}try{$y?se.setAttributeNS($y,gn,Oe):se.setAttribute(gn,Oe),cI(e.removed)}catch{}}}}Ai("afterSanitizeAttributes",se,null)}},DF=function Pe(se){var _e,Oe=QO(se);for(Ai("beforeSanitizeShadowDOM",se,null);_e=Oe.nextNode();)Ai("uponSanitizeShadowNode",_e,null),!YO(_e)&&(_e.content instanceof i&&Pe(_e.content),JO(_e));Ai("afterSanitizeShadowDOM",se,null)};return e.sanitize=function(Pe){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e,Oe,Ke,qn,pn;if(so=!Pe,so&&(Pe="<!-->"),typeof Pe!="string"&&!kl(Pe)){if(typeof Pe.toString!="function")throw Nv("toString is not a function");if(Pe=Pe.toString(),typeof Pe!="string")throw Nv("dirty is not a string, aborting")}if(!e.isSupported){if(_o(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Pe=="string")return t.toStaticHTML(Pe);if(kl(Pe))return t.toStaticHTML(Pe.outerHTML)}return Pe}if(ee||Ny(se),e.removed=[],typeof Pe=="string"&&(C=!1),C){if(Pe.nodeName){var tn=jt(Pe.nodeName);if(!M[tn]||N[tn])throw Nv("root node is forbidden and cannot be sanitized in-place")}}else if(Pe instanceof s)_e=KO("<!---->"),Oe=_e.ownerDocument.importNode(Pe,!0),Oe.nodeType===1&&Oe.nodeName==="BODY"||Oe.nodeName==="HTML"?_e=Oe:_e.appendChild(Oe);else{if(!oe&&!z&&!Q&&Pe.indexOf("<")===-1)return v&&ie?v.createHTML(Pe):Pe;if(_e=KO(Pe),!_e)return oe?null:ie?w:""}_e&&te&&Si(_e.firstChild);for(var Pd=QO(C?Pe:_e);Ke=Pd.nextNode();)Ke.nodeType===3&&Ke===qn||YO(Ke)||(Ke.content instanceof i&&DF(Ke.content),JO(Ke),qn=Ke);if(qn=null,C)return Pe;if(oe){if(ce)for(pn=k.call(_e.ownerDocument);_e.firstChild;)pn.appendChild(_e.firstChild);else pn=_e;return q.shadowroot&&(pn=S.call(n,pn,!0)),pn}var gn=Q?_e.outerHTML:_e.innerHTML;return Q&&M["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&Sn(sse,_e.ownerDocument.doctype.name)&&(gn="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+gn),z&&(gn=uo(gn,P," "),gn=uo(gn,x," ")),v&&ie?v.createHTML(gn):gn},e.setConfig=function(Pe){Ny(Pe),ee=!0},e.clearConfig=function(){$a=null,ee=!1},e.isValidAttribute=function(Pe,se,_e){$a||Ny({});var Oe=jt(Pe),Ke=jt(se);return XO(Oe,Ke,_e)},e.addHook=function(Pe,se){typeof se=="function"&&(I[Pe]=I[Pe]||[],Ul(I[Pe],se))},e.removeHook=function(Pe){if(I[Pe])return cI(I[Pe])},e.removeHooks=function(Pe){I[Pe]&&(I[Pe]=[])},e.removeAllHooks=function(){I={}},e}var lse=x2();function cse(){var s;const{id:t}=qb();Wt.exports.useFirestoreConnect(["write"]);const e=er(a=>a.firestore.data.write),n=er(a=>a.firebase.auth),r=Wt.exports.useFirestore(),i=os(),o=ye.exports.useRef();if(ye.exports.useEffect(()=>{if(e){const a=document.getElementById("title"),u=o.current,l=f=>{const{deltaY:c}=f;window.innerHeight<document.body.offsetHeight&&(c<0&&a.classList.remove("hidden-element"),c>0&&a.classList.add("hidden-element"))};return u.addEventListener("wheel",l),()=>{u.removeEventListener("wheel",l)}}},[e]),e){const a=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return fe("div",{className:"main-padding md:w-[800px] 2xl:w-[1200px]",children:e[t]?fe(Dn,{children:$e("div",{className:"flex flex-col justify-start w-full",children:[fe("div",{id:"title",className:"flex justify-center items-center mb-10 border border-2 border-b-gray-400 border-x-transparent border-t-transparent pb-1 pt-6 select-none md:w-[800px] 2xl:w-[1200px] bg-white fixed top-0",children:$e("div",{className:"flex flex-col justify-center w-full",children:[$e("div",{className:"flex flex-row justify-center items-center",children:[fe("span",{className:"text-3xl mr-10",children:`[ ${e[t].categoryName.slice(0,15)} ]`}),fe("span",{title:e[t].info.title,className:"text-3xl",children:e[t].info.title.slice(0,20)})]}),$e("div",{className:"flex flex-row justify-end items-center text-sm",children:[fe("span",{className:"opacity-60 mr-4",children:`\uAC8C\uC2DC\uC77C : ${a.format(e[t].time.createdAt)}`}),fe("button",{onClick:()=>{const u=localStorage.getItem("page");i(`/page/${u}`)},className:"components-fixed-btn mr-2",children:"\uC774\uC804 \uD398\uC774\uC9C0"}),n.uid==="bTqxBsgmsRScCGs1RN37zr99MfH3"&&$e(Dn,{children:[fe("button",{onClick:()=>i(`/write/${t}`),className:"components-fixed-btn mr-2",children:"\uC218\uC815"}),fe("button",{onClick:()=>{window.confirm("\uD574\uB2F9 \uAC8C\uC2DC\uAE00\uC744 \uC0AD\uC81C\uD569\uB2C8\uB2E4")&&(i("/"),r.doc(`write/${t}`).delete())},className:"components-fixed-btn",children:"\uC0AD\uC81C"})]})]})]})}),fe("div",{ref:o,className:"break-all leading-7 font-mono mt-[8rem]",dangerouslySetInnerHTML:{__html:lse.sanitize((s=e[t])==null?void 0:s.info.Quilltext)}})]})}):fe(Dn,{children:fe("div",{children:"\uD604\uC7AC \uD398\uC774\uC9C0\uC5D0 \uB300\uD55C \uC815\uBCF4\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"})})})}}const fse=I2.button`
  background: ${t=>t.background?"lightgray":"white"};
`;function dse(){const[t,e]=ye.exports.useState([]);Wt.exports.useFirestoreConnect(["categorys","write"]);const n=er(o=>o.firestore.data.categorys),r=er(o=>o.firestore.data.write),i=os();return fe("div",{className:"main-padding w-full",children:r&&$e(Dn,{children:[fe("div",{className:"flex flex-wrap w-[800px] 2xl:w-[1200px] mb-20",children:Object.keys(n).filter(o=>{var s;return((s=n[o])==null?void 0:s.CheckUndefined)!==void 0}).map((o,s)=>fe(fse,{onClick:()=>{const a=!t.find(u=>u===o);a?e(u=>[...u,o]):a||e(u=>u.filter(l=>l!==o))},background:t.find(a=>a===o),className:"mr-5 cursor-pointer select-none border border-2 border-gray-300 px-1.5 py-1 rounded-[5px] w-1/10",children:o},s))}),fe("div",{className:"flex flex-col items-center justify-start w-full",children:t.map(o=>Object.keys(r).map(s=>({item:r[s],id:s})).filter(s=>{var a;return((a=s.item)==null?void 0:a.categoryName)===o}).map((s,a)=>{const u=s.item;if(u.categoryName)return fe("div",{onClick:()=>i(`/detail/${s.id}`),className:"flex flex-row justify-start items-center mb-5 cursor-pointer select-none w-full",id:"tag-container",children:$e("span",{className:"font-bold w-full",children:[`[ ${u.categoryName} ]`,fe("span",{className:"ml-10",children:u.info.title})]})},a)}))})]})})}function hse(){const t=er(e=>e.firebase.auth);return fe(Dn,{children:$e(n5,{children:[fe(po,{exact:!0,path:"/",element:fe(uI,{})}),fe(po,{exact:!0,path:"/page/:page",element:fe(uI,{})}),fe(po,{path:"/detail/:id",element:fe(cse,{})}),fe(po,{path:"/tags",element:fe(dse,{})}),fe(po,{path:"*",element:fe(e5,{to:"/"})}),t.uid==="bTqxBsgmsRScCGs1RN37zr99MfH3"&&$e(Dn,{children:[fe(po,{path:"/write",element:fe(JA,{})}),fe(po,{path:"/write/:id",element:fe(JA,{})})]})]})})}function pse(){const t=er(e=>e.firebase.auth);return fe(Dn,{children:Wt.exports.isLoaded(t)?$e("div",{className:"flex flex-row",children:[fe("div",{children:fe(Die,{})}),fe("div",{className:"pl-[400px] w-full",children:fe(hse,{})})]}):"Loading..."})}var qw={},Sm={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.methodsToAddFromFirestore=ft.defaultConfig=ft.default=ft.actionsPrefix=ft.actionTypes=void 0;var qe="@@reduxFirestore";ft.actionsPrefix=qe;var R2={START:"".concat(qe,"/START"),ERROR:"".concat(qe,"/ERROR"),CLEAR_DATA:"".concat(qe,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(qe,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(qe,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(qe,"/SET_LISTENER"),UNSET_LISTENER:"".concat(qe,"/UNSET_LISTENER"),GET_REQUEST:"".concat(qe,"/GET_REQUEST"),GET_SUCCESS:"".concat(qe,"/GET_SUCCESS"),GET_FAILURE:"".concat(qe,"/GET_FAILURE"),SET_REQUEST:"".concat(qe,"/SET_REQUEST"),SET_SUCCESS:"".concat(qe,"/SET_SUCCESS"),SET_FAILURE:"".concat(qe,"/SET_FAILURE"),ADD_REQUEST:"".concat(qe,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(qe,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(qe,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(qe,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(qe,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(qe,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(qe,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(qe,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(qe,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(qe,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(qe,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(qe,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(qe,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(qe,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(qe,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(qe,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(qe,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(qe,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(qe,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(qe,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(qe,"/TRANSACTION_FAILURE")};ft.actionTypes=R2;var P2={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};ft.defaultConfig=P2;var gse=["collection","collectionGroup","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];ft.methodsToAddFromFirestore=gse;var mse={actionsPrefix:qe,actionTypes:R2,defaultConfig:P2};ft.default=mse;var Jf={},na={},rr={};function yse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var vse=yse,_se=Ta;function bse(t,e){var n=!0;return _se(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var wse=bse,Ese=vse,Ose=wse,Tse=yr,Sse=pt,Ase=Ow;function Ise(t,e,n){var r=Sse(t)?Ese:Ose;return n&&Ase(t,e,n)&&(e=void 0),r(t,Tse(e))}var kse=Ise,ed={};Object.defineProperty(ed,"__esModule",{value:!0});ed.mapWithFirebaseAndDispatch=qse;ed.wrapInDispatch=Fse;var xse=C2(Cw),jv=C2(Pt);function C2(t){return t&&t.__esModule?t:{default:t}}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){return Nse(t)||Cse(t)||D2(t)||Pse()}function Pse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nse(t){if(Array.isArray(t))return H1(t)}function Dse(t,e){return Mse(t)||$se(t,e)||D2(t,e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2(t,e){if(!!t){if(typeof t=="string")return H1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(t,e)}}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $se(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Mse(t){if(Array.isArray(t))return t}function jse(t,e){var n=t.payload;return typeof n=="function"?n(e):n}function Fse(t,e){var n=e.ref,r=e.meta,i=r===void 0?{}:r,o=e.method,s=e.args,a=s===void 0?[]:s,u=e.types,l=Dse(u,3),f=l[0],c=l[1],d=l[2];return t({type:(0,jv.default)(f)?f.type:f,meta:i,payload:(0,jv.default)(f)?f.payload:{args:a}}),n[o].apply(n,Rse(a)).then(function(g){var y=(0,jv.default)(c),m={type:y?c.type:c,meta:i,payload:y&&c.payload?jse(c,g):{args:a}};return y&&c.preserve&&(m.preserve=c.preserve),y&&c.merge&&(m.merge=c.merge),t(m),g}).catch(function(g){return t({type:d,meta:i,payload:g}),Promise.reject(g)})}function Use(t,e){return function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(t,[t,e].concat(i))}}}function qse(t,e,n,r){var i=Use(t,e);return th(th({},(0,xse.default)(n,i)),r.reduce(function(o,s){var a=s.action,u=s.name;return th(th({},o),{},N2({},u,i(a)))},{}))}var ut={},Bse=hm,Vse=1,zse=4;function Hse(t){return Bse(t,Vse|zse)}var Wse=Hse,Gse=Zb;function Kse(t,e){for(var n=t.length;n--&&Gse(e,t[n],0)>-1;);return n}var Qse=Kse,Yse=Zb;function Xse(t,e){for(var n=-1,r=t.length;++n<r&&Yse(e,t[n],0)>-1;);return n}var L2=Xse,Zse=_w,Jse=QC,eae=Mw,tae=Qse,nae=L2,mI=jw,rae=Ea;function iae(t,e,n){if(t=rae(t),t&&(n||e===void 0))return Jse(t);if(!t||!(e=Zse(e)))return t;var r=mI(t),i=mI(e),o=nae(r,i),s=tae(r,i)+1;return eae(r,o,s).join("")}var oae=iae,sae=am,aae=wa,uae=Wf,lae=pt,cae=Zi,fae=ea.exports,dae=Gf,hae=sm,pae="[object Map]",gae="[object Set]",mae=Object.prototype,yae=mae.hasOwnProperty;function vae(t){if(t==null)return!0;if(cae(t)&&(lae(t)||typeof t=="string"||typeof t.splice=="function"||fae(t)||hae(t)||uae(t)))return!t.length;var e=aae(t);if(e==pae||e==gae)return!t.size;if(dae(t))return!sae(t).length;for(var n in t)if(yae.call(t,n))return!1;return!0}var _ae=vae;Object.defineProperty(ut,"__esModule",{value:!0});ut.attachListener=$ae;ut.dataByIdSnapshot=zw;ut.detachListener=Mae;ut.dispatchListenerResponse=Bae;ut.firestoreRef=B2;ut.getBaseQueryName=Dae;ut.getPopulateActions=Vae;ut.getPopulateChild=xp;ut.getQueryConfig=G1;ut.getQueryConfigs=jae;ut.getQueryName=cl;ut.getSnapshotByObject=Nae;ut.listenerExists=Lae;ut.orderedFromSnap=G2;ut.populateList=K1;ut.promisesForPopulate=K2;ut.queryStrToObj=Am;ut.snapshotCache=void 0;var bae=Ei(Wse),kp=Ei(Qf),yI=Ei(_i),wae=Ei(ll),Eae=Ei(xw),vI=Ei(vm),Oae=Ei(oae),$2=Ei(_ae),Tae=Ei(jN),Cu=Ei(Pt),Vs=ft,Sae=["collection","collectionGroup","doc","subcollections","storeAs"],Aae=["collection","collectionGroup","subcollections"];function Ei(t){return t&&t.__esModule?t:{default:t}}function Iae(t){return xae(t)||U2(t)||F2(t)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(t){if(Array.isArray(t))return t}function M2(t,e){if(t==null)return{};var n=Rae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Rae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){j2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(t){return Cae(t)||U2(t)||F2(t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2(t,e){if(!!t){if(typeof t=="string")return W1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W1(t,e)}}function U2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cae(t){if(Array.isArray(t))return W1(t)}function W1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jo=new WeakMap;ut.snapshotCache=jo;function Nae(t){return jo.get(t)}function Bw(t,e){if(!Array.isArray(e))throw new Error("where parameter must be an array.");return Array.isArray(e[0])?e.reduce(function(n,r){return Bw(n,r)},t):t.where.apply(t,ti(e))}function Vw(t,e){if(!Array.isArray(e)&&!(typeof e=="string"||e instanceof String))throw new Error("orderBy parameter must be an array or string.");return typeof e=="string"||e instanceof String?t.orderBy(e):typeof e[0]=="string"||e[0]instanceof String?t.orderBy.apply(t,ti(e)):e.reduce(function(n,r){return Vw(n,r)},t)}function So(t){return[].concat(t)}function q2(t,e){return Array.isArray(e)&&e.forEach(function(n){if(n.collection){if(typeof t.collection!="function")throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(n.collection,'" contains a doc parameter.'));t=t.collection(n.collection)}if(n.doc&&(t=t.doc(n.doc)),n.where&&(t=Bw(t,n.where)),n.orderBy&&(t=Vw(t,n.orderBy)),n.limit&&(t=t.limit(n.limit)),n.startAt){var r;t=(r=t).startAt.apply(r,ti(So(n.startAt)))}if(n.startAfter){var i;t=(i=t).startAfter.apply(i,ti(So(n.startAfter)))}if(n.endAt){var o;t=(o=t).endAt.apply(o,ti(So(n.endAt)))}if(n.endBefore){var s;t=(s=t).endBefore.apply(s,ti(So(n.endBefore)))}t=q2(t,n.subcollections)}),t}function B2(t,e){var n,r,i,o;if(!t.firestore)throw new Error("Firestore must be required and initalized.");var s=e.collection,a=e.collectionGroup,u=e.doc,l=e.subcollections,f=e.where,c=e.orderBy,d=e.limit,g=e.startAt,y=e.startAfter,m=e.endAt,_=e.endBefore,p=t.firestore();if(s&&a)throw new Error("Reference cannot contain both Collection and CollectionGroup.");return s&&(p=p.collection(s)),a&&(p=p.collectionGroup(a)),u&&(p=p.doc(u)),p=q2(p,l),f&&(p=Bw(p,f)),c&&(p=Vw(p,c)),d&&(p=p.limit(d)),g&&(p=(n=p).startAt.apply(n,ti(So(g)))),y&&(p=(r=p).startAfter.apply(r,ti(So(y)))),m&&(p=(i=p).endAt.apply(i,ti(So(m)))),_&&(p=(o=p).endBefore.apply(o,ti(So(_)))),p}function V2(t,e){return typeof e=="string"||e instanceof String||(0,Tae.default)(e)?"".concat(t,"=").concat(e):typeof e[0]=="string"||e[0]instanceof String?"".concat(t,"=").concat(e.join(":")):e&&typeof e.toString=="function"?"".concat(t,"=").concat(e.toString()):e.map(function(n){return V2(t,n)})}function z2(t){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce(function(e,n){return t[n]?Ni(Ni({},e),{},j2({},n,t[n])):e},{})}function H2(t){return Object.keys(t).filter(function(e){return t[e]!==void 0}).map(function(e){return V2(e,t[e])}).join("&")}function cl(t){if(typeof t=="string"||t instanceof String)return t;var e=t.collection,n=t.collectionGroup,r=t.doc,i=t.subcollections,o=t.storeAs,s=M2(t,Sae);if(!e&&!n)throw new Error("Collection or Collection Group is required to build query name");if(o)return o;var a=e||n;if(r&&(a=a.concat("/".concat(r))),e&&i){console.error('Queries with subcollections must use "storeAs" to prevent invalid store updates. This closley matches the upcoming major release (v1), which stores subcollections at the top level by default.');var u=i.map(function(f){return cl(f)});a="".concat(a,"/").concat(u.join("/"))}var l=z2(s);if(!(0,$2.default)(l)){if(l.where&&!Array.isArray(l.where))throw new Error("where parameter must be an array.");a=a.concat("?",H2(l))}return a}function Dae(t){if(typeof t=="string"||t instanceof String)return t;var e=t.collection,n=t.collectionGroup,r=t.subcollections,i=M2(t,Aae);if(!e&&!n)throw new Error("Collection or Collection Group is required to build query name");var o=e||n;if(e&&r){var s=r.map(function(u){return cl(u)});o="".concat(o,"/").concat(s.join("/"))}var a=z2(i);if(!(0,$2.default)(a)){if(a.where&&!Array.isArray(a.where))throw new Error("where parameter must be an array.");o=o.concat("?",H2(a))}return o}function W2(t,e){if(!e)throw new Error("Meta data is required to attach listener.");if(!t||!t._||!t._.listeners)throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function Lae(t,e){W2(t,e);var n=cl(e);return!!t._.listeners[n]}function $ae(t,e,n,r){W2(t,n);var i=cl(n);return t._.listeners[i]||(t._.listeners[i]=r),e({type:Vs.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),t._.listeners}function Mae(t,e,n){var r=cl(n);t._.listeners[r]&&(t._.listeners[r](),delete t._.listeners[r]),e({type:Vs.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})}function Am(t,e){var n=e||(0,Oae.default)(t,["/"]).split("/"),r=Iae(n),i=r[0],o=r[1],s=r.slice(2),a={};return i&&(a.collection=i),o&&(a.doc=o),s.length&&(a.subcollections=[Am("",s)]),a}function G1(t){if(typeof t=="string"||t instanceof String)return Am(t);if((0,Cu.default)(t)){if(!t.collection&&!t.collectionGroup&&!t.doc)throw new Error("Collection, Collection Group and/or Doc are required parameters within query definition object.");return t}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function jae(t){if(Array.isArray(t))return t.map(G1);if(typeof t=="string"||t instanceof String)return Am(t);if((0,Cu.default)(t))return[G1(t)];throw new Error("Querie(s) must be an Array or a string.")}function G2(t){var e=[];if(t.data&&t.exists){var n=(0,Cu.default)(t.data())?Ni({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};jo.set(n,t),e.push(n)}else t.forEach&&t.forEach(function(r){var i=(0,Cu.default)(r.data())?Ni({id:r.id},r.data()||r.data):{id:r.id,data:r.data()};jo.set(i,r),e.push(i)});return jo.set(e,t),e}function zw(t){var e={};if(t.data){var n=t.exists?t.data():null;n&&jo.set(n,t),e[t.id]=n}else t.forEach&&t.forEach(function(r){var i=r.data()||r;jo.set(i,r),e[r.id]=i});return!!e&&Object.keys(e).length?(jo.set(e,t),e):null}function xp(t,e,n){return B2(t,{collection:e.root,doc:n}).get().then(function(r){return Ni({id:n},r.data())})}function K1(t,e,n,r){return r[n.root]||(0,kp.default)(r,n.root,{}),Promise.all((0,wae.default)(e,function(i,o){var s=i===!0||n.populateByKey?o:i;return xp(t,n,s).then(function(a){return a?(0,kp.default)(r,"".concat(n.root,".").concat(s),a):r})}))}function Fae(t){if(typeof t=="string"||t instanceof String)return t;var e=t.split(":");return{child:e[0],root:e[1]}}function bI(t){return Array.isArray(t)?t.map(function(e){return(0,Cu.default)(e)?e:Fae(e)}):t}function K2(t,e,n,r){var i=[],o={},s=bI(typeof r=="function"?r(e,n):r),a=s.some(function(u){return(0,Eae.default)(n,u.child)});return a?s.forEach(function(u){var l=(0,yI.default)(n,u.child);return typeof l=="string"||l instanceof String?i.push(xp(t,u,l).then(function(f){f&&(0,kp.default)(o,"".concat(u.storeAs?u.storeAs:u.root,".").concat(l),f)})):i.push(K1(t,l,u,o))}):(0,vI.default)(n,function(u,l){var f=bI(typeof r=="function"?r(l,u):r);(0,vI.default)(f,function(c){var d=(0,yI.default)(u,c.child);if(!!d){if(typeof d=="string"||d instanceof String)return i.push(xp(t,c,d).then(function(g){return g&&(0,kp.default)(o,"".concat(c.storeAs?c.storeAs:c.root,".").concat(d),g),o}));if(Array.isArray(d)||(0,Cu.default)(d))return i.push(K1(t,d,c,o))}})}),Promise.all(i).then(function(){return o})}var Uae={added:Vs.actionTypes.DOCUMENT_ADDED,removed:Vs.actionTypes.DOCUMENT_REMOVED,modified:Vs.actionTypes.DOCUMENT_MODIFIED};function qae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ni(Ni({},(0,bae.default)(e)),{},{path:t.doc.ref.path});return e.subcollections&&!e.storeAs?n.subcollections[0]=Ni(Ni({},n.subcollections[0]),{},{doc:t.doc.id}):n.doc=t.doc.id,{type:Uae[t.type]||Vs.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:t.doc.data(),ordered:{oldIndex:t.oldIndex,newIndex:t.newIndex}}}}function Bae(t){var e=t.dispatch,n=t.docData,r=t.meta,i=t.firebase,o=i._.config||{},s=o.mergeOrdered,a=o.mergeOrderedDocUpdates,u=o.mergeOrderedCollectionUpdates,l=typeof n.docChanges=="function"?n.docChanges():n.docChanges;l&&l.length<n.size?l.forEach(function(f){e(qae(f,r))}):e({type:Vs.actionTypes.LISTENER_RESPONSE,meta:r,payload:{data:zw(n),ordered:G2(n)},merge:{docs:s&&a,collections:s&&u}})}function Vae(t){var e=t.firebase,n=t.docData,r=t.meta;return K2(e,n.id,zw(n),r.populates).then(function(i){return Object.keys(i).map(function(o){return{meta:{collection:o},payload:{data:i[o]},requesting:!1,requested:!0}})}).catch(function(i){return console.error("Error with populate:",i,r),Promise.reject(i)})}Object.defineProperty(rr,"__esModule",{value:!0});rr.add=Q2;rr.default=void 0;rr.deleteRef=Kae;rr.get=Y2;rr.runTransaction=eD;rr.set=Gae;rr.setListener=Rp;rr.setListeners=Z2;rr.unsetListener=Hw;rr.unsetListeners=J2;rr.update=X2;var zae=Hae(kse),fl=ed,Rt=ft,ot=ut;function Hae(t){return t&&t.__esModule?t:{default:t}}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ds={};function Q2(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var s=(0,ot.getQueryConfig)(n);return(0,fl.wrapInDispatch)(e,{ref:(0,ot.firestoreRef)(t,s),method:"add",meta:s,args:i,types:[Rt.actionTypes.ADD_REQUEST,{type:Rt.actionTypes.ADD_SUCCESS,payload:function(u){var l={id:u.id,data:i[0]};return ot.snapshotCache.set(l,u),l}},Rt.actionTypes.ADD_FAILURE]})}function Gae(t,e,n){for(var r=(0,ot.getQueryConfig)(n),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return(0,fl.wrapInDispatch)(e,{ref:(0,ot.firestoreRef)(t,r),method:"set",meta:r,args:o,types:[Rt.actionTypes.SET_REQUEST,Rt.actionTypes.SET_SUCCESS,Rt.actionTypes.SET_FAILURE]})}function Y2(t,e,n){var r=(0,ot.getQueryConfig)(n),i=t._.config||{},o=i.mergeOrdered,s=i.mergeOrderedDocUpdates,a=i.mergeOrderedCollectionUpdates;return(0,fl.wrapInDispatch)(e,{ref:(0,ot.firestoreRef)(t,r),method:"get",meta:r,types:[Rt.actionTypes.GET_REQUEST,{type:Rt.actionTypes.GET_SUCCESS,payload:function(l){return{data:(0,ot.dataByIdSnapshot)(l),ordered:(0,ot.orderedFromSnap)(l)}},merge:{docs:o&&s,collections:o&&a}},Rt.actionTypes.GET_FAILURE]})}function X2(t,e,n){for(var r=(0,ot.getQueryConfig)(n),i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return(0,fl.wrapInDispatch)(e,{ref:(0,ot.firestoreRef)(t,r),method:"update",meta:r,args:o,types:[Rt.actionTypes.UPDATE_REQUEST,Rt.actionTypes.UPDATE_SUCCESS,Rt.actionTypes.UPDATE_FAILURE]})}function Kae(t,e,n){var r=(0,ot.getQueryConfig)(n),i=t._.config;return!r.doc||r.subcollections&&!(0,zae.default)(r.subcollections,"doc")?typeof i.onAttemptCollectionDelete=="function"?i.onAttemptCollectionDelete(n,e,t):Promise.reject(new Error("Only documents can be deleted.")):(0,fl.wrapInDispatch)(e,{ref:(0,ot.firestoreRef)(t,r),method:"delete",meta:r,types:[Rt.actionTypes.DELETE_REQUEST,{type:Rt.actionTypes.DELETE_SUCCESS,preserve:t._.config.preserveOnDelete},Rt.actionTypes.DELETE_FAILURE]})}function Rp(t,e,n,r,i){var o=(0,ot.getQueryConfig)(n),s=(0,ot.firestoreRef)(t,o).onSnapshot(function(a){if(!o.populates){(0,ot.dispatchListenerResponse)({dispatch:e,docData:a,meta:o,firebase:t}),typeof r=="function"&&r(a);return}(0,ot.getPopulateActions)({firebase:t,docData:a,meta:o}).then(function(u){u.forEach(function(l){e(EI(EI({},l),{},{type:Rt.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))}),(0,ot.dispatchListenerResponse)({dispatch:e,docData:a,meta:o,firebase:t})}).catch(function(u){var l=t._.config||{},f=l.logListenerError;f!==!1&&f!==!1&&!!console&&typeof console.error=="function"&&console.error("redux-firestore error populating:",u),typeof i=="function"&&i(u)})},function(a){var u=t._.config||{},l=u.mergeOrdered,f=u.mergeOrderedDocUpdates,c=u.mergeOrderedCollectionUpdates,d=u.logListenerError,g=u.preserveOnListenerError;d!==!1&&!!console&&typeof console.error=="function"&&console.error("redux-firestore listener error:",a),e({type:Rt.actionTypes.LISTENER_ERROR,meta:o,payload:a,merge:{docs:l&&f,collections:l&&c},preserve:g}),typeof i=="function"&&i(a)});return(0,ot.attachListener)(t,e,o,s),s}function Z2(t,e,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config;if(r.oneListenerPerPath)n.forEach(function(o){var s=(0,ot.getQueryName)(o),a=Ds[s]||0;Ds[s]=a+1,!(a>0)&&Rp(t,e,o)});else{var i=r.allowMultipleListeners;n.forEach(function(o){var s=(0,ot.getQueryName)(o),a=Ds[s]||0,u=typeof i=="function"?i(o,t._.listeners):i;Ds[s]=a+1,(a===0||u)&&Rp(t,e,o)})}}function Hw(t,e,n){return(0,ot.detachListener)(t,e,(0,ot.getQueryConfig)(n))}function J2(t,e,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config,i=r.allowMultipleListeners;n.forEach(function(o){var s=(0,ot.getQueryName)(o),a=Ds[s]>=1,u=typeof i=="function"?i(o,t._.listeners):i;a&&(Ds[s]-=1,(Ds[s]===0||u)&&Hw(t,e,o))})}function eD(t,e,n){return(0,fl.wrapInDispatch)(e,{ref:t.firestore(),method:"runTransaction",args:[n],types:[Rt.actionTypes.TRANSACTION_START,Rt.actionTypes.TRANSACTION_SUCCESS,Rt.actionTypes.TRANSACTION_FAILURE]})}var Qae={get:Y2,firestoreRef:ot.firestoreRef,add:Q2,update:X2,setListener:Rp,setListeners:Z2,unsetListener:Hw,unsetListeners:J2,runTransaction:eD};rr.default=Qae;function Q1(t){return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}Object.defineProperty(na,"__esModule",{value:!0});na.firestoreActions=na.default=void 0;var tD=Yae(rr);na.firestoreActions=tD;function nD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(nD=function(i){return i?n:e})(t)}function Yae(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Q1(t)!=="object"&&typeof t!="function")return{default:t};var n=nD(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}var Xae={firestoreActions:tD};na.default=Xae;Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default=tue;Jf.getFirestore=nue;var Zae=eue(Sw),Fv=na,Jae=ed,OI=ft;function eue(t){return t&&t.__esModule?t:{default:t}}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pp;function tue(t,e,n){var r={listeners:{},config:nh(nh({},OI.defaultConfig),e)};t._=(0,Zae.default)(r,t._);var i=[{action:Fv.firestoreActions.deleteRef,name:"delete"},{action:Fv.firestoreActions.setListener,name:"onSnapshot"}],o=(0,Jae.mapWithFirebaseAndDispatch)(t,n,Fv.firestoreActions,i),s=OI.methodsToAddFromFirestore.reduce(function(a,u){return t.firestore&&typeof t.firestore()[u]=="function"?nh(nh({},a),{},Y1({},u,t.firestore()[u].bind(t.firestore()))):a},{});return Pp=Object.assign(s,t.firestore,{_:t._},e.helpersNamespace?Y1({},e.helpersNamespace,o):o),Pp}function nue(){if(!Pp)throw new Error("Firestore instance does not yet exist. Check your setup.");return Pp}Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default=aue;Sm.getFirestore=uue;var rue=ft,iue=oue(Jf);function oue(t){return t&&t.__esModule?t:{default:t}}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cp;function aue(t,e){return function(n){return function(r,i,o){var s=n(r,i,o),a=AI(AI({},rue.defaultConfig),e);return Cp=(0,iue.default)(t.firebase_||t,a,s.dispatch),s.firestore=Cp,s}}}function uue(){if(!Cp)throw new Error("Firebase instance does not yet exist. Check your compose function.");return Cp}var Im={};const lue=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=typeof e[0]!="function"&&e.shift(),i=e;if(typeof r>"u")throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(o,s){for(var a=arguments.length,u=Array(a>2?a-2:0),l=2;l<a;l++)u[l-2]=arguments[l];var f=typeof o>"u",c=typeof s>"u";return f&&c&&r?r:i.reduce(function(d,g,y){if(typeof g>"u")throw new TypeError("An undefined reducer was passed in at index "+y);return g.apply(void 0,[d,s].concat(u))},f&&!c&&r?r:o)}},cue=Object.freeze(Object.defineProperty({__proto__:null,default:lue},Symbol.toStringTag,{value:"Module"})),fue=nR(cue);var Un={},due=_w,hue=Mw,pue=L2,II=jw,gue=Ea,mue=/^\s+/;function yue(t,e,n){if(t=gue(t),t&&(n||e===void 0))return t.replace(mue,"");if(!t||!(e=due(e)))return t;var r=II(t),i=pue(r,II(e));return hue(r,i).join("")}var vue=yue,_ue=Ea;function bue(){var t=arguments,e=_ue(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var wue=bue,Eue=vi,Oue=Fn,Tue="[object Boolean]";function Sue(t){return t===!0||t===!1||Oue(t)&&Eue(t)==Tue}var Aue=Sue;Object.defineProperty(Un,"__esModule",{value:!0});Un.combineReducers=Fue;Un.createReducer=que;Un.getDotStrPath=jue;Un.getSlashStrPath=Mue;Un.pathFromMeta=iD;Un.pathToArr=rD;Un.preserveValuesFromState=Bue;Un.updateItemInArray=Uue;var Iue=td(AN),kue=td(vue),xue=td(wue),Rue=td(bm),Pue=td(Aue);function td(t){return t&&t.__esModule?t:{default:t}}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uv(t){return $ue(t)||Lue(t)||Due(t)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(t,e){if(!!t){if(typeof t=="string")return X1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X1(t,e)}}function Lue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ue(t){if(Array.isArray(t))return X1(t)}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rD(t){return t?t.split(/\//).filter(function(e){return!!e}):[]}function Mue(t){return(0,kue.default)((0,xue.default)(t,/[.]/g,"/"),"/")}function jue(t){return rD(t).join(".")}function Fue(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}}function iD(t){if(!t)throw new Error("Action meta is required to build path for reducers.");var e=t.collection,n=t.collectionGroup,r=t.doc,i=t.subcollections,o=t.storeAs;if(o)return r?[o,r]:[o];if(t.path)return t.path.split("/");if(!e&&!n)throw new Error("Collection or Collection Group is required to construct reducer path.");var s=[e||n];if(r&&(s=[].concat(Uv(s),[r])),!i)return s;var a=i.map(iD);return[].concat(Uv(s),Uv((0,Iue.default)(a)))}function Uue(t,e,n){var r=!1,i=Array.isArray(t)?t.map(function(o){if(!o||o.id!==e)return o;r=!0;var s=n(o);return s}):[];return r||i.push(n({id:e})),i}function que(t,e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;return e.hasOwnProperty(i.type)?e[i.type](r,i):r}}function Bue(t,e,n){if((0,Pue.default)(e))return n?xI(xI({},t),n):t;if(typeof e=="function")return e(t,n);if(Array.isArray(e))return(0,Rue.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")}var oD={},Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.default=Xue;var ql=sD(h2),qv=sD(_i),ss=ft,Wr=Un;function sD(t){return t&&t.__esModule?t:{default:t}}var Vue=ss.actionTypes.CLEAR_DATA,zue=ss.actionTypes.GET_SUCCESS,Hue=ss.actionTypes.LISTENER_RESPONSE,Wue=ss.actionTypes.LISTENER_ERROR,Gue=ss.actionTypes.DELETE_SUCCESS,Kue=ss.actionTypes.DOCUMENT_ADDED,Que=ss.actionTypes.DOCUMENT_MODIFIED,Yue=ss.actionTypes.DOCUMENT_REMOVED;function Xue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case zue:case Hue:var n=e.meta,r=e.payload;if(!r||r.data===void 0)return t;var i=function d(g){return g.subcollections?d(g.subcollections.slice(-1)[0]):g.doc},o=i(n),s=o?(0,qv.default)(r.data,o):r.data,a=(0,qv.default)(t,n.storeAs?[n.storeAs]:(0,Wr.pathFromMeta)(n));return!a||n.subcollections?(0,ql.default)(Object,n.storeAs?[n.storeAs]:(0,Wr.pathFromMeta)(n),s,t):(0,ql.default)(Object,n.storeAs?[n.storeAs]:(0,Wr.pathFromMeta)(n),s,t);case Que:case Kue:return(0,ql.default)(Object,(0,Wr.pathFromMeta)(e.meta),e.payload.data,t);case Yue:case Gue:var u=(0,Wr.pathFromMeta)(e.meta),l=(0,ql.default)(Object,u,null,t);return e.preserve&&e.preserve.data?(0,Wr.preserveValuesFromState)(t,e.preserve.data,l):l;case Vue:return e.preserve&&e.preserve.data?(0,Wr.preserveValuesFromState)(t,e.preserve.data,{}):{};case Wue:var f=(0,ql.default)(Object,(0,Wr.pathFromMeta)(e.meta),null,t);if(e.preserve&&e.preserve.data)return(0,Wr.preserveValuesFromState)(t,e.preserve.data,f);var c=(0,qv.default)(t,(0,Wr.pathFromMeta)(e.meta));return c?t:f;default:return t}}var km={};Object.defineProperty(km,"__esModule",{value:!0});km.default=void 0;var xm=ft,wc=ut,Zue=Un;function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){Z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){return rle(t)||nle(t)||tle(t)||ele()}function ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tle(t,e){if(!!t){if(typeof t=="string")return J1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(t,e)}}function nle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rle(t){if(Array.isArray(t))return J1(t)}function J1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ile=xm.actionTypes.CLEAR_ERRORS,aD=xm.actionTypes.CLEAR_ERROR,uD=xm.actionTypes.LISTENER_ERROR,lD=xm.actionTypes.ERROR;function ole(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.type;switch(r){case uD:case lD:return t.indexOf((0,wc.getQueryName)(n))!==-1?t:[].concat(Jue(t),[(0,wc.getQueryName)(n)]);case ile:return[];case aD:return t.filter(function(i){return i!==(0,wc.getQueryName)(n)});default:return t}}function sle(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload,i=e.type;switch(i){case lD:case uD:return rh(rh({},t),{},Z1({},(0,wc.getQueryName)(n),r));case aD:return rh(rh({},t),{},Z1({},(0,wc.getQueryName)(n),null));default:return t}}var ale=(0,Zue.combineReducers)({byQuery:sle,allIds:ole}),ule=ale;km.default=ule;var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.default=void 0;var lle=fle(wm),Np=ft,cle=Un;function fle(t){return t&&t.__esModule?t:{default:t}}function dle(t){return mle(t)||gle(t)||ple(t)||hle()}function hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t,e){if(!!t){if(typeof t=="string")return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(t,e)}}function gle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mle(t){if(Array.isArray(t))return e_(t)}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){cD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.path,i=e.payload;switch(n){case Np.actionTypes.SET_LISTENER:return CI(CI({},t),{},cD({},i.name,{name:i.name,path:r}));case Np.actionTypes.UNSET_LISTENER:return(0,lle.default)(t,[i.name]);default:return t}}function vle(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case Np.actionTypes.SET_LISTENER:return[].concat(dle(t),[r.name]);case Np.actionTypes.UNSET_LISTENER:return t.filter(function(i){return i!==r.name});default:return t}}var _le=(0,cle.combineReducers)({byId:yle,allIds:vle}),ble=_le;Rm.default=ble;var Gw={};function wle(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}var Ele=wle,Ole=Ta;function Tle(t,e,n,r){return Ole(t,function(i,o,s){e(r,i,n(i),s)}),r}var Sle=Tle,Ale=Ele,Ile=Sle,kle=yr,xle=pt;function Rle(t,e){return function(n,r){var i=xle(n)?Ale:Ile,o=e?e():{};return i(n,t,kle(r),o)}}var fD=Rle,Ple=el,Cle=fD,Nle=Cle(function(t,e,n){Ple(t,n,e)}),Dle=Nle,Lle=ow,$le=LN,Mle=yr,jle=pt,Fle=o2;function Ule(t,e){var n=jle(t)?Lle:$le;return n(t,Fle(Mle(e)))}var qle=Ule,Bv=oN,Ble=MC,Vle=gw,zle=1/0,Hle=Bv&&1/Vle(new Bv([,-0]))[1]==zle?function(t){return new Bv(t)}:Ble,Wle=Hle,Gle=hw,Kle=Jb,Qle=u2,Yle=pw,Xle=Wle,Zle=gw,Jle=200;function ece(t,e,n){var r=-1,i=Kle,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Qle;else if(o>=Jle){var l=e?null:Xle(t);if(l)return Zle(l);s=!1,i=Yle,u=new Gle}else u=e?[]:a;e:for(;++r<o;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,s&&c===c){for(var d=u.length;d--;)if(u[d]===c)continue e;e&&u.push(c),a.push(f)}else i(u,c,n)||(u!==a&&u.push(c),a.push(f))}return a}var tce=ece,nce=gm,rce=yr,ice=ym,oce=tce,NI=ww,sce=Iw,ace=ice(function(t){var e=sce(t);return NI(e)&&(e=void 0),oce(nce(t,1,NI,!0),rce(e))}),uce=ace;Object.defineProperty(Gw,"__esModule",{value:!0});Gw.default=Rce;var dD=Ji(Sw),lce=Ji(Sa),cce=Ji(Dle),fce=Ji(ll),hD=Ji(wm),DI=Ji(qle),dce=Ji(uce),Jc=Ji(_i),Vv=Ji(Lw),Aa=ft,ni=Un,lo;function Ji(t){return t&&t.__esModule?t:{default:t}}function hce(t,e){return mce(t)||gce(t,e)||pD(t,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function mce(t){if(Array.isArray(t))return t}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ru(t){return _ce(t)||vce(t)||pD(t)||yce()}function yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pD(t,e){if(!!t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(t,e)}}function vce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ce(t){if(Array.isArray(t))return t_(t)}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bce=Aa.actionTypes.DOCUMENT_ADDED,wce=Aa.actionTypes.GET_SUCCESS,Ece=Aa.actionTypes.LISTENER_RESPONSE,Oce=Aa.actionTypes.CLEAR_DATA,Tce=Aa.actionTypes.DELETE_SUCCESS,Sce=Aa.actionTypes.DOCUMENT_REMOVED,Ace=Aa.actionTypes.DOCUMENT_MODIFIED;function Ice(t,e,n,r){var i=e.doc,o=n||{},s=o.oldIndex,a=o.newIndex,u=[].concat(ru(t.slice(0,s)),ru(t.slice(s+1)));return[].concat(ru(u.slice(0,a)),[Kn({id:i},r)||Kn({},t[s])],ru(u.slice(a)))}function Kw(t,e){if(e.payload.ordered){var n=e.payload.ordered,r=n.newIndex,i=n.oldIndex;if(r!==null&&i!==null&&r>-1&&i>-1&&r!==i)return Ice(t,e.meta,e.payload.ordered,e.payload.data)}if(!e.meta.subcollections||e.meta.storeAs)return(0,ni.updateItemInArray)(t,e.meta.doc,function(f){return Kn({id:e.meta.doc},e.payload.data)});var o=(0,ni.pathToArr)(e.meta.path),s=hce(o,4),a=s[1],u=s[2],l=s[3];return(0,ni.updateItemInArray)(t,a,function(f){return Kn(Kn({},f),{},br({},u,(0,ni.updateItemInArray)((0,Jc.default)(f,u,[]),l,function(c){return(0,dD.default)(c,e.payload.data)})))})}function kce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.meta,r=e.payload;return!n.subcollections||n.storeAs?[].concat(ru(t.slice(0,r.ordered.newIndex)),[Kn({id:n.doc},r.data)],ru(t.slice(r.ordered.newIndex))):Kw(t,e)}function $I(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,DI.default)(t,{id:e.meta.doc});var n=e.meta.subcollections[0];return n.doc?(0,ni.updateItemInArray)(t,e.meta.doc,function(r){var i=(0,Jc.default)(r,n.collection,[]);return i.length?Kn(Kn({},r),{},br({},n.collection,(0,DI.default)(t,{id:n.doc}))):r}):(0,ni.updateItemInArray)(t,e.meta.doc,function(r){return(0,hD.default)(r,[n.collection])})}function MI(t,e){var n=e.meta,r=e.merge,i=r===void 0?{doc:!0,collections:!0}:r;if(n.storeAs)return e.payload.ordered;var o=(0,Vv.default)(t),s=!!(0,Vv.default)(e.payload.ordered);if(n.doc&&i.doc&&o)return Kw(t,e);if(o&&i.collections){if(!s)return[];var a=t&&(0,cce.default)(t,"id");return(0,fce.default)(e.payload.ordered,function(l){var f=(0,Jc.default)(a,l.id);return!!f&&!(0,lce.default)(f,l)?Kn(Kn({},f),l):l})}if(n.doc&&n.subcollections){var u=n.subcollections[0];return o?(0,ni.updateItemInArray)(t,n.doc,function(l){return s?Kn(Kn({},l),{},br({},u.collection,(0,dce.default)((0,Jc.default)(l,u.collection,[]),e.payload.ordered,"id"))):(0,hD.default)(l,[u.collection])}):[br({id:n.doc},u.collection,e.payload.ordered)]}return n.doc&&o?(0,Vv.default)(e.payload.ordered)?(0,ni.updateItemInArray)(t,n.doc,function(l){return(0,dD.default)(l,e.payload.ordered[0])}):t:e.payload.ordered}var gD=(lo={},br(lo,bce,kce),br(lo,Ace,Kw),br(lo,Sce,$I),br(lo,Tce,$I),br(lo,Ece,MI),br(lo,wce,MI),lo),xce=(0,ni.createReducer)(void 0,gD);function Rce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!e.type)return t;if(e.type===Oce)return e.preserve&&e.preserve.ordered?(0,ni.preserveValuesFromState)(t,e.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(gD,e.type)||!e.meta||!e.meta.storeAs&&!e.meta.collection)return t;var n=e.meta.storeAs||e.meta.collection,r=(0,Jc.default)(t,n);return Kn(Kn({},t),{},br({},n,xce(r,e)))}var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.default=void 0;Ia.requestedReducer=bD;Ia.requestingReducer=_D;Ia.timestampsReducer=wD;var Pm=ft,n_=Un,ef=ut;function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){Nu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qw=Pm.actionTypes.SET_LISTENER,mD=Pm.actionTypes.UNSET_LISTENER,yD=Pm.actionTypes.LISTENER_ERROR,vD=Pm.actionTypes.LISTENER_RESPONSE;function _D(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case Qw:return ri(ri({},t),{},Nu({},(0,n_.getSlashStrPath)((0,ef.getQueryName)(r)),!0));case yD:case vD:case mD:return ri(ri({},t),{},Nu({},(0,n_.getSlashStrPath)((0,ef.getQueryName)(r)),!1));default:return t}}function bD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case Qw:case mD:return ri(ri({},t),{},Nu({},(0,ef.getQueryName)(r),!1));case yD:case vD:return ri(ri({},t),{},Nu({},(0,ef.getQueryName)(r),!0));default:return t}}function wD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.meta;switch(n){case Qw:return ri(ri({},t),{},Nu({},(0,ef.getQueryName)(r),Date.now()));default:return t}}var Pce=(0,n_.combineReducers)({requesting:_D,requested:bD,timestamps:wD});Ia.default=Pce;var Cm={};function Vt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pi(t){return!!t&&!!t[Me]}function Br(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===Uce}(t)||Array.isArray(t)||!!t[hu]||!!t.constructor[hu]||Nm(t)||Dm(t))}function Cce(t){return pi(t)||Vt(23,t),t[Me].t}function Wi(t,e,n){n===void 0&&(n=!1),Ho(t)===0?(n?Object.keys:pu)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ho(t){var e=t[Me];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Nm(t)?2:Dm(t)?3:0}function Fo(t,e){return Ho(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Dh(t,e){return Ho(t)===2?t.get(e):t[e]}function ED(t,e,n){var r=Ho(t);r===2?t.set(e,n):r===3?(t.delete(e),t.add(n)):t[e]=n}function OD(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Nm(t){return jce&&t instanceof Map}function Dm(t){return Fce&&t instanceof Set}function Ft(t){return t.o||t.t}function Yw(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=kD(t);delete e[Me];for(var n=pu(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Lm(t,e){return e===void 0&&(e=!1),Xw(t)||pi(t)||!Br(t)||(Ho(t)>1&&(t.set=t.add=t.clear=t.delete=Nce),Object.freeze(t),e&&Wi(t,function(n,r){return Lm(r,!0)},!0)),t}function Nce(){Vt(2)}function Xw(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function li(t){var e=i_[t];return e||Vt(18,t),e}function Zw(t,e){i_[t]||(i_[t]=e)}function tf(){return rf}function zv(t,e){e&&(li("Patches"),t.u=[],t.s=[],t.v=e)}function Dp(t){r_(t),t.p.forEach(Dce),t.p=null}function r_(t){t===rf&&(rf=t.l)}function FI(t){return rf={p:[],l:rf,h:t,m:!0,_:0}}function Dce(t){var e=t[Me];e.i===0||e.i===1?e.j():e.O=!0}function Hv(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||li("ES5").S(e,t,r),r?(n[Me].P&&(Dp(e),Vt(4)),Br(t)&&(t=Lp(e,t),e.l||$p(e,t)),e.u&&li("Patches").M(n[Me].t,t,e.u,e.s)):t=Lp(e,n,[]),Dp(e),e.u&&e.v(e.u,e.s),t!==$m?t:void 0}function Lp(t,e,n){if(Xw(e))return e;var r=e[Me];if(!r)return Wi(e,function(o,s){return UI(t,r,e,o,s,n)},!0),e;if(r.A!==t)return e;if(!r.P)return $p(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Yw(r.k):r.o;Wi(r.i===3?new Set(i):i,function(o,s){return UI(t,r,i,o,s,n)}),$p(t,i,!1),n&&t.u&&li("Patches").R(r,n,t.u,t.s)}return r.o}function UI(t,e,n,r,i,o){if(pi(i)){var s=Lp(t,i,o&&e&&e.i!==3&&!Fo(e.D,r)?o.concat(r):void 0);if(ED(n,r,s),!pi(s))return;t.m=!1}if(Br(i)&&!Xw(i)){if(!t.h.F&&t._<1)return;Lp(t,i),e&&e.A.l||$p(t,i)}}function $p(t,e,n){n===void 0&&(n=!1),t.h.F&&t.m&&Lm(e,n)}function Wv(t,e){var n=t[Me];return(n?Ft(n):t)[e]}function qI(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Hn(t){t.P||(t.P=!0,t.l&&Hn(t.l))}function Gv(t){t.o||(t.o=Yw(t.t))}function nf(t,e,n){var r=Nm(e)?li("MapSet").N(e,n):Dm(e)?li("MapSet").T(e,n):t.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:tf(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=a,l=of;s&&(u=[a],l=ic);var f=Proxy.revocable(u,l),c=f.revoke,d=f.proxy;return a.k=d,a.j=c,d}(e,n):li("ES5").J(e,n);return(n?n.A:tf()).p.push(r),r}function TD(t){return pi(t)||Vt(22,t),function e(n){if(!Br(n))return n;var r,i=n[Me],o=Ho(n);if(i){if(!i.P&&(i.i<4||!li("ES5").K(i)))return i.t;i.I=!0,r=BI(n,o),i.I=!1}else r=BI(n,o);return Wi(r,function(s,a){i&&Dh(i.t,s)===a||ED(r,s,e(a))}),o===3?new Set(r):r}(t)}function BI(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Yw(t)}function SD(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var u=this[Me];return of.get(u,o)},set:function(u){var l=this[Me];of.set(l,o,u)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Me];if(!a.P)switch(a.i){case 5:r(a)&&Hn(a);break;case 4:n(a)&&Hn(a)}}}function n(o){for(var s=o.t,a=o.k,u=pu(a),l=u.length-1;l>=0;l--){var f=u[l];if(f!==Me){var c=s[f];if(c===void 0&&!Fo(s,f))return!0;var d=a[f],g=d&&d[Me];if(g?g.t!==c:!OD(d,c))return!0}}var y=!!s[Me];return u.length!==pu(s).length+(y?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var u=0;u<s.length;u++)if(!s.hasOwnProperty(u))return!0;return!1}var i={};Zw("ES5",{J:function(o,s){var a=Array.isArray(o),u=function(f,c){if(f){for(var d=Array(c.length),g=0;g<c.length;g++)Object.defineProperty(d,""+g,t(g,!0));return d}var y=kD(c);delete y[Me];for(var m=pu(y),_=0;_<m.length;_++){var p=m[_];y[p]=t(p,f||!!y[p].enumerable)}return Object.create(Object.getPrototypeOf(c),y)}(a,o),l={i:a?5:4,A:s?s.A:tf(),P:!1,I:!1,D:{},l:s,t:o,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,Me,{value:l,writable:!0}),u},S:function(o,s,a){a?pi(s)&&s[Me].A===o&&e(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var f=l[Me];if(f){var c=f.t,d=f.k,g=f.D,y=f.i;if(y===4)Wi(d,function(b){b!==Me&&(c[b]!==void 0||Fo(c,b)?g[b]||u(d[b]):(g[b]=!0,Hn(f)))}),Wi(c,function(b){d[b]!==void 0||Fo(d,b)||(g[b]=!1,Hn(f))});else if(y===5){if(r(f)&&(Hn(f),g.length=!0),d.length<c.length)for(var m=d.length;m<c.length;m++)g[m]=!1;else for(var _=c.length;_<d.length;_++)g[_]=!0;for(var p=Math.min(d.length,c.length),h=0;h<p;h++)d.hasOwnProperty(h)||(g[h]=!0),g[h]===void 0&&u(d[h])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}function AD(){function t(r){if(!Br(r))return r;if(Array.isArray(r))return r.map(t);if(Nm(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],t(s[1])]}));if(Dm(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=t(r[o]);return Fo(r,hu)&&(i[hu]=r[hu]),i}function e(r){return pi(r)?t(r):r}var n="add";Zw("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,u=r,l=0;l<s.length-1;l++){var f=Ho(u),c=""+s[l];f!==0&&f!==1||c!=="__proto__"&&c!=="constructor"||Vt(24),typeof u=="function"&&c==="prototype"&&Vt(24),typeof(u=Dh(u,c))!="object"&&Vt(15,s.join("/"))}var d=Ho(u),g=t(o.value),y=s[s.length-1];switch(a){case"replace":switch(d){case 2:return u.set(y,g);case 3:Vt(16);default:return u[y]=g}case n:switch(d){case 1:return y==="-"?u.push(g):u.splice(y,0,g);case 2:return u.set(y,g);case 3:return u.add(g);default:return u[y]=g}case"remove":switch(d){case 1:return u.splice(y,1);case 2:return u.delete(y);case 3:return u.delete(o.value);default:return delete u[y]}default:Vt(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,u,l,f){var c=a.t,d=a.o;Wi(a.D,function(g,y){var m=Dh(c,g),_=Dh(d,g),p=y?Fo(c,g)?"replace":n:"remove";if(m!==_||p!=="replace"){var h=u.concat(g);l.push(p==="remove"?{op:p,path:h}:{op:p,path:h,value:_}),f.push(p===n?{op:"remove",path:h}:p==="remove"?{op:n,path:h,value:e(m)}:{op:"replace",path:h,value:e(m)})}})}(r,i,o,s);case 5:case 1:return function(a,u,l,f){var c=a.t,d=a.D,g=a.o;if(g.length<c.length){var y=[g,c];c=y[0],g=y[1];var m=[f,l];l=m[0],f=m[1]}for(var _=0;_<c.length;_++)if(d[_]&&g[_]!==c[_]){var p=u.concat([_]);l.push({op:"replace",path:p,value:e(g[_])}),f.push({op:"replace",path:p,value:e(c[_])})}for(var h=c.length;h<g.length;h++){var b=u.concat([h]);l.push({op:n,path:b,value:e(g[h])})}c.length<g.length&&f.push({op:"replace",path:u.concat(["length"]),value:c.length})}(r,i,o,s);case 3:return function(a,u,l,f){var c=a.t,d=a.o,g=0;c.forEach(function(y){if(!d.has(y)){var m=u.concat([g]);l.push({op:"remove",path:m,value:y}),f.unshift({op:n,path:m,value:y})}g++}),g=0,d.forEach(function(y){if(!c.has(y)){var m=u.concat([g]);l.push({op:n,path:m,value:y}),f.unshift({op:"remove",path:m,value:y})}g++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===$m?void 0:i}),s.push({op:"replace",path:[],value:r})}})}function ID(){function t(a,u){function l(){this.constructor=a}i(a,u),a.prototype=(l.prototype=u.prototype,new l)}function e(a){a.o||(a.D=new Map,a.o=new Map(a.t))}function n(a){a.o||(a.o=new Set,a.t.forEach(function(u){if(Br(u)){var l=nf(a.A.h,u,a);a.p.set(u,l),a.o.add(l)}else a.o.add(u)}))}function r(a){a.O&&Vt(3,JSON.stringify(Ft(a)))}var i=function(a,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])})(a,u)},o=function(){function a(l,f){return this[Me]={i:2,l:f,A:f?f.A:tf(),P:!1,I:!1,o:void 0,D:void 0,t:l,k:this,C:!1,O:!1},this}t(a,Map);var u=a.prototype;return Object.defineProperty(u,"size",{get:function(){return Ft(this[Me]).size}}),u.has=function(l){return Ft(this[Me]).has(l)},u.set=function(l,f){var c=this[Me];return r(c),Ft(c).has(l)&&Ft(c).get(l)===f||(e(c),Hn(c),c.D.set(l,!0),c.o.set(l,f),c.D.set(l,!0)),this},u.delete=function(l){if(!this.has(l))return!1;var f=this[Me];return r(f),e(f),Hn(f),f.t.has(l)?f.D.set(l,!1):f.D.delete(l),f.o.delete(l),!0},u.clear=function(){var l=this[Me];r(l),Ft(l).size&&(e(l),Hn(l),l.D=new Map,Wi(l.t,function(f){l.D.set(f,!1)}),l.o.clear())},u.forEach=function(l,f){var c=this;Ft(this[Me]).forEach(function(d,g){l.call(f,c.get(g),g,c)})},u.get=function(l){var f=this[Me];r(f);var c=Ft(f).get(l);if(f.I||!Br(c)||c!==f.t.get(l))return c;var d=nf(f.A.h,c,f);return e(f),f.o.set(l,d),d},u.keys=function(){return Ft(this[Me]).keys()},u.values=function(){var l,f=this,c=this.keys();return(l={})[ih]=function(){return f.values()},l.next=function(){var d=c.next();return d.done?d:{done:!1,value:f.get(d.value)}},l},u.entries=function(){var l,f=this,c=this.keys();return(l={})[ih]=function(){return f.entries()},l.next=function(){var d=c.next();if(d.done)return d;var g=f.get(d.value);return{done:!1,value:[d.value,g]}},l},u[ih]=function(){return this.entries()},a}(),s=function(){function a(l,f){return this[Me]={i:3,l:f,A:f?f.A:tf(),P:!1,I:!1,o:void 0,t:l,k:this,p:new Map,O:!1,C:!1},this}t(a,Set);var u=a.prototype;return Object.defineProperty(u,"size",{get:function(){return Ft(this[Me]).size}}),u.has=function(l){var f=this[Me];return r(f),f.o?!!f.o.has(l)||!(!f.p.has(l)||!f.o.has(f.p.get(l))):f.t.has(l)},u.add=function(l){var f=this[Me];return r(f),this.has(l)||(n(f),Hn(f),f.o.add(l)),this},u.delete=function(l){if(!this.has(l))return!1;var f=this[Me];return r(f),n(f),Hn(f),f.o.delete(l)||!!f.p.has(l)&&f.o.delete(f.p.get(l))},u.clear=function(){var l=this[Me];r(l),Ft(l).size&&(n(l),Hn(l),l.o.clear())},u.values=function(){var l=this[Me];return r(l),n(l),l.o.values()},u.entries=function(){var l=this[Me];return r(l),n(l),l.o.entries()},u.keys=function(){return this.values()},u[ih]=function(){return this.values()},u.forEach=function(l,f){for(var c=this.values(),d=c.next();!d.done;)l.call(f,d.value,d.value,this),d=c.next()},a}();Zw("MapSet",{N:function(a,u){return new o(a,u)},T:function(a,u){return new s(a,u)}})}function Lce(){SD(),ID(),AD()}function $ce(t){return t}function Mce(t){return t}var VI,rf,Jw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",jce=typeof Map<"u",Fce=typeof Set<"u",zI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$m=Jw?Symbol.for("immer-nothing"):((VI={})["immer-nothing"]=!0,VI),hu=Jw?Symbol.for("immer-draftable"):"__$immer_draftable",Me=Jw?Symbol.for("immer-state"):"__$immer_state",ih=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",Uce=""+Object.prototype.constructor,pu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,kD=Object.getOwnPropertyDescriptors||function(t){var e={};return pu(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},i_={},of={get:function(t,e){if(e===Me)return t;var n=Ft(t);if(!Fo(n,e))return function(i,o,s){var a,u=qI(o,s);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Br(r)?r:r===Wv(t.t,e)?(Gv(t),t.o[e]=nf(t.A.h,r,t)):r},has:function(t,e){return e in Ft(t)},ownKeys:function(t){return Reflect.ownKeys(Ft(t))},set:function(t,e,n){var r=qI(Ft(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Wv(Ft(t),e),o=i==null?void 0:i[Me];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(OD(n,i)&&(n!==void 0||Fo(t.t,e)))return!0;Gv(t),Hn(t)}return t.o[e]===n&&typeof n!="number"&&(n!==void 0||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return Wv(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,Gv(t),Hn(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ft(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Vt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Vt(12)}},ic={};Wi(of,function(t,e){ic[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ic.deleteProperty=function(t,e){return ic.set.call(this,t,e,void 0)},ic.set=function(t,e,n){return of.set.call(this,t[0],e,n,t[0])};var xD=function(){function t(n){var r=this;this.g=zI,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var u=r;return function(m){var _=this;m===void 0&&(m=a);for(var p=arguments.length,h=Array(p>1?p-1:0),b=1;b<p;b++)h[b-1]=arguments[b];return u.produce(m,function(v){var w;return(w=o).call.apply(w,[_,v].concat(h))})}}var l;if(typeof o!="function"&&Vt(6),s!==void 0&&typeof s!="function"&&Vt(7),Br(i)){var f=FI(r),c=nf(r,i,void 0),d=!0;try{l=o(c),d=!1}finally{d?Dp(f):r_(f)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return zv(f,s),Hv(m,f)},function(m){throw Dp(f),m}):(zv(f,s),Hv(l,f))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===$m&&(l=void 0),r.F&&Lm(l,!0),s){var g=[],y=[];li("Patches").M(i,l,g,y),s(g,y)}return l}Vt(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var f=arguments.length,c=Array(f>1?f-1:0),d=1;d<f;d++)c[d-1]=arguments[d];return r.produceWithPatches(l,function(g){return i.apply(void 0,[g].concat(c))})};var s,a,u=r.produce(i,o,function(l,f){s=l,a=f});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,s,a]}):[u,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Br(n)||Vt(8),pi(n)&&(n=TD(n));var r=FI(this),i=nf(this,n,void 0);return i[Me].C=!0,r_(r),i},e.finishDraft=function(n,r){var i=n&&n[Me],o=i.A;return zv(o,r),Hv(void 0,o)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!zI&&Vt(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=li("Patches").$;return pi(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),fr=new xD,HI=fr.produce,qce=fr.produceWithPatches.bind(fr),Bce=fr.setAutoFreeze.bind(fr),Vce=fr.setUseProxies.bind(fr),zce=fr.applyPatches.bind(fr),Hce=fr.createDraft.bind(fr),Wce=fr.finishDraft.bind(fr);const Gce=Object.freeze(Object.defineProperty({__proto__:null,default:HI,Immer:xD,applyPatches:zce,castDraft:$ce,castImmutable:Mce,createDraft:Hce,current:TD,enableAllPlugins:Lce,enableES5:SD,enableMapSet:ID,enablePatches:AD,finishDraft:Wce,freeze:Lm,immerable:hu,isDraft:pi,isDraftable:Br,nothing:$m,original:Cce,produce:HI,produceWithPatches:qce,setAutoFreeze:Bce,setUseProxies:Vce},Symbol.toStringTag,{value:"Module"})),RD=nR(Gce);Object.defineProperty(Cm,"__esModule",{value:!0});Cm.default=efe;Cm.isComposable=PD;var Kce=Mm(QN),WI=Mm(_i),Qce=Mm(Qf),Yce=Mm(RD),ys=ft,Xce=ut;function Mm(t){return t&&t.__esModule?t:{default:t}}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PD(t){return!!(0,WI.default)(t,"meta.where")&&!!(0,WI.default)(t,"meta.collection")}function efe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,Yce.default)(t,function(n){if(!PD(e))return t;var r=(0,Xce.getBaseQueryName)(e.meta);switch(e.type){case ys.actionTypes.GET_SUCCESS:case ys.actionTypes.LISTENER_RESPONSE:return n[r]=Zce({data:e.payload.data},e.meta),n;case ys.actionTypes.UNSET_LISTENER:return n[r]&&(n[r].data=void 0),n;case ys.actionTypes.DOCUMENT_ADDED:case ys.actionTypes.DOCUMENT_MODIFIED:return(0,Qce.default)(n,[r,"data",e.meta.doc],e.payload.data),n;case ys.actionTypes.DOCUMENT_REMOVED:case ys.actionTypes.DELETE_SUCCESS:return(0,Kce.default)(n,[r,"data",e.meta.doc]),n;default:return t}})}var eE={},tfe=el,nfe=fD,rfe=Object.prototype,ife=rfe.hasOwnProperty,ofe=nfe(function(t,e,n){ife.call(t,n)?t[n].push(e):tfe(t,n,[e])}),sfe=ofe;Object.defineProperty(eE,"__esModule",{value:!0});eE.default=dfe;var afe=nd(_i),ufe=nd(Qf),lfe=nd(CN()),cfe=nd(sfe),ffe=nd(RD),Bl=ft;function nd(t){return t&&t.__esModule?t:{default:t}}function dfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(0,ffe.default)(t,function(n){switch(e.type){case Bl.actionTypes.DOCUMENT_MODIFIED:case Bl.actionTypes.DOCUMENT_ADDED:case Bl.actionTypes.DOCUMENT_REMOVED:case Bl.actionTypes.LISTENER_RESPONSE:case Bl.actionTypes.UNSET_LISTENER:var r=(0,cfe.default)(!!t.queries&&Object.values(t.queries)||[],function(i){return i.storeAs||i.collection});return Object.keys(r).forEach(function(i){var o={};r[i].forEach(function(s){return(0,lfe.default)(o,(0,afe.default)(s,"data",{}))}),(0,ufe.default)(n,["composite",i],o)}),n;default:return t}})}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"crossSliceReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"dataReducer",{enumerable:!0,get:function(){return e.default}}),t.default=void 0,Object.defineProperty(t,"errorsReducer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"listenersReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"orderedReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"queriesReducer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"statusReducer",{enumerable:!0,get:function(){return o.default}});var e=u(Ww),n=u(km),r=u(Rm),i=u(Gw),o=u(Ia),s=u(Cm),a=u(eE);function u(f){return f&&f.__esModule?f:{default:f}}var l={dataReducer:e.default,errorsReducer:n.default,listenersReducer:r.default,orderedReducer:i.default,statusReducer:o.default,queriesReducer:s.default,crossSliceReducer:a.default};t.default=l})(oD);Object.defineProperty(Im,"__esModule",{value:!0});Im.default=void 0;var hfe=gfe(fue),pfe=Un,Os=oD;function gfe(t){return t&&t.__esModule?t:{default:t}}var mfe=(0,pfe.combineReducers)({status:Os.statusReducer,data:Os.dataReducer,ordered:Os.orderedReducer,listeners:Os.listenersReducer,errors:Os.errorsReducer,queries:Os.queriesReducer,composite:function(e){return e}}),yfe=(0,hfe.default)(mfe,Os.crossSliceReducer);Im.default=yfe;var rd={};Object.defineProperty(rd,"__esModule",{value:!0});rd.CALL_FIRESTORE=void 0;rd.default=Afe;var Kv=ft;function vfe(t,e){return Efe(t)||wfe(t,e)||bfe(t,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(t,e){if(!!t){if(typeof t=="string")return KI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(t,e)}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Efe(t){if(Array.isArray(t))return t}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t,e){var n=e.method;e.modelArgs;var r=e.methodArgs;if(Array.isArray(r)||(r=[r]),!t||!t.firestore)throw new Error("firestore is not a Firebase namespace");return r?t.firestore()[n].apply(t,r):t.firestore()[n]}var o_="CALL_FIRESTORE";rd.CALL_FIRESTORE=o_;var Sfe={get:[Kv.actionTypes.GET_REQUEST,Kv.actionTypes.GET_SUCCESS,Kv.actionTypes.GET_FAILURE]};function Afe(t){return function(e){return function(n){return function(r){var i=r.type===o_?r:void 0;if(typeof i>"u")return n(r);var o=i.method;if(typeof o=="function"&&(o=o(e.getState())),typeof o!="string")throw new Error("Specify a method.");var s=i.args,a=Sfe[o];if(!Array.isArray(a)||a.length!==3)throw new Error("Expected an array of three action types.");if(!a.every(function(y){return typeof y=="string"}))throw new Error("Expected action types to be strings.");function u(y){var m=YI(YI({},r),y);return delete m[o_],m}var l=vfe(a,3),f=l[0],c=l[1],d=l[2];n({type:f});var g={method:o};return Tfe(t,g).then(function(y){return n({response:y,method:o,args:s,type:c})}).catch(function(y){return n(u({type:d,error:y.message||y||"Something bad happened"}))})}}}}(function(t){function e(y){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(y)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CALL_FIRESTORE",{enumerable:!0,get:function(){return a.CALL_FIRESTORE}}),Object.defineProperty(t,"actionTypes",{enumerable:!0,get:function(){return s.actionTypes}}),Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return i.firestoreActions}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createFirestoreInstance",{enumerable:!0,get:function(){return o.default}}),t.default=void 0,Object.defineProperty(t,"enhancer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"firestoreReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getFirestore",{enumerable:!0,get:function(){return o.getFirestore}}),Object.defineProperty(t,"getSnapshotByObject",{enumerable:!0,get:function(){return u.getSnapshotByObject}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"reduxFirestore",{enumerable:!0,get:function(){return n.default}}),t.version=void 0;var n=c(Sm),r=c(Im),i=na,o=f(Jf),s=f(ft),a=f(rd),u=ut;function l(y){if(typeof WeakMap!="function")return null;var m=new WeakMap,_=new WeakMap;return(l=function(h){return h?_:m})(y)}function f(y,m){if(!m&&y&&y.__esModule)return y;if(y===null||e(y)!=="object"&&typeof y!="function")return{default:y};var _=l(m);if(_&&_.has(y))return _.get(y);var p={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in y)if(b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)){var v=h?Object.getOwnPropertyDescriptor(y,b):null;v&&(v.get||v.set)?Object.defineProperty(p,b,v):p[b]=y[b]}return p.default=y,_&&_.set(y,p),p}function c(y){return y&&y.__esModule?y:{default:y}}var d="1.0.0";t.version=d;var g={version:d,reducer:r.default,firestoreReducer:r.default,enhancer:n.default,reduxFirestore:n.default,createFirestoreInstance:o.default,actions:i.firestoreActions,getFirestore:o.getFirestore,getSnapshotByObject:u.getSnapshotByObject,constants:s.default,actionTypes:s.actionTypes,middleware:a.default,CALL_FIRESTORE:a.CALL_FIRESTORE};t.default=g})(qw);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ife=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ND={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,c=(o&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(d=64)),r.push(n[f],n[c],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ife(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||c==null)throw Error();const d=o<<2|a>>4;if(r.push(d),l!==64){const g=a<<4&240|l>>2;if(r.push(g),c!==64){const y=l<<6&192|c;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kfe=function(t){const e=CD(t);return ND.encodeByteArray(e,!0)},Mp=function(t){return kfe(t).replace(/\./g,"")},DD=function(t){try{return ND.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xfe(n)||(t[n]=jp(t[n],e[n]));return t}function xfe(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rfe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function jm(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pfe(){return typeof self=="object"&&self.self===self}function LD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $D(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cfe(){return!jm()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sf(){return typeof indexedDB=="object"}function Nfe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function Dfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lfe=()=>Dfe().__FIREBASE_DEFAULTS__,$fe=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DD(t[1]);return e&&JSON.parse(e)},MD=()=>{try{return Lfe()||$fe()||Mfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jfe=()=>{var t;return(t=MD())===null||t===void 0?void 0:t.config},Ffe=t=>{var e;return(e=MD())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Mp(JSON.stringify(n)),Mp(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qfe="FirebaseError";class bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qfe,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ka.prototype.create)}}class ka{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Bfe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new bn(i,a,r)}}function Bfe(t,e){return t.replace(Vfe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Vfe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function s_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ZI(o)&&ZI(s)){if(!s_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FD(t,e){const n=new Hfe(t,e);return n.subscribe.bind(n)}class Hfe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wfe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qv),i.error===void 0&&(i.error=Qv),i.complete===void 0&&(i.complete=Qv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wfe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ufe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qfe(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kfe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kfe(t){return t===Ts?void 0:t}function Qfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gfe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=[];var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const UD={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Xfe=He.INFO,Zfe={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Jfe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Zfe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=Xfe,this._logHandler=Jfe,this._userLogHandler=null,nE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function ede(t){nE.forEach(e=>{e.setLogLevel(t)})}function tde(t,e){for(const n of nE){let r=null;e&&e.level&&(r=UD[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(r!=null?r:i.logLevel)&&t({level:He[o].toLowerCase(),message:a,args:s,type:i.name})}}}const nde=(t,e)=>e.some(n=>t instanceof n);let JI,ek;function rde(){return JI||(JI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ide(){return ek||(ek=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qD=new WeakMap,a_=new WeakMap,BD=new WeakMap,Yv=new WeakMap,rE=new WeakMap;function ode(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Uo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&qD.set(n,t)}).catch(()=>{}),rE.set(e,t),e}function sde(t){if(a_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});a_.set(t,e)}let u_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ade(t){u_=t(u_)}function ude(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xv(this),e,...n);return BD.set(r,e.sort?e.sort():[e]),Uo(r)}:ide().includes(t)?function(...e){return t.apply(Xv(this),e),Uo(qD.get(this))}:function(...e){return Uo(t.apply(Xv(this),e))}}function lde(t){return typeof t=="function"?ude(t):(t instanceof IDBTransaction&&sde(t),nde(t,rde())?new Proxy(t,u_):t)}function Uo(t){if(t instanceof IDBRequest)return ode(t);if(Yv.has(t))return Yv.get(t);const e=lde(t);return e!==t&&(Yv.set(t,e),rE.set(e,t)),e}const Xv=t=>rE.get(t);function cde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Uo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Uo(s.result),u.oldVersion,u.newVersion,Uo(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const fde=["get","getKey","getAll","getAllKeys","count"],dde=["put","add","delete","clear"],Zv=new Map;function tk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dde.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fde.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Zv.set(e,o),o}ade(t=>({...t,get:(e,n,r)=>tk(e,n)||t.get(e,n,r),has:(e,n)=>!!tk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pde(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pde(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l_="@firebase/app",nk="0.8.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Fm("@firebase/app"),gde="@firebase/app-compat",mde="@firebase/analytics-compat",yde="@firebase/analytics",vde="@firebase/app-check-compat",_de="@firebase/app-check",bde="@firebase/auth",wde="@firebase/auth-compat",Ede="@firebase/database",Ode="@firebase/database-compat",Tde="@firebase/functions",Sde="@firebase/functions-compat",Ade="@firebase/installations",Ide="@firebase/installations-compat",kde="@firebase/messaging",xde="@firebase/messaging-compat",Rde="@firebase/performance",Pde="@firebase/performance-compat",Cde="@firebase/remote-config",Nde="@firebase/remote-config-compat",Dde="@firebase/storage",Lde="@firebase/storage-compat",$de="@firebase/firestore",Mde="@firebase/firestore-compat",jde="firebase",Fde="9.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]",Ude={[l_]:"fire-core",[gde]:"fire-core-compat",[yde]:"fire-analytics",[mde]:"fire-analytics-compat",[_de]:"fire-app-check",[vde]:"fire-app-check-compat",[bde]:"fire-auth",[wde]:"fire-auth-compat",[Ede]:"fire-rtdb",[Ode]:"fire-rtdb-compat",[Tde]:"fire-fn",[Sde]:"fire-fn-compat",[Ade]:"fire-iid",[Ide]:"fire-iid-compat",[kde]:"fire-fcm",[xde]:"fire-fcm-compat",[Rde]:"fire-perf",[Pde]:"fire-perf-compat",[Cde]:"fire-rc",[Nde]:"fire-rc-compat",[Dde]:"fire-gcs",[Lde]:"fire-gcs-compat",[$de]:"fire-fst",[Mde]:"fire-fst-compat","fire-js":"fire-js",[jde]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,af=new Map;function Fp(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function VD(t,e){t.container.addOrOverwriteComponent(e)}function Gi(t){const e=t.name;if(af.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;af.set(e,t);for(const n of Go.values())Fp(n,t);return!0}function zD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qde(t,e,n=Wo){zD(t,e).clearInstance(n)}function Bde(){af.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vde={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new ka("app","Firebase",Vde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=Fde;function iE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=jfe()),!n)throw ji.create("no-options");const o=Go.get(i);if(o){if(s_(n,o.options)&&s_(r,o.config))return o;throw ji.create("duplicate-app",{appName:i})}const s=new Yfe(i);for(const u of af.values())s.addComponent(u);const a=new zde(n,r,s);return Go.set(i,a),a}function Hde(t=Wo){const e=Go.get(t);if(!e&&t===Wo)return iE();if(!e)throw ji.create("no-app",{appName:t});return e}function Wde(){return Array.from(Go.values())}async function HD(t){const e=t.name;Go.has(e)&&(Go.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Sr(t,e,n){var r;let i=(r=Ude[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(a.join(" "));return}Gi(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function WD(t,e){if(t!==null&&typeof t!="function")throw ji.create("invalid-log-argument");tde(t,e)}function GD(t){ede(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde="firebase-heartbeat-database",Kde=1,uf="firebase-heartbeat-store";let Jv=null;function KD(){return Jv||(Jv=cde(Gde,Kde,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uf)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Jv}async function Qde(t){var e;try{return(await KD()).transaction(uf).objectStore(uf).get(QD(t))}catch(n){if(n instanceof bn)ra.warn(n.message);else{const r=ji.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ra.warn(r.message)}}}async function rk(t,e){var n;try{const i=(await KD()).transaction(uf,"readwrite");return await i.objectStore(uf).put(e,QD(t)),i.done}catch(r){if(r instanceof bn)ra.warn(r.message);else{const i=ji.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ra.warn(i.message)}}}function QD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde=1024,Xde=30*24*60*60*1e3;class Zde{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ehe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ik();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=Xde}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ik(),{heartbeatsToSend:n,unsentEntries:r}=Jde(this._heartbeatsCache.heartbeats),i=Mp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ik(){return new Date().toISOString().substring(0,10)}function Jde(t,e=Yde){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ok(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ok(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ehe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sf()?Nfe().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Qde(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ok(t){return Mp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(t){Gi(new kr("platform-logger",e=>new hde(e),"PRIVATE")),Gi(new kr("heartbeat",e=>new Zde(e),"PRIVATE")),Sr(l_,nk,t),Sr(l_,nk,"esm2017"),Sr("fire-js","")}the("");const nhe=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:as,_DEFAULT_ENTRY_NAME:Wo,_addComponent:Fp,_addOrOverwriteComponent:VD,_apps:Go,_clearComponents:Bde,_components:af,_getProvider:zD,_registerComponent:Gi,_removeServiceInstance:qde,deleteApp:HD,getApp:Hde,getApps:Wde,initializeApp:iE,onLog:WD,registerVersion:Sr,setLogLevel:GD,FirebaseError:bn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(e,n){this._delegate=e,this.firebase=n,Fp(e,new kr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),HD(this._delegate)))}_getService(e,n=Wo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Wo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Fp(this._delegate,e)}_addOrOverwriteComponent(e){VD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ihe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},sk=new ka("app-compat","Firebase",ihe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ohe(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Sr,setLogLevel:GD,onLog:WD,apps:null,SDK_VERSION:as,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:nhe}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(l){delete e[l]}function i(l){if(l=l||Wo,!XI(e,l))throw sk.create("no-app",{appName:l});return e[l]}i.App=t;function o(l,f={}){const c=iE(l,f);if(XI(e,c.name))return e[c.name];const d=new t(c,n);return e[c.name]=d,d}function s(){return Object.keys(e).map(l=>e[l])}function a(l){const f=l.name,c=f.replace("-compat","");if(Gi(l)&&l.type==="PUBLIC"){const d=(g=i())=>{if(typeof g[c]!="function")throw sk.create("invalid-app-argument",{appName:f});return g[c]()};l.serviceProps!==void 0&&jp(d,l.serviceProps),n[c]=d,t.prototype[c]=function(...g){return this._getService.bind(this,f).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?n[c]:null}function u(l,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){const t=ohe(rhe);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:YD,extendNamespace:e,createSubscribe:FD,ErrorFactory:ka,deepExtend:jp});function e(n){jp(t,n)}return t}const she=YD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Fm("@firebase/app-compat"),ahe="@firebase/app-compat",uhe="0.1.38";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lhe(t){Sr(ahe,uhe,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Pfe()&&self.firebase!==void 0){ak.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ak.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Oi=she;lhe();var che="firebase",fhe="9.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi.registerVersion(che,fhe,"app-compat");function oE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Vl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ja={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function XD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hhe=dhe,phe=XD,ZD=new ka("auth","Firebase",XD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Fm("@firebase/auth");function Lh(t,...e){uk.logLevel<=He.ERROR&&uk.error(`Auth (${as}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,...e){throw sE(t,...e)}function ln(t,...e){return sE(t,...e)}function JD(t,e,n){const r=Object.assign(Object.assign({},phe()),{[e]:n});return new ka("auth","Firebase",r).create(e,{appName:t.name})}function hl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dn(t,"argument-error"),JD(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZD.create(t,...e)}function be(t,e,...n){if(!t)throw sE(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function Vr(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Map;function ar(t){Vr(t instanceof Function,"Expected a class definition");let e=lk.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lk.set(t,e),e)}function ghe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aE(){return ck()==="http:"||ck()==="https:"}function ck(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aE()||LD()||"connection"in navigator)?navigator.onLine:!0}function yhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Rfe()||tE()}get(){return mhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _he=new id(3e4,6e4);function Mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zt(t,e,n,r,i={}){return tL(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=dl(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eL.fetch()(nL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function tL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vhe),e);try{const i=new bhe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw sc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw sc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw sc(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JD(t,f,l);dn(t,f)}}catch(i){if(i instanceof bn)throw i;dn(t,"network-request-failed")}}async function eo(t,e,n,r,i={}){const o=await Zt(t,e,n,r,i);return"mfaPendingCredential"in o&&dn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function nL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uE(t.config,i):`${t.config.apiScheme}://${i}`}class bhe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),_he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ln(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function whe(t,e){return Zt(t,"POST","/v1/accounts:delete",e)}async function Ehe(t,e){return Zt(t,"POST","/v1/accounts:update",e)}async function Ohe(t,e){return Zt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function The(t,e=!1){const n=ke(t),r=await n.getIdToken(e),i=Um(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ec(e0(i.auth_time)),issuedAtTime:Ec(e0(i.iat)),expirationTime:Ec(e0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function e0(t){return Number(t)*1e3}function Um(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DD(r);return o?JSON.parse(o):(Lh("Failed to decode base64 JWT payload"),null)}catch(o){return Lh("Caught error parsing JWT payload as JSON",(e=o)===null||e===void 0?void 0:e.toString()),null}}function She(t){const e=Um(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bn&&Ahe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ahe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ki(t,Ohe(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rhe(o.providerUserInfo):[],a=xhe(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=u?l:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rL(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,c)}async function khe(t){const e=ke(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xhe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rhe(t){return t.map(e=>{var{providerId:n}=e,r=oE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Phe(t,e){const n=await tL(t,{},async()=>{const r=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=nL(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eL.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):She(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return be(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Phe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ff;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=oE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ihe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rL(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ki(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return The(this,e)}reload(){return khe(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ki(this,whe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,f;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,p=(l=n.createdAt)!==null&&l!==void 0?l:void 0,h=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:v,isAnonymous:w,providerData:O,stsTokenManager:T}=n;be(b&&T,e,"internal-error");const E=ff.fromJSON(this.name,T);be(typeof b=="string",e,"internal-error"),co(c,e.name),co(d,e.name),be(typeof v=="boolean",e,"internal-error"),be(typeof w=="boolean",e,"internal-error"),co(g,e.name),co(y,e.name),co(m,e.name),co(_,e.name),co(p,e.name),co(h,e.name);const k=new zs({uid:b,auth:e,email:d,emailVerified:v,displayName:c,isAnonymous:w,photoURL:y,phoneNumber:g,tenantId:m,stsTokenManager:E,createdAt:p,lastLoginAt:h});return O&&Array.isArray(O)&&(k.providerData=O.map(A=>Object.assign({},A))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ff;i.updateFromServerResponse(n);const o=new zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cf(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iL.type="NONE";const Du=iL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e,n){return`firebase:${t}:${e}:${n}`}class gu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hs(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hs("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gu(ar(Du),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||ar(Du);const s=Hs(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const f=await l._get(s);if(f){const c=zs._fromJSON(e,f);l!==o&&(a=c),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new gu(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new gu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uL(e))return"Blackberry";if(lL(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||sL(e))&&!e.includes("edge/"))return"Chrome";if(od(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oL(t=vt()){return/firefox\//i.test(t)}function lE(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sL(t=vt()){return/crios\//i.test(t)}function aL(t=vt()){return/iemobile/i.test(t)}function od(t=vt()){return/android/i.test(t)}function uL(t=vt()){return/blackberry/i.test(t)}function lL(t=vt()){return/webos/i.test(t)}function pl(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Che(t=vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Nhe(t=vt()){var e;return pl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dhe(){return $D()&&document.documentMode===10}function cL(t=vt()){return pl(t)||od(t)||lL(t)||uL(t)||/windows phone/i.test(t)||aL(t)}function Lhe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e=[]){let n;switch(t){case"Browser":n=fk(vt());break;case"Worker":n=`${fk(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dk(this),this.idTokenSubscription=new dk(this),this.beforeStateQueue=new $he(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZD,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u==null?void 0:u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await cf(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ka("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await gu.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return be(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Qt(t){return ke(t)}class dk{constructor(e){this.auth=e,this.observer=null,this.addObserver=FD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jhe(t,e,n){const r=Qt(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=dL(e),{host:s,port:a}=Fhe(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Uhe()}function dL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fhe(t){const e=dL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hk(s)}}}function hk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uhe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return Zt(t,"POST","/v1/accounts:resetPassword",Mt(t,e))}async function pL(t,e){return Zt(t,"POST","/v1/accounts:update",e)}async function qhe(t,e){return Zt(t,"POST","/v1/accounts:update",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bhe(t,e){return eo(t,"POST","/v1/accounts:signInWithPassword",Mt(t,e))}async function qm(t,e){return Zt(t,"POST","/v1/accounts:sendOobCode",Mt(t,e))}async function Vhe(t,e){return qm(t,e)}async function zhe(t,e){return qm(t,e)}async function Hhe(t,e){return qm(t,e)}async function Whe(t,e){return qm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ghe(t,e){return eo(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}async function Khe(t,e){return eo(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends gl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new df(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new df(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Bhe(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ghe(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return pL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Khe(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e){return eo(t,"POST","/v1/accounts:signInWithIdp",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe="http://localhost";class gi extends gl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=oE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new gi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}buildRequest(){const e={requestUri:Qhe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yhe(t,e){return Zt(t,"POST","/v1/accounts:sendVerificationCode",Mt(t,e))}async function Xhe(t,e){return eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e))}async function Zhe(t,e){const n=await eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e));if(n.temporaryProof)throw sc(t,"account-exists-with-different-credential",n);return n}const Jhe={USER_NOT_FOUND:"user-not-found"};async function epe(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return eo(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,n),Jhe)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends gl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ws({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ws({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Xhe(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Zhe(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return epe(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Ws({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tpe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function npe(t){const e=iu(oc(t)).link,n=e?iu(oc(e)).deep_link_id:null,r=iu(oc(t)).deep_link_id;return(r?iu(oc(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,o,s,a;const u=iu(oc(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,c=tpe((i=u.mode)!==null&&i!==void 0?i:null);be(l&&f&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=npe(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.providerId=us.PROVIDER_ID}static credential(e,n){return df._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return be(r,"argument-error"),df._fromEmailAndCode(e,r.code,r.tenantId)}}us.PROVIDER_ID="password";us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends to{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mu extends ml{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return be("providerId"in n&&"signInMethod"in n,"argument-error"),gi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return be(e.idToken||e.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return mu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new mu(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ml{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ml{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rpe="http://localhost";class Lu extends gl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new Lu(r,o)}static _create(e,n){return new Lu(e,n)}buildRequest(){return{requestUri:rpe,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe="saml.";class Up extends to{constructor(e){be(e.startsWith(ipe),"argument-error"),super(e)}static credentialFromResult(e){return Up.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Up.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Lu.fromJSON(e);return be(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Lu._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ml{constructor(){super("twitter.com")}static credential(e,n){return gi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return eo(t,"POST","/v1/accounts:signUp",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zs._fromIdTokenResponse(e,r,i),s=pk(r);return new xr({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pk(r);return new xr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ope(t){var e;const n=Qt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new xr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await gL(n,{returnSecureToken:!0}),i=await xr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends bn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qp(e,n,r,i)}}function mL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function spe(t,e){const n=ke(t);await Vm(!0,n,e);const{providerUserInfo:r}=await Ehe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=yL(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function cE(t,e,n=!1){const r=await Ki(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xr._forOperation(t,"link",r)}async function Vm(t,e,n){await cf(e);const r=yL(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";be(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n=!1){var r;const{auth:i}=t,o="reauthenticate";try{const s=await Ki(t,mL(i,o,e,t),n);be(s.idToken,i,"internal-error");const a=Um(s.idToken);be(a,i,"internal-error");const{sub:u}=a;return be(t.uid===u,i,"user-mismatch"),xr._forOperation(t,o,s)}catch(s){throw((r=s)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&dn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e,n=!1){const r="signIn",i=await mL(t,r,e),o=await xr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function zm(t,e){return _L(Qt(t),e)}async function bL(t,e){const n=ke(t);return await Vm(!1,n,e.providerId),cE(n,e)}async function wL(t,e){return vL(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ape(t,e){return eo(t,"POST","/v1/accounts:signInWithCustomToken",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function upe(t,e){const n=Qt(t),r=await ape(n,{token:e,returnSecureToken:!0}),i=await xr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?fE._fromServerResponse(e,n):dn(e,"internal-error")}}class fE extends Hm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new fE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e,n){var r;be(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lpe(t,e,n){const r=ke(t),i={requestType:"PASSWORD_RESET",email:e};n&&Wm(r,i,n),await zhe(r,i)}async function cpe(t,e,n){await hL(ke(t),{oobCode:e,newPassword:n})}async function fpe(t,e){await qhe(ke(t),{oobCode:e})}async function EL(t,e){const n=ke(t),r=await hL(n,{oobCode:e}),i=r.requestType;switch(be(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(r.mfaInfo,n,"internal-error");default:be(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Hm._fromServerResponse(Qt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function dpe(t,e){const{data:n}=await EL(ke(t),e);return n.email}async function hpe(t,e,n){const r=Qt(t),i=await gL(r,{returnSecureToken:!0,email:e,password:n}),o=await xr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function ppe(t,e,n){return zm(ke(t),us.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gpe(t,e,n){const r=ke(t),i={requestType:"EMAIL_SIGNIN",email:e};be(n.handleCodeInApp,r,"argument-error"),n&&Wm(r,i,n),await Hhe(r,i)}function mpe(t,e){const n=Bm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function ype(t,e,n){const r=ke(t),i=us.credentialWithLink(e,n||lf());return be(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),zm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vpe(t,e){return Zt(t,"POST","/v1/accounts:createAuthUri",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _pe(t,e){const n=aE()?lf():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await vpe(ke(t),r);return i||[]}async function bpe(t,e){const n=ke(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Wm(n.auth,i,e);const{email:o}=await Vhe(n.auth,i);o!==t.email&&await t.reload()}async function wpe(t,e,n){const r=ke(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Wm(r.auth,o,n);const{email:s}=await Whe(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Epe(t,e){return Zt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ope(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ki(r,Epe(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Tpe(t,e){return OL(ke(t),e,null)}function Spe(t,e){return OL(ke(t),null,e)}async function OL(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Ki(t,pL(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ape(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t==null?void 0:t.idToken)){const s=(n=(e=Um(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new yu(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new Ipe(o,i);case"github.com":return new kpe(o,i);case"google.com":return new xpe(o,i);case"twitter.com":return new Rpe(o,i,t.screenName||null);case"custom":case"anonymous":return new yu(o,null);default:return new yu(o,r,i)}}class yu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class TL extends yu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Ipe extends yu{constructor(e,n){super(e,"facebook.com",n)}}class kpe extends TL{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class xpe extends yu{constructor(e,n){super(e,"google.com",n)}}class Rpe extends TL{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Ppe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Ape(n)}class Ls{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Ls("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ls("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ls._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ls._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Qt(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>Hm._fromServerResponse(r,a));be(i.mfaPendingCredential,r,"internal-error");const s=Ls._fromMfaPendingCredential(i.mfaPendingCredential);return new dE(s,o,async a=>{const u=await a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=await xr._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(f.user),f;case"reauthenticate":return be(n.user,r,"internal-error"),xr._forOperation(n.user,n.operationType,l);default:dn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Cpe(t,e){var n;const r=ke(t),i=e;return be(e.customData.operationType,r,"argument-error"),be((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),dE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Npe(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:start",Mt(t,e))}function Dpe(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(t,e))}function Lpe(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(t,e))}class hE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Hm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new hE(e)}async getSession(){return Ls._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),o=await Ki(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){var n;const r=typeof e=="string"?e:e.uid,i=await this.user.getIdToken(),o=await Ki(this.user,Lpe(this.user.auth,{idToken:i,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==r),await this.user._updateTokensIfNecessary(o);try{await this.user.reload()}catch(s){if(((n=s)===null||n===void 0?void 0:n.code)!=="auth/user-token-expired")throw s}}}const t0=new WeakMap;function $pe(t){const e=ke(t);return t0.has(e)||t0.set(e,hE._fromUser(e)),t0.get(e)}const Bp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bp,"1"),this.storage.removeItem(Bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(){const t=vt();return lE(t)||pl(t)}const jpe=1e3,Fpe=10;class AL extends SL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Mpe()&&Lhe(),this.fallbackToPolling=cL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Dhe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fpe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AL.type="LOCAL";const pE=AL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL extends SL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IL.type="SESSION";const ia=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Upe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await Upe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=sd("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return window}function Bpe(t){Dt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof Dt().WorkerGlobalScope<"u"&&typeof Dt().importScripts=="function"}async function Vpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zpe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hpe(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebaseLocalStorageDb",Wpe=1,Vp="firebaseLocalStorage",xL="fbase_key";class ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Km(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function Gpe(){const t=indexedDB.deleteDatabase(kL);return new ad(t).toPromise()}function c_(){const t=indexedDB.open(kL,Wpe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vp,{keyPath:xL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),await Gpe(),e(await c_()))})})}async function gk(t,e,n){const r=Km(t,!0).put({[xL]:e,value:n});return new ad(r).toPromise()}async function Kpe(t,e){const n=Km(t,!1).get(e),r=await new ad(n).toPromise();return r===void 0?null:r.value}function mk(t,e){const n=Km(t,!0).delete(e);return new ad(n).toPromise()}const Qpe=800,Ype=3;class RL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ype)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(Hpe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vpe(),!this.activeServiceWorker)return;this.sender=new qpe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c_();return await gk(e,Bp,"1"),await mk(e,Bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Kpe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Km(i,!1).getAll();return new ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RL.type="LOCAL";const hf=RL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xpe(t,e){return Zt(t,"POST","/v2/accounts/mfaSignIn:start",Mt(t,e))}function Zpe(t,e){return Zt(t,"POST","/v2/accounts/mfaSignIn:finalize",Mt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jpe(t){return(await Zt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ege(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function PL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ln("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",ege().appendChild(r)})}function CL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tge=500,nge=6e4,oh=1e12;class rge{constructor(e){this.auth=e,this.counter=oh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new ige(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||oh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||oh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||oh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class ige{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;be(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=oge(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},nge)},tge))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function oge(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=CL("rcb"),sge=new id(3e4,6e4),age="https://www.google.com/recaptcha/api.js?";class uge{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Dt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return be(lge(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Dt().grecaptcha):new Promise((r,i)=>{const o=Dt().setTimeout(()=>{i(ln(e,"network-request-failed"))},sge.get());Dt()[n0]=()=>{Dt().clearTimeout(o),delete Dt()[n0];const a=Dt().grecaptcha;if(!a){i(ln(e,"internal-error"));return}const u=a.render;a.render=(l,f)=>{const c=u(l,f);return this.counter++,c},this.hostLanguage=n,r(a)};const s=`${age}?${dl({onload:n0,render:"explicit",hl:n})}`;PL(s).catch(()=>{clearTimeout(o),i(ln(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Dt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function lge(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class cge{async load(e){return new rge(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="recaptcha",fge={theme:"light",type:"image"};class dge{constructor(e,n=Object.assign({},fge),r){this.parameters=n,this.type=NL,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(r),this.isInvisible=this.parameters.size==="invisible",be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;be(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cge:new uge,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{!s||(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Dt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){be(aE()&&!gE(),this.auth,"internal-error"),await hge(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Jpe(this.auth);be(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function hge(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ws._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function pge(t,e,n){const r=Qt(t),i=await Qm(r,e,ke(n));return new mE(i,o=>zm(r,o))}async function gge(t,e,n){const r=ke(t);await Vm(!1,r,"phone");const i=await Qm(r.auth,e,ke(n));return new mE(i,o=>bL(r,o))}async function mge(t,e,n){const r=ke(t),i=await Qm(r.auth,e,ke(n));return new mE(i,o=>wL(r,o))}async function Qm(t,e,n){var r;const i=await n.verify();try{be(typeof i=="string",t,"argument-error"),be(n.type===NL,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o)return be(s.type==="enroll",t,"internal-error"),(await Npe(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{be(s.type==="signin",t,"internal-error");const a=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return be(a,t,"missing-multi-factor-info"),(await Xpe(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:s}=await Yhe(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return s}}finally{n._reset()}}async function yge(t,e){await cE(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.providerId=Fr.PROVIDER_ID,this.auth=Qt(e)}verifyPhoneNumber(e,n){return Qm(this.auth,e,ke(n))}static credential(e,n){return Ws._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Fr.credentialFromTaggedObject(n)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ws._fromTokenResponse(n,r):null}}Fr.PROVIDER_ID="phone";Fr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){return e?ar(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends gl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vge(t){return _L(t.auth,new yE(t),t.bypassAuthState)}function _ge(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),vL(n,new yE(t),t.bypassAuthState)}async function bge(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),cE(n,new yE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vge;case"linkViaPopup":case"linkViaRedirect":return bge;case"reauthViaPopup":case"reauthViaRedirect":return _ge;default:dn(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wge=new id(2e3,1e4);async function Ege(t,e,n){const r=Qt(t);hl(t,e,to);const i=xa(r,n);return new Di(r,"signInViaPopup",e,i).executeNotNull()}async function Oge(t,e,n){const r=ke(t);hl(r.auth,e,to);const i=xa(r.auth,n);return new Di(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Tge(t,e,n){const r=ke(t);hl(r.auth,e,to);const i=xa(r.auth,n);return new Di(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Di extends DL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Di.currentPopupAction&&Di.currentPopupAction.cancel(),Di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,wge.get())};e()}}Di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sge="pendingRedirect",Oc=new Map;class Age extends DL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const r=await Ige(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ige(t,e){const n=$L(e),r=LL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function vE(t,e){return LL(t)._set($L(e),"true")}function kge(){Oc.clear()}function _E(t,e){Oc.set(t._key(),e)}function LL(t){return ar(t._redirectPersistence)}function $L(t){return Hs(Sge,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xge(t,e,n){return Rge(t,e,n)}async function Rge(t,e,n){const r=Qt(t);hl(t,e,to);const i=xa(r,n);return await vE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Pge(t,e,n){return Cge(t,e,n)}async function Cge(t,e,n){const r=ke(t);hl(r.auth,e,to);const i=xa(r.auth,n);await vE(i,r.auth);const o=await ML(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Nge(t,e,n){return Dge(t,e,n)}async function Dge(t,e,n){const r=ke(t);hl(r.auth,e,to);const i=xa(r.auth,n);await Vm(!1,r,e.providerId),await vE(i,r.auth);const o=await ML(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function Lge(t,e){return await Qt(t)._initializationPromise,Ym(t,e,!1)}async function Ym(t,e,n=!1){const r=Qt(t),i=xa(r,e),s=await new Age(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function ML(t){const e=sd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ge=10*60*1e3;class jL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mge(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ge&&this.cachedEventUids.clear(),this.cachedEventUids.has(yk(e))}saveEventToCache(e){this.cachedEventUids.add(yk(e)),this.lastProcessedEventTime=Date.now()}}function yk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mge(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return Zt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fge=/^https?/;async function Uge(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UL(t);for(const n of e)try{if(qge(n))return}catch{}dn(t,"unauthorized-domain")}function qge(t){const e=lf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Fge.test(n))return!1;if(jge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bge=new id(3e4,6e4);function vk(){const t=Dt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vge(t){return new Promise((e,n)=>{var r,i,o;function s(){vk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vk(),n(ln(t,"network-request-failed"))},timeout:Bge.get()})}if(!((i=(r=Dt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dt().gapi)===null||o===void 0)&&o.load)s();else{const a=CL("iframefcb");return Dt()[a]=()=>{gapi.load?s():n(ln(t,"network-request-failed"))},PL(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw $h=null,e})}let $h=null;function zge(t){return $h=$h||Vge(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hge=new id(5e3,15e3),Wge="__/auth/iframe",Gge="emulator/auth/iframe",Kge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yge(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uE(e,Gge):`https://${t.config.authDomain}/${Wge}`,r={apiKey:e.apiKey,appName:t.name,v:as},i=Qge.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${dl(r).slice(1)}`}async function Xge(t){const e=await zge(t),n=Dt().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Yge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kge,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ln(t,"network-request-failed"),a=Dt().setTimeout(()=>{o(s)},Hge.get());function u(){Dt().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jge=500,eme=600,tme="_blank",nme="http://localhost";class _k{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rme(t,e,n,r=Jge,i=eme){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Zge),{width:r.toString(),height:i.toString(),top:o,left:s}),l=vt().toLowerCase();n&&(a=sL(l)?tme:n),oL(l)&&(e=e||nme,u.scrollbars="yes");const f=Object.entries(u).reduce((d,[g,y])=>`${d}${g}=${y},`,"");if(Nhe(l)&&a!=="_self")return ime(e||"",a),new _k(null);const c=window.open(e||"",a,f);be(c,t,"popup-blocked");try{c.focus()}catch{}return new _k(c)}function ime(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome="__/auth/handler",sme="emulator/auth/handler";function f_(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:as,eventId:i};if(e instanceof to){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zfe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(o||{}))s[u]=l}if(e instanceof ml){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${ame(t)}?${dl(a).slice(1)}`}function ame({config:t}){return t.emulator?uE(t,sme):`https://${t.authDomain}/${ome}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="webStorageSupport";class ume{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ia,this._completeRedirectFn=Ym,this._overrideRedirectResult=_E}async _openPopup(e,n,r,i){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=f_(e,n,r,lf(),i);return rme(e,s,sd())}async _openRedirect(e,n,r,i){return await this._originValidation(e),Bpe(f_(e,n,r,lf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xge(e),r=new jL(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(r0,{type:r0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[r0];s!==void 0&&n(!!s),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uge(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cL()||lE()||pl()}}const lme=ume;class cme{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ii("unexpected MultiFactorSessionType")}}}class bE extends cme{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bE(e)}_finalizeEnroll(e,n,r){return Dpe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Zpe(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class qL{constructor(){}static assertion(e){return bE._fromCredential(e)}}qL.FACTOR_ID="phone";var bk="@firebase/auth",wk="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hme(t){Gi(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,u)=>{be(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),be(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fL(t)},f=new Mhe(a,u,l);return ghe(f,n),f})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new kr("auth-internal",e=>{const n=Qt(e.getProvider("auth").getImmediate());return(r=>new fme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(bk,wk,dme(t)),Sr(bk,wk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pme=5*60;Ffe("authIdTokenMaxAge");hme("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gme=2e3;async function mme(t,e,n){var r;const{BuildInfo:i}=oa();Vr(e.sessionId,"AuthEvent did not contain a session ID");const o=await wme(e.sessionId),s={};return pl()?s.ibi=i.packageName:od()?s.apn=i.packageName:dn(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,f_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)}async function yme(t){const{BuildInfo:e}=oa(),n={};pl()?n.iosBundleId=e.packageName:od()?n.androidPackageName=e.packageName:dn(t,"operation-not-supported-in-this-environment"),await UL(t,n)}function vme(t){const{cordova:e}=oa();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Che()?"_blank":"_system","location=yes"),n(i)})})}async function _me(t,e,n){const{cordova:r}=oa();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function u(){var c;o();const d=(c=r.plugins.browsertab)===null||c===void 0?void 0:c.close;typeof d=="function"&&d(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(ln(t,"redirect-cancelled-by-user"))},gme))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),od()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",f,!1),a&&window.clearTimeout(a)}})}finally{i()}}function bme(t){var e,n,r,i,o,s,a,u,l,f;const c=oa();be(typeof((e=c==null?void 0:c.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(typeof((n=c==null?void 0:c.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be(typeof((o=(i=(r=c==null?void 0:c.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be(typeof((u=(a=(s=c==null?void 0:c.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be(typeof((f=(l=c==null?void 0:c.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function wme(t){const e=Eme(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Eme(t){if(Vr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome=20;class Tme extends jL{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Sme(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:kme(),postBody:null,tenantId:t.tenantId,error:ln(t,"no-auth-event")}}function Ame(t,e){return d_()._set(h_(t),e)}async function Ek(t){const e=await d_()._get(h_(t));return e&&await d_()._remove(h_(t)),e}function Ime(t,e){var n,r;const i=Rme(e);if(i.includes("/__/auth/callback")){const o=Mh(i),s=o.firebaseError?xme(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s==null?void 0:s.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?ln(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function kme(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ome;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function d_(){return ar(pE)}function h_(t){return Hs("authEvent",t.config.apiKey,t.name)}function xme(t){try{return JSON.parse(t)}catch{return null}}function Rme(t){const e=Mh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Mh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Mh(i).link||i||r||n||t}function Mh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return iu(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme=500;class Cme{constructor(){this._redirectPersistence=ia,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ym,this._overrideRedirectResult=_E}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Tme(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){dn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){bme(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),kge(),await this._originValidation(e);const s=Sme(e,r,i);await Ame(e,s);const a=await mme(e,s,n),u=await vme(a);return _me(e,o,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yme(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=oa(),s=setTimeout(async()=>{await Ek(e),n.onEvent(Ok())},Pme),a=async f=>{clearTimeout(s);const c=await Ek(e);let d=null;c&&(f==null?void 0:f.url)&&(d=Ime(c,f.url)),n.onEvent(d||Ok())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${o.packageName.toLowerCase()}://`;oa().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(l)&&a({url:f}),typeof u=="function")try{u(f)}catch(c){console.error(c)}}}}const Nme=Cme;function Ok(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dme(t,e){Qt(t)._logFramework(e)}var Lme="@firebase/auth-compat",$me="0.2.24";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mme=1e3;function Tc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function jme(){return Tc()==="http:"||Tc()==="https:"}function BL(t=vt()){return!!((Tc()==="file:"||Tc()==="ionic:"||Tc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fme(){return tE()||jm()}function Ume(){return $D()&&(document==null?void 0:document.documentMode)===11}function qme(t=vt()){return/Edge\/\d+/.test(t)}function Bme(t=vt()){return Ume()||qme(t)}function VL(){try{const t=self.localStorage,e=sd();if(t)return t.setItem(e,"1"),t.removeItem(e),Bme()?sf():!0}catch{return wE()&&sf()}return!1}function wE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function i0(){return(jme()||LD()||BL())&&!Fme()&&VL()&&!wE()}function zL(){return BL()&&typeof document<"u"}async function Vme(){return zL()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Mme);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function zme(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={LOCAL:"local",NONE:"none",SESSION:"session"},zl=be,HL="persistence";function Hme(t,e){if(zl(Object.values(or).includes(e),t,"invalid-persistence-type"),tE()){zl(e!==or.SESSION,t,"unsupported-persistence-type");return}if(jm()){zl(e===or.NONE,t,"unsupported-persistence-type");return}if(wE()){zl(e===or.NONE||e===or.LOCAL&&sf(),t,"unsupported-persistence-type");return}zl(e===or.NONE||VL(),t,"unsupported-persistence-type")}async function p_(t){await t._initializationPromise;const e=WL(),n=Hs(HL,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Wme(t,e){const n=WL();if(!n)return[];const r=Hs(HL,t,e);switch(n.getItem(r)){case or.NONE:return[Du];case or.LOCAL:return[hf,ia];case or.SESSION:return[ia];default:return[]}}function WL(){var t;try{return((t=zme())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gme=be;class Ao{constructor(){this.browserResolver=ar(lme),this.cordovaResolver=ar(Nme),this.underlyingResolver=null,this._redirectPersistence=ia,this._completeRedirectFn=Ym,this._overrideRedirectResult=_E}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return zL()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gme(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Vme();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return t.unwrap()}function Kme(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qme(t){return KL(t)}function Yme(t,e){var n,r;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(((r=e)===null||r===void 0?void 0:r.code)==="auth/multi-factor-auth-required"){const o=e;o.resolver=new Xme(t,Cpe(t,e))}else if(i){const o=KL(e),s=e;o&&(s.credential=o,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function KL(t){const{_tokenResponse:e}=t instanceof bn?t.customData:t;if(!e)return null;if(!(t instanceof bn)&&"temporaryProof"in e&&"phoneNumber"in e)return Fr.credentialFromResult(t);const n=e.providerId;if(!n||n===Vl.PASSWORD)return null;let r;switch(n){case Vl.GOOGLE:r=Yr;break;case Vl.FACEBOOK:r=Qr;break;case Vl.GITHUB:r=Xr;break;case Vl.TWITTER:r=Zr;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:u}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?Lu._create(n,a):gi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new mu(n).credential({idToken:i,accessToken:o,rawNonce:u})}return t instanceof bn?r.credentialFromError(t):r.credentialFromResult(t)}function Bn(t,e){return e.catch(n=>{throw n instanceof bn&&Yme(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Qme(n),additionalUserInfo:Ppe(n),user:Li.getOrCreate(i)}})}async function g_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Bn(t,n.confirm(r))}}class Xme{constructor(e,n){this.resolver=n,this.auth=Kme(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Bn(GL(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._delegate=e,this.multiFactor=$pe(e)}static getOrCreate(e){return Li.USER_MAP.has(e)||Li.USER_MAP.set(e,new Li(e)),Li.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Bn(this.auth,bL(this._delegate,e))}async linkWithPhoneNumber(e,n){return g_(this.auth,gge(this._delegate,e,n))}async linkWithPopup(e){return Bn(this.auth,Tge(this._delegate,e,Ao))}async linkWithRedirect(e){return await p_(Qt(this.auth)),Nge(this._delegate,e,Ao)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Bn(this.auth,wL(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return g_(this.auth,mge(this._delegate,e,n))}reauthenticateWithPopup(e){return Bn(this.auth,Oge(this._delegate,e,Ao))}async reauthenticateWithRedirect(e){return await p_(Qt(this.auth)),Pge(this._delegate,e,Ao)}sendEmailVerification(e){return bpe(this._delegate,e)}async unlink(e){return await spe(this._delegate,e),this}updateEmail(e){return Tpe(this._delegate,e)}updatePassword(e){return Spe(this._delegate,e)}updatePhoneNumber(e){return yge(this._delegate,e)}updateProfile(e){return Ope(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return wpe(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Li.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=be;class m_{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Hl(r,"invalid-api-key",{appName:e.name}),Hl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ao:void 0;this._delegate=n.initialize({options:{persistence:Zme(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hhe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Li.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){jhe(this._delegate,e,n)}applyActionCode(e){return fpe(this._delegate,e)}checkActionCode(e){return EL(this._delegate,e)}confirmPasswordReset(e,n){return cpe(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Bn(this._delegate,hpe(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _pe(this._delegate,e)}isSignInWithEmailLink(e){return mpe(this._delegate,e)}async getRedirectResult(){Hl(i0(),this._delegate,"operation-not-supported-in-this-environment");const e=await Lge(this._delegate,Ao);return e?Bn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Dme(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=Tk(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=Tk(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return gpe(this._delegate,e,n)}sendPasswordResetEmail(e,n){return lpe(this._delegate,e,n||void 0)}async setPersistence(e){Hme(this._delegate,e);let n;switch(e){case or.SESSION:n=ia;break;case or.LOCAL:n=await ar(hf)._isAvailable()?hf:pE;break;case or.NONE:n=Du;break;default:return dn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Bn(this._delegate,ope(this._delegate))}signInWithCredential(e){return Bn(this._delegate,zm(this._delegate,e))}signInWithCustomToken(e){return Bn(this._delegate,upe(this._delegate,e))}signInWithEmailAndPassword(e,n){return Bn(this._delegate,ppe(this._delegate,e,n))}signInWithEmailLink(e,n){return Bn(this._delegate,ype(this._delegate,e,n))}signInWithPhoneNumber(e,n){return g_(this._delegate,pge(this._delegate,e,n))}async signInWithPopup(e){return Hl(i0(),this._delegate,"operation-not-supported-in-this-environment"),Bn(this._delegate,Ege(this._delegate,e,Ao))}async signInWithRedirect(e){return Hl(i0(),this._delegate,"operation-not-supported-in-this-environment"),await p_(this._delegate),xge(this._delegate,e,Ao)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return dpe(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}m_.Persistence=or;function Tk(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&Li.getOrCreate(s)),error:e,complete:n}}function Zme(t,e){const n=Wme(t,e);if(typeof self<"u"&&!n.includes(hf)&&n.push(hf),typeof window<"u")for(const r of[pE,ia])n.includes(r)||n.push(r);return n.includes(Du)||n.push(Du),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.providerId="phone",this._delegate=new Fr(GL(Oi.auth()))}static credential(e,n){return Fr.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}EE.PHONE_SIGN_IN_METHOD=Fr.PHONE_SIGN_IN_METHOD;EE.PROVIDER_ID=Fr.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme=be;class eye{constructor(e,n,r=Oi.app()){var i;Jme((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new dge(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tye="auth-compat";function nye(t){t.INTERNAL.registerComponent(new kr(tye,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new m_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ja.EMAIL_SIGNIN,PASSWORD_RESET:ja.PASSWORD_RESET,RECOVER_EMAIL:ja.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ja.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ja.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ja.VERIFY_EMAIL}},EmailAuthProvider:us,FacebookAuthProvider:Qr,GithubAuthProvider:Xr,GoogleAuthProvider:Yr,OAuthProvider:mu,SAMLAuthProvider:Up,PhoneAuthProvider:EE,PhoneMultiFactorGenerator:qL,RecaptchaVerifier:eye,TwitterAuthProvider:Zr,Auth:m_,AuthCredential:gl,Error:bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Lme,$me)}nye(Oi);var rye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe,OE=OE||{},Le=rye||self;function zp(){}function Xm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ud(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iye(t){return Object.prototype.hasOwnProperty.call(t,o0)&&t[o0]||(t[o0]=++oye)}var o0="closure_uid_"+(1e9*Math.random()>>>0),oye=0;function sye(t,e,n){return t.call.apply(t.bind,arguments)}function aye(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wn=sye:wn=aye,wn.apply(null,arguments)}function sh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ls(){this.s=this.s,this.o=this.o}var uye=0;ls.prototype.s=!1;ls.prototype.na=function(){!this.s&&(this.s=!0,this.M(),uye!=0)&&iye(this)};ls.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function TE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xm(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function En(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var lye=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Le.addEventListener("test",zp,e),Le.removeEventListener("test",zp,e)}catch{}return t}();function Hp(t){return/^[\s\xa0]*$/.test(t)}var Ak=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function s0(t,e){return t<e?-1:t>e?1:0}function Zm(){var t=Le.navigator;return t&&(t=t.userAgent)?t:""}function Jr(t){return Zm().indexOf(t)!=-1}function SE(t){return SE[" "](t),t}SE[" "]=zp;function cye(t){var e=hye;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var fye=Jr("Opera"),$u=Jr("Trident")||Jr("MSIE"),YL=Jr("Edge"),y_=YL||$u,XL=Jr("Gecko")&&!(Zm().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),dye=Zm().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge");function ZL(){var t=Le.document;return t?t.documentMode:void 0}var Wp;e:{var a0="",u0=function(){var t=Zm();if(XL)return/rv:([^\);]+)(\)|;)/.exec(t);if(YL)return/Edge\/([\d\.]+)/.exec(t);if($u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dye)return/WebKit\/(\S+)/.exec(t);if(fye)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(u0&&(a0=u0?u0[1]:""),$u){var l0=ZL();if(l0!=null&&l0>parseFloat(a0)){Wp=String(l0);break e}}Wp=a0}var hye={};function pye(){return cye(function(){let t=0;const e=Ak(String(Wp)).split("."),n=Ak("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=s0(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||s0(i[2].length==0,o[2].length==0)||s0(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var v_;if(Le.document&&$u){var Ik=ZL();v_=Ik||parseInt(Wp,10)||void 0}else v_=void 0;var gye=v_;function pf(t,e){if(En.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XL){e:{try{SE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mye[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pf.X.h.call(this)}}hn(pf,En);var mye={2:"touch",3:"pen",4:"mouse"};pf.prototype.h=function(){pf.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ld="closure_listenable_"+(1e6*Math.random()|0),yye=0;function vye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++yye,this.ba=this.ea=!1}function Jm(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function AE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JL(t){const e={};for(const n in t)e[n]=t[n];return e}const kk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function e$(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<kk.length;o++)n=kk[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ey(t){this.src=t,this.g={},this.h=0}ey.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=b_(t,e,r,i);return-1<s?(e=t[s],n||(e.ea=!1)):(e=new vye(e,this.src,o,!!r,i),e.ea=n,t.push(e)),e};function __(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=QL(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Jm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function b_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}var IE="closure_lm_"+(1e6*Math.random()|0),c0={};function t$(t,e,n,r,i){if(r&&r.once)return r$(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)t$(t,e[o],n,r,i);return null}return n=RE(n),t&&t[ld]?t.N(e,n,ud(r)?!!r.capture:!!r,i):n$(t,e,n,!1,r,i)}function n$(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ud(i)?!!i.capture:!!i,a=xE(t);if(a||(t[IE]=a=new ey(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=_ye(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lye||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(o$(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _ye(){function t(n){return e.call(t.src,t.listener,n)}const e=bye;return t}function r$(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)r$(t,e[o],n,r,i);return null}return n=RE(n),t&&t[ld]?t.O(e,n,ud(r)?!!r.capture:!!r,i):n$(t,e,n,!0,r,i)}function i$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)i$(t,e[o],n,r,i);else r=ud(r)?!!r.capture:!!r,n=RE(n),t&&t[ld]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=b_(o,n,r,i),-1<n&&(Jm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=xE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=b_(e,n,r,i)),(n=-1<t?e[t]:null)&&kE(n))}function kE(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ld])__(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(o$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xE(e))?(__(n,t),n.h==0&&(n.src=null,e[IE]=null)):Jm(t)}}}function o$(t){return t in c0?c0[t]:c0[t]="on"+t}function bye(t,e){if(t.ba)t=!0;else{e=new pf(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&kE(t),t=n.call(r,e)}return t}function xE(t){return t=t[IE],t instanceof ey?t:null}var f0="__closure_events_fn_"+(1e9*Math.random()>>>0);function RE(t){return typeof t=="function"?t:(t[f0]||(t[f0]=function(e){return t.handleEvent(e)}),t[f0])}function Yt(){ls.call(this),this.i=new ey(this),this.P=this,this.I=null}hn(Yt,ls);Yt.prototype[ld]=!0;Yt.prototype.removeEventListener=function(t,e,n,r){i$(this,t,e,n,r)};function cn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new En(e,t);else if(e instanceof En)e.target=e.target||t;else{var i=e;e=new En(r,t),e$(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ah(s,r,!0,e)&&i}if(s=e.g=t,i=ah(s,r,!0,e)&&i,i=ah(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=ah(s,r,!1,e)&&i}Yt.prototype.M=function(){if(Yt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jm(n[r]);delete t.g[e],t.h--}}this.I=null};Yt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ah(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,u=s.ha||s.src;s.ea&&__(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var PE=Le.JSON.stringify;function wye(){var t=u$;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Eye{constructor(){this.h=this.g=null}add(e,n){const r=s$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var s$=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Oye,t=>t.reset());class Oye{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Tye(t){Le.setTimeout(()=>{throw t},0)}function a$(t,e){w_||Sye(),E_||(w_(),E_=!0),u$.add(t,e)}var w_;function Sye(){var t=Le.Promise.resolve(void 0);w_=function(){t.then(Aye)}}var E_=!1,u$=new Eye;function Aye(){for(var t;t=wye();){try{t.h.call(t.g)}catch(n){Tye(n)}var e=s$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}E_=!1}function ty(t,e){Yt.call(this),this.h=t||1,this.g=e||Le,this.j=wn(this.lb,this),this.l=Date.now()}hn(ty,Yt);xe=ty.prototype;xe.ca=!1;xe.R=null;xe.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),cn(this,"tick"),this.ca&&(CE(this),this.start()))}};xe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function CE(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}xe.M=function(){ty.X.M.call(this),CE(this),delete this.g};function NE(t,e,n){if(typeof t=="function")n&&(t=wn(t,n));else if(t&&typeof t.handleEvent=="function")t=wn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Le.setTimeout(t,e||0)}function l$(t){t.g=NE(()=>{t.g=null,t.i&&(t.i=!1,l$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Iye extends ls{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l$(this)}M(){super.M(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gf(t){ls.call(this),this.h=t,this.g={}}hn(gf,ls);var xk=[];function c$(t,e,n,r){Array.isArray(n)||(n&&(xk[0]=n.toString()),n=xk);for(var i=0;i<n.length;i++){var o=t$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function f$(t){AE(t.g,function(e,n){this.g.hasOwnProperty(n)&&kE(e)},t),t.g={}}gf.prototype.M=function(){gf.X.M.call(this),f$(this)};gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ny(){this.g=!0}ny.prototype.Aa=function(){this.g=!1};function kye(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var f=l[0];l=l[1];var c=f.split("_");s=2<=c.length&&c[1]=="type"?s+(f+"="+l+"&"):s+(f+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function xye(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ou(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pye(t,n)+(r?" "+r:"")})}function Rye(t,e){t.info(function(){return"TIMEOUT: "+e})}ny.prototype.info=function(){};function Pye(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return PE(n)}catch{return e}}var Ra={},Rk=null;function ry(){return Rk=Rk||new Yt}Ra.Pa="serverreachability";function d$(t){En.call(this,Ra.Pa,t)}hn(d$,En);function mf(t){const e=ry();cn(e,new d$(e))}Ra.STAT_EVENT="statevent";function h$(t,e){En.call(this,Ra.STAT_EVENT,t),this.stat=e}hn(h$,En);function Cn(t){const e=ry();cn(e,new h$(e,t))}Ra.Qa="timingevent";function p$(t,e){En.call(this,Ra.Qa,t),this.size=e}hn(p$,En);function cd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){t()},e)}var iy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},g$={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function DE(){}DE.prototype.h=null;function Pk(t){return t.h||(t.h=t.i())}function m$(){}var fd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function LE(){En.call(this,"d")}hn(LE,En);function $E(){En.call(this,"c")}hn($E,En);var O_;function oy(){}hn(oy,DE);oy.prototype.g=function(){return new XMLHttpRequest};oy.prototype.i=function(){return{}};O_=new oy;function dd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new gf(this),this.O=Cye,t=y_?125:void 0,this.T=new ty(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new y$}function y$(){this.i=null,this.g="",this.h=!1}var Cye=45e3,T_={},Gp={};xe=dd.prototype;xe.setTimeout=function(t){this.O=t};function S_(t,e,n){t.K=1,t.v=ay(Qi(e)),t.s=n,t.P=!0,v$(t,null)}function v$(t,e){t.F=Date.now(),hd(t),t.A=Qi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),A$(n.i,"t",r),t.C=0,n=t.l.H,t.h=new y$,t.g=G$(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Iye(wn(t.La,t,t.g),t.N)),c$(t.S,t.g,"readystatechange",t.ib),e=t.H?JL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),mf(),kye(t.j,t.u,t.A,t.m,t.U,t.s)}xe.ib=function(t){t=t.target;const e=this.L;e&&$i(t)==3?e.l():this.La(t)};xe.La=function(t){try{if(t==this.g)e:{const f=$i(this.g);var e=this.g.Ea();const c=this.g.aa();if(!(3>f)&&(f!=3||y_||this.g&&(this.h.h||this.g.fa()||Lk(this.g)))){this.I||f!=4||e==7||(e==8||0>=c?mf(3):mf(2)),sy(this);var n=this.g.aa();this.Y=n;t:if(_$(this)){var r=Lk(this.g);t="";var i=r.length,o=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),Sc(this);var s="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=n==200,xye(this.j,this.u,this.A,this.m,this.U,f,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hp(a)){var l=a;break t}}l=null}if(n=l)ou(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,A_(this,n);else{this.i=!1,this.o=3,Cn(12),$s(this),Sc(this);break e}}this.P?(b$(this,f,s),y_&&this.i&&f==3&&(c$(this.S,this.T,"tick",this.hb),this.T.start())):(ou(this.j,this.m,s,null),A_(this,s)),f==4&&$s(this),this.i&&!this.I&&(f==4?V$(this.l,this):(this.i=!1,hd(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),$s(this),Sc(this)}}}catch{}finally{}};function _$(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function b$(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=Nye(t,n),i==Gp){e==4&&(t.o=4,Cn(14),r=!1),ou(t.j,t.m,null,"[Incomplete Response]");break}else if(i==T_){t.o=4,Cn(15),ou(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ou(t.j,t.m,i,null),A_(t,i);_$(t)&&i!=Gp&&i!=T_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),VE(e),e.K=!0,Cn(11))):(ou(t.j,t.m,n,"[Invalid Chunked Response]"),$s(t),Sc(t))}xe.hb=function(){if(this.g){var t=$i(this.g),e=this.g.fa();this.C<e.length&&(sy(this),b$(this,t,e),this.i&&t!=4&&hd(this))}};function Nye(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Gp:(n=Number(e.substring(n,r)),isNaN(n)?T_:(r+=1,r+n>e.length?Gp:(e=e.substr(r,n),t.C=r+n,e)))}xe.cancel=function(){this.I=!0,$s(this)};function hd(t){t.V=Date.now()+t.O,w$(t,t.O)}function w$(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=cd(wn(t.gb,t),e)}function sy(t){t.B&&(Le.clearTimeout(t.B),t.B=null)}xe.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(Rye(this.j,this.A),this.K!=2&&(mf(),Cn(17)),$s(this),this.o=2,Sc(this)):w$(this,this.V-t)};function Sc(t){t.l.G==0||t.I||V$(t.l,t)}function $s(t){sy(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,CE(t.T),f$(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function A_(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||I_(n.h,t))){if(!t.J&&I_(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Yp(n),cy(n);else break e;BE(n),Cn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=cd(wn(n.cb,n),6e3));if(1>=x$(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ms(n,11)}else if((t.J||n.g==t)&&Yp(n),!Hp(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const f=l[3];f!=null&&(n.ma=f,n.j.info("VER="+n.ma));const c=l[4];c!=null&&(n.Ca=c,n.j.info("SVER="+n.Ca));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.h;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ME(o,o.h),o.h=null))}if(r.D){const m=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,ct(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var s=t;if(r.sa=W$(r,r.H?r.ka:null,r.V),s.J){R$(r.h,s);var a=s,u=r.J;u&&a.setTimeout(u),a.B&&(sy(a),hd(a)),r.g=s}else q$(r);0<n.i.length&&fy(n)}else l[0]!="stop"&&l[0]!="close"||Ms(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ms(n,7):qE(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}mf(4)}catch{}}function Dye(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Lye(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function E$(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Lye(t),r=Dye(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var O$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $ye(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gs){this.h=e!==void 0?e:t.h,Kp(this,t.j),this.s=t.s,this.g=t.g,Qp(this,t.m),this.l=t.l,e=t.i;var n=new yf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ck(this,n),this.o=t.o}else t&&(n=String(t).match(O$))?(this.h=!!e,Kp(this,n[1]||"",!0),this.s=ac(n[2]||""),this.g=ac(n[3]||"",!0),Qp(this,n[4]),this.l=ac(n[5]||"",!0),Ck(this,n[6]||"",!0),this.o=ac(n[7]||"")):(this.h=!!e,this.i=new yf(null,this.h))}Gs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uc(e,Nk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(uc(e,Nk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(uc(n,n.charAt(0)=="/"?Fye:jye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uc(n,qye)),t.join("")};function Qi(t){return new Gs(t)}function Kp(t,e,n){t.j=n?ac(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ck(t,e,n){e instanceof yf?(t.i=e,Bye(t.i,t.h)):(n||(e=uc(e,Uye)),t.i=new yf(e,t.h))}function ct(t,e,n){t.i.set(e,n)}function ay(t){return ct(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ac(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Mye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mye(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Nk=/[#\/\?@]/g,jye=/[#\?:]/g,Fye=/[#\?]/g,Uye=/[#\?@]/g,qye=/#/g;function yf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cs(t){t.g||(t.g=new Map,t.h=0,t.i&&$ye(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}xe=yf.prototype;xe.add=function(t,e){cs(this),this.i=null,t=yl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function T$(t,e){cs(t),e=yl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function S$(t,e){return cs(t),e=yl(t,e),t.g.has(e)}xe.forEach=function(t,e){cs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};xe.oa=function(){cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};xe.W=function(t){cs(this);let e=[];if(typeof t=="string")S$(this,t)&&(e=e.concat(this.g.get(yl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};xe.set=function(t,e){return cs(this),this.i=null,t=yl(this,t),S$(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};xe.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function A$(t,e,n){T$(t,e),0<n.length&&(t.i=null,t.g.set(yl(t,e),TE(n)),t.h+=n.length)}xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function yl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Bye(t,e){e&&!t.j&&(cs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(T$(this,r),A$(this,i,n))},t)),t.j=e}var Vye=class{constructor(t,e){this.h=t,this.g=e}};function I$(t){this.l=t||zye,Le.PerformanceNavigationTiming?(t=Le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Le.g&&Le.g.Ga&&Le.g.Ga()&&Le.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zye=10;function k$(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function x$(t){return t.h?1:t.g?t.g.size:0}function I_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ME(t,e){t.g?t.g.add(e):t.h=e}function R$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}I$.prototype.cancel=function(){if(this.i=P$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function P$(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return TE(t.i)}function jE(){}jE.prototype.stringify=function(t){return Le.JSON.stringify(t,void 0)};jE.prototype.parse=function(t){return Le.JSON.parse(t,void 0)};function Hye(){this.g=new jE}function Wye(t,e,n){const r=n||"";try{E$(t,function(i,o){let s=i;ud(i)&&(s=PE(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gye(t,e){const n=new ny;if(Le.Image){const r=new Image;r.onload=sh(uh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sh(uh,n,r,"TestLoadImage: error",!1,e),r.onabort=sh(uh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sh(uh,n,r,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pd(t){this.l=t.ac||null,this.j=t.jb||!1}hn(pd,DE);pd.prototype.g=function(){return new uy(this.l,this.j)};pd.prototype.i=function(t){return function(){return t}}({});function uy(t,e){Yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=FE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(uy,Yt);var FE=0;xe=uy.prototype;xe.open=function(t,e){if(this.readyState!=FE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vf(this)};xe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gd(this)),this.readyState=FE};xe.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C$(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function C$(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}xe.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gd(this):vf(this),this.readyState==3&&C$(this)}};xe.Va=function(t){this.g&&(this.response=this.responseText=t,gd(this))};xe.Ua=function(t){this.g&&(this.response=t,gd(this))};xe.ga=function(){this.g&&gd(this)};function gd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vf(t)}xe.setRequestHeader=function(t,e){this.v.append(t,e)};xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Kye=Le.JSON.parse;function wt(t){Yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=N$,this.K=this.L=!1}hn(wt,Yt);var N$="",Qye=/^https?$/i,Yye=["POST","PUT"];xe=wt.prototype;xe.Ka=function(t){this.L=t};xe.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():O_.g(),this.C=this.u?Pk(this.u):Pk(O_),this.g.onreadystatechange=wn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){Dk(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Le.FormData&&t instanceof Le.FormData,!(0<=QL(Yye,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$$(this),0<this.B&&((this.K=Xye(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wn(this.qa,this)):this.A=NE(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Dk(this,o)}};function Xye(t){return $u&&pye()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}xe.qa=function(){typeof OE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))};function Dk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,D$(t),ly(t)}function D$(t){t.D||(t.D=!0,cn(t,"complete"),cn(t,"error"))}xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,cn(this,"complete"),cn(this,"abort"),ly(this))};xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ly(this,!0)),wt.X.M.call(this)};xe.Ha=function(){this.s||(this.F||this.v||this.l?L$(this):this.fb())};xe.fb=function(){L$(this)};function L$(t){if(t.h&&typeof OE<"u"&&(!t.C[1]||$i(t)!=4||t.aa()!=2)){if(t.v&&$i(t)==4)NE(t.Ha,0,t);else if(cn(t,"readystatechange"),$i(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(O$)[1]||null;if(!i&&Le.self&&Le.self.location){var o=Le.self.location.protocol;i=o.substr(0,o.length-1)}r=!Qye.test(i?i.toLowerCase():"")}n=r}if(n)cn(t,"complete"),cn(t,"success");else{t.m=6;try{var s=2<$i(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.aa()+"]",D$(t)}}finally{ly(t)}}}}function ly(t,e){if(t.g){$$(t);const n=t.g,r=t.C[0]?zp:null;t.g=null,t.C=null,e||cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function $$(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Le.clearTimeout(t.A),t.A=null)}function $i(t){return t.g?t.g.readyState:0}xe.aa=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}};xe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};xe.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Kye(e)}};function Lk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case N$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}xe.Ea=function(){return this.m};xe.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function M$(t){let e="";return AE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function UE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=M$(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ct(t,e,n))}function Wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j$(t){this.Ca=0,this.i=[],this.j=new ny,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wl("baseRetryDelayMs",5e3,t),this.bb=Wl("retryDelaySeedMs",1e4,t),this.$a=Wl("forwardChannelMaxRetries",2,t),this.ta=Wl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new I$(t&&t.concurrentRequestLimit),this.Fa=new Hye,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}xe=j$.prototype;xe.ma=8;xe.G=1;function qE(t){if(F$(t),t.G==3){var e=t.U++,n=Qi(t.F);ct(n,"SID",t.I),ct(n,"RID",e),ct(n,"TYPE","terminate"),md(t,n),e=new dd(t,t.j,e,void 0),e.K=2,e.v=ay(Qi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(e.v.toString(),"")),!n&&Le.Image&&(new Image().src=e.v,n=!0),n||(e.g=G$(e.l,null),e.g.da(e.v)),e.F=Date.now(),hd(e)}H$(t)}function cy(t){t.g&&(VE(t),t.g.cancel(),t.g=null)}function F$(t){cy(t),t.u&&(Le.clearTimeout(t.u),t.u=null),Yp(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Le.clearTimeout(t.m),t.m=null)}function fy(t){k$(t.h)||t.m||(t.m=!0,a$(t.Ja,t),t.C=0)}function Zye(t,e){return x$(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=cd(wn(t.Ja,t,e),z$(t,t.C)),t.C++,!0)}xe.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new dd(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=JL(o),e$(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=U$(this,i,e),n=Qi(this.F),ct(n,"RID",t),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),md(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(M$(o)))+"&"+e:this.o&&UE(n,this.o,o)),ME(this.h,i),this.Ya&&ct(n,"TYPE","init"),this.O?(ct(n,"$req",e),ct(n,"SID","null"),i.Z=!0,S_(i,n,null)):S_(i,n,e),this.G=2}}else this.G==3&&(t?$k(this,t):this.i.length==0||k$(this.h)||$k(this))};function $k(t,e){var n;e?n=e.m:n=t.U++;const r=Qi(t.F);ct(r,"SID",t.I),ct(r,"RID",n),ct(r,"AID",t.T),md(t,r),t.o&&t.s&&UE(r,t.o,t.s),n=new dd(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=U$(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ME(t.h,n),S_(n,r,e)}function md(t,e){t.ia&&AE(t.ia,function(n,r){ct(e,r,n)}),t.l&&E$({},function(n,r){ct(e,r,n)})}function U$(t,e,n){n=Math.min(t.i.length,n);var r=t.l?wn(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const f=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{Wye(f,s,"req"+l+"_")}catch{r&&r(f)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function q$(t){t.g||t.u||(t.Z=1,a$(t.Ia,t),t.A=0)}function BE(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=cd(wn(t.Ia,t),z$(t,t.A)),t.A++,!0)}xe.Ia=function(){if(this.u=null,B$(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=cd(wn(this.eb,this),t)}};xe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Cn(10),cy(this),B$(this))};function VE(t){t.B!=null&&(Le.clearTimeout(t.B),t.B=null)}function B$(t){t.g=new dd(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Qi(t.sa);ct(e,"RID","rpc"),ct(e,"SID",t.I),ct(e,"CI",t.L?"0":"1"),ct(e,"AID",t.T),ct(e,"TYPE","xmlhttp"),md(t,e),t.o&&t.s&&UE(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ay(Qi(e)),n.s=null,n.P=!0,v$(n,t)}xe.cb=function(){this.v!=null&&(this.v=null,cy(this),BE(this),Cn(19))};function Yp(t){t.v!=null&&(Le.clearTimeout(t.v),t.v=null)}function V$(t,e){var n=null;if(t.g==e){Yp(t),VE(t),t.g=null;var r=2}else if(I_(t.h,e))n=e.D,R$(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ry(),cn(r,new p$(r,n)),fy(t)}else q$(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&Zye(t,e)||r==2&&BE(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ms(t,5);break;case 4:Ms(t,10);break;case 3:Ms(t,6);break;default:Ms(t,2)}}}function z$(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ms(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=wn(t.kb,t);n||(n=new Gs("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Kp(n,"https"),ay(n)),Gye(n.toString(),r)}else Cn(2);t.G=0,t.l&&t.l.va(e),H$(t),F$(t)}xe.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function H$(t){if(t.G=0,t.la=[],t.l){const e=P$(t.h);(e.length!=0||t.i.length!=0)&&(Sk(t.la,e),Sk(t.la,t.i),t.h.i.length=0,TE(t.i),t.i.length=0),t.l.ua()}}function W$(t,e,n){var r=n instanceof Gs?Qi(n):new Gs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Qp(r,r.m);else{var i=Le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Gs(null,void 0);r&&Kp(o,r),e&&(o.g=e),i&&Qp(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&ct(r,n,e),ct(r,"VER",t.ma),md(t,r),r}function G$(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new wt(new pd({jb:!0})):new wt(t.ra),e.Ka(t.H),e}function K$(){}xe=K$.prototype;xe.xa=function(){};xe.wa=function(){};xe.va=function(){};xe.ua=function(){};xe.Ra=function(){};function Xp(){if($u&&!(10<=Number(gye)))throw Error("Environmental error: no available transport.")}Xp.prototype.g=function(t,e){return new dr(t,e)};function dr(t,e){Yt.call(this),this.g=new j$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Hp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hp(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vl(this)}hn(dr,Yt);dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=W$(t,null,t.V),fy(t)};dr.prototype.close=function(){qE(this.g)};dr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=PE(t),t=n);e.i.push(new Vye(e.ab++,t)),e.G==3&&fy(e)};dr.prototype.M=function(){this.g.l=null,delete this.j,qE(this.g),delete this.g,dr.X.M.call(this)};function Q$(t){LE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(Q$,LE);function Y$(){$E.call(this),this.status=1}hn(Y$,$E);function vl(t){this.g=t}hn(vl,K$);vl.prototype.xa=function(){cn(this.g,"a")};vl.prototype.wa=function(t){cn(this.g,new Q$(t))};vl.prototype.va=function(t){cn(this.g,new Y$)};vl.prototype.ua=function(){cn(this.g,"b")};Xp.prototype.createWebChannel=Xp.prototype.g;dr.prototype.send=dr.prototype.u;dr.prototype.open=dr.prototype.m;dr.prototype.close=dr.prototype.close;iy.NO_ERROR=0;iy.TIMEOUT=8;iy.HTTP_ERROR=6;g$.COMPLETE="complete";m$.EventType=fd;fd.OPEN="a";fd.CLOSE="b";fd.ERROR="c";fd.MESSAGE="d";Yt.prototype.listen=Yt.prototype.N;wt.prototype.listenOnce=wt.prototype.O;wt.prototype.getLastError=wt.prototype.Oa;wt.prototype.getLastErrorCode=wt.prototype.Ea;wt.prototype.getStatus=wt.prototype.aa;wt.prototype.getResponseJson=wt.prototype.Sa;wt.prototype.getResponseText=wt.prototype.fa;wt.prototype.send=wt.prototype.da;wt.prototype.setWithCredentials=wt.prototype.Ka;var Jye=function(){return new Xp},eve=function(){return ry()},d0=iy,tve=g$,nve=Ra,Mk={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rve=pd,lh=m$,ive=wt;const jk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="9.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Fm("@firebase/firestore");function k_(){return Ko.logLevel}function ove(t){Ko.setLogLevel(t)}function me(t,...e){if(Ko.logLevel<=He.DEBUG){const n=e.map(zE);Ko.debug(`Firestore (${_l}): ${t}`,...n)}}function At(t,...e){if(Ko.logLevel<=He.ERROR){const n=e.map(zE);Ko.error(`Firestore (${_l}): ${t}`,...n)}}function Mu(t,...e){if(Ko.logLevel<=He.WARN){const n=e.map(zE);Ko.warn(`Firestore (${_l}): ${t}`,...n)}}function zE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+t;throw At(e),new Error(e)}function De(t,e){t||Se()}function sve(t,e){t||Se()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ave{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class uve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lve{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gt,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gt)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new X$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Bt(e)}}class cve{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(De(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class fve{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new cve(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dve{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hve{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.A=n.token,new dve(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function J$(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ht(0,0))}static max(){return new Ne(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _f.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _f?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends _f{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const gve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends _f{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return gve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ge(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ze.fromString(e))}static fromName(e){return new we(ze.fromString(e).popFirst(5))}static empty(){return new we(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function x_(t){return t.fields.find(e=>e.kind===2)}function Ss(t){return t.fields.filter(e=>e.kind!==2)}eM.UNKNOWN_ID=-1;class mve{constructor(e,n){this.fieldPath=e,this.kind=n}}class Zp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Zp(0,hr.min())}}function tM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new hr(i,we.empty(),e)}function nM(t){return new hr(t.readTime,t.key,-1)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(Ne.min(),we.empty(),-1)}static max(){return new hr(Ne.max(),we.empty(),-1)}}function HE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==rM)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new le((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Gt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Ac(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=WE(r.target.error);this.P.reject(new Ac(e,i))}}static open(e,n,r,i){try{return new dy(n,e.transaction(i,r))}catch(o){throw new Ac(n,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new vve(n)}}class $r{constructor(e,n,r){this.name=e,this.version=n,this.S=r,$r.D(vt())===12.2&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return me("SimpleDb","Removing database:",e),As(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!sf())return!1;if($r.N())return!0;const e=vt(),n=$r.D(e),r=0<n&&n<10,i=$r.k(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static N(){var e;return typeof process<"u"&&((e={})===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(me("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ge(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ge(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ac(e,s))},i.onupgradeneeded=o=>{me("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.S.$(s,i.transaction,o.oldVersion,this.version).next(()=>{me("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.F(e);const a=dy.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(l=>(a.V(),l)).catch(l=>(a.abort(l),le.reject(l))).toPromise();return u.catch(()=>{}),await a.v,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&s<3;if(me("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class yve{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return As(this.U.delete())}}class Ac extends ge{constructor(e,n){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ds(t){return t.name==="IndexedDbTransactionError"}class vve{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(me("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),As(r)}add(e){return me("SimpleDb","ADD",this.store.name,e,e),As(this.store.add(e))}get(e){return As(this.store.get(e)).next(n=>(n===void 0&&(n=null),me("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return me("SimpleDb","DELETE",this.store.name,e),As(this.store.delete(e))}count(){return me("SimpleDb","COUNT",this.store.name),As(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),o=[];return this.H(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new le((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Y(e,n){me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(o,s,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new le((r,i)=>{n.onerror=o=>{const s=WE(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}H(e,n){const r=[];return new le((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new yve(a),l=n(a.primaryKey,a.value,u);if(l instanceof le){const f=l.catch(c=>(u.done(),le.reject(c)));r.push(f)}u.isDone?i():u.G===null?a.continue():a.continue(u.G)}}).next(()=>le.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function As(t){return new le((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=WE(r.target.error);n(i)}})}let Fk=!1;function WE(t){const e=$r.D(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fk||(Fk=!0,setTimeout(()=>{throw r},0)),r}}return t}class _ve{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){me("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{me("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){ds(n)?me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await fs(n)}await this.nt(6e4)})}}class bve{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,o=!0;return le.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return me("IndexBackiller",`Processing collection: ${s}`),this.rt(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ot(i,o)).next(a=>(me("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=nM(o);HE(s,r)>0&&(r=s)}),new hr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.at=-1;class Et{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:on.RED,this.left=i!=null?i:on.EMPTY,this.right=o!=null?o:on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new on(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(t,e,n,r,i){return this}insert(t,e,n){return new on(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qk(this.data.getIterator())}getIteratorFrom(e){return new qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new lr([])}unionWith(e){let n=new Ze(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wve(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new $t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Eve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(De(!!t),typeof t=="string"){let e=0;const n=Eve.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sM(t){const e=t.mapValue.fields.__previous_value__;return GE(e)?sM(e):e}function bf(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(e,n,r,i,o,s,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}function yd(t){return t==null}function wf(t){return t===0&&1/t==-1/0}function aM(t){return typeof t=="number"&&Number.isInteger(t)&&!wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jh={nullValue:"NULL_VALUE"};function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GE(t)?4:uM(t)?9007199254740991:10:Se()}function mi(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Qo(r.timestampValue),s=Qo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return sa(r.bytesValue).isEqual(sa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=bt(r.doubleValue),s=bt(i.doubleValue);return o===s?wf(o)===wf(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Uk(o)!==Uk(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!mi(o[a],s[a])))return!1;return!0}(t,e);default:return Se()}}function Ef(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=bt(i.integerValue||i.doubleValue),a=bt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Bk(t.timestampValue,e.timestampValue);case 4:return Bk(bf(t),bf(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,o){const s=sa(i),a=sa(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const l=je(s[u],a[u]);if(l!==0)return l}return je(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=je(bt(i.latitude),bt(o.latitude));return s!==0?s:je(bt(i.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const l=Xo(s[u],a[u]);if(l)return l}return je(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Io.mapValue&&o===Io.mapValue)return 0;if(i===Io.mapValue)return 1;if(o===Io.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let f=0;f<a.length&&f<l.length;++f){const c=je(a[f],l[f]);if(c!==0)return c;const d=Xo(s[a[f]],u[l[f]]);if(d!==0)return d}return je(a.length,l.length)}(t.mapValue,e.mapValue);default:throw Se()}}function Bk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Qo(t),r=Qo(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function vu(t){return R_(t)}function R_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Qo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,we.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=R_(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${R_(r.fields[a])}`;return o+"}"}(t.mapValue):Se();var e,n}function ua(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P_(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function Vk(t){return!!t&&"nullValue"in t}function zk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Tve(t){return"nullValue"in t?jh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ua(Yo.empty(),we.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Se()}function Sve(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ua(Yo.empty(),we.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Io:Se()}function Hk(t,e){const n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Wk(t,e){const n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ic(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new sn(Ic(this.value))}}function lM(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new It([n]);if(Fh(r)){const o=lM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,r,i,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new tt(e,0,Ne.min(),Ne.min(),sn.empty(),0)}static newFoundDocument(e,n,r){return new tt(e,1,n,Ne.min(),r,0)}static newNoDocument(e,n){return new tt(e,2,n,Ne.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,Ne.min(),sn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ht=null}}function Gk(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ave(t,e,n,r,i,o,s)}function la(t){const e=Ee(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+vu(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.ht=n}return e.ht}function Ive(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${vu(r.value)}`;var r}).join(", ")}]`),yd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>vu(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>vu(n)).join(",")),`Target(${e})`}function vd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Lve(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!mi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xk(t.startAt,e.startAt)&&Xk(t.endAt,e.endAt)}function Jp(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function eg(t,e){return t.filters.filter(n=>n instanceof an&&n.field.isEqual(e))}function Kk(t,e,n){let r=jh,i=!0;for(const o of eg(t,e)){let s=jh,a=!0;switch(o.op){case"<":case"<=":s=Tve(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=jh}Hk({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Hk({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Qk(t,e,n){let r=Io,i=!0;for(const o of eg(t,e)){let s=Io,a=!0;switch(o.op){case">=":case">":s=Sve(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Io}Wk({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Wk({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}class an extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new kve(e,n,r):n==="array-contains"?new Pve(e,r):n==="in"?new Cve(e,r):n==="not-in"?new Nve(e,r):n==="array-contains-any"?new Dve(e,r):new an(e,n,r)}static lt(e,n,r){return n==="in"?new xve(e,r):new Rve(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Xo(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.ft(Xo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kve extends an{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.ft(n)}}class xve extends an{constructor(e,n){super(e,"in",n),this.keys=cM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rve extends an{constructor(e,n){super(e,"not-in",n),this.keys=cM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class Pve extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&Ef(n.arrayValue,this.value)}}class Cve extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ef(this.value.arrayValue,n)}}class Nve extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ef(this.value.arrayValue,n)}}class Dve extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ef(this.value.arrayValue,r))}}class Zo{constructor(e,n){this.position=e,this.inclusive=n}}class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lve(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=Xo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}}function fM(t,e,n,r,i,o,s,a){return new no(t,e,n,r,i,o,s,a)}function bl(t){return new no(t)}function Zk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function QE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function YE(t){return t.collectionGroup!==null}function Fu(t){const e=Ee(t);if(e._t===null){e._t=[];const n=QE(e),r=KE(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new _u(n)),e._t.push(new _u(It.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e._t.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new _u(It.keyField(),o))}}}return e._t}function tr(t){const e=Ee(t);if(!e.wt)if(e.limitType==="F")e.wt=Gk(e.path,e.collectionGroup,Fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Fu(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new _u(o.field,s))}const r=e.endAt?new Zo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zo(e.startAt.position,e.startAt.inclusive):null;e.wt=Gk(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function tg(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return vd(tr(t),tr(e))&&t.limitType===e.limitType}function dM(t){return`${la(tr(t))}|lt:${t.limitType}`}function C_(t){return`Query(target=${Ive(tr(t))}; limitType=${t.limitType})`}function XE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):we.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=Yk(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Fu(n),r)||n.endAt&&!function(i,o,s){const a=Yk(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Fu(n),r))}(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pM(t){return(e,n)=>{let r=!1;for(const i of Fu(t)){const o=$ve(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $ve(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Xo(a,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function mM(t){return{integerValue:""+t}}function yM(t,e){return aM(e)?mM(e):gM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this._=void 0}}function Mve(t,e,n){return t instanceof Uu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ca?_M(t,e):t instanceof fa?bM(t,e):function(r,i){const o=vM(r,i),s=Jk(o)+Jk(r.yt);return P_(o)&&P_(r.yt)?mM(s):gM(r.It,s)}(t,e)}function jve(t,e,n){return t instanceof ca?_M(t,e):t instanceof fa?bM(t,e):n}function vM(t,e){return t instanceof qu?P_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Uu extends hy{}class ca extends hy{constructor(e){super(),this.elements=e}}function _M(t,e){const n=wM(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends hy{constructor(e){super(),this.elements=e}}function bM(t,e){let n=wM(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class qu extends hy{constructor(e,n){super(),this.It=e,this.yt=n}}function Jk(t){return bt(t.integerValue||t.doubleValue)}function wM(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.field=e,this.transform=n}}function Fve(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ca&&r instanceof ca||n instanceof fa&&r instanceof fa?ju(n.elements,r.elements,mi):n instanceof qu&&r instanceof qu?mi(n.yt,r.yt):n instanceof Uu&&r instanceof Uu}(t.transform,e.transform)}class Uve{constructor(e,n){this.version=e,this.transformResults=n}}class dt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class py{}function EM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new El(t.key,dt.none()):new wl(t.key,t.data,dt.none());{const n=t.data,r=sn.empty();let i=new Ze(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ro(t.key,r,new lr(i.toArray()),dt.none())}}function qve(t,e,n){t instanceof wl?function(r,i,o){const s=r.value.clone(),a=tx(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ro?function(r,i,o){if(!Uh(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=tx(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(OM(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof wl?function(i,o,s,a){if(!Uh(i.precondition,o))return s;const u=i.value.clone(),l=nx(i.fieldTransforms,a,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ro?function(i,o,s,a){if(!Uh(i.precondition,o))return s;const u=nx(i.fieldTransforms,a,o),l=o.data;return l.setAll(OM(i)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,s){return Uh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function Bve(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=vM(r.transform,i||null);o!=null&&(n===null&&(n=sn.empty()),n.set(r.field,o))}return n||null}function ex(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ju(n,r,(i,o)=>Fve(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wl extends py{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ro extends py{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tx(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jve(s,a,n[i]))}return r}function nx(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Mve(o,s,e))}return r}class El extends py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZE extends py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vve{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ve;function TM(t){switch(t){default:return Se();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function SM(t){if(t===void 0)return At("GRPC error has no .code"),de.UNKNOWN;switch(t){case kt.OK:return de.OK;case kt.CANCELLED:return de.CANCELLED;case kt.UNKNOWN:return de.UNKNOWN;case kt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case kt.INTERNAL:return de.INTERNAL;case kt.UNAVAILABLE:return de.UNAVAILABLE;case kt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case kt.NOT_FOUND:return de.NOT_FOUND;case kt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case kt.ABORTED:return de.ABORTED;case kt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case kt.DATA_LOSS:return de.DATA_LOSS;default:return Se()}}(Ve=kt||(kt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zve=new Et(we.comparator);function Yn(){return zve}const AM=new Et(we.comparator);function lc(...t){let e=AM;for(const n of t)e=e.insert(n.key,n);return e}function IM(t){let e=AM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return xc()}function kM(){return xc()}function xc(){return new hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hve=new Et(we.comparator),Wve=new Ze(we.comparator);function Fe(...t){let e=Wve;for(const n of t)e=e.add(n);return e}const Gve=new Ze(je);function gy(){return Gve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(Ne.min(),i,gy(),Yn(),Fe())}}class Ed{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ed(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class xM{constructor(e,n){this.targetId=e,this.At=n}}class RM{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rx{constructor(){this.Rt=0,this.bt=ox(),this.Pt=$t.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Fe(),n=Fe(),r=Fe();return this.bt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Ed(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=ox()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Kve{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Yn(),this.qt=ix(),this.Kt=new Ze(je)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const o=i.target;if(Jp(o))if(r===0){const s=new we(o.path);this.jt(n,s,tt.newNoDocument(s,Ne.min()))}else De(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((o,s)=>{const a=this.Xt(s);if(a){if(o.current&&Jp(a.target)){const u=new we(a.target.path);this.Ut.get(u)!==null||this.ee(s,u)||this.jt(s,u,tt.newNoDocument(u,e))}o.Dt&&(n.set(s,o.xt()),o.Nt())}});let r=Fe();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Xt(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ut.forEach((o,s)=>s.setReadTime(e));const i=new wd(e,n,this.Kt,this.Ut,r);return this.Ut=Yn(),this.qt=ix(),this.Kt=new Ze(je),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new rx,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Ze(je),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new rx),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function ix(){return new Et(we.comparator)}function ox(){return new Et(we.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qve=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Yve=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Xve{constructor(e,n){this.databaseId=e,this.gt=n}}function Tf(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PM(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Zve(t,e){return Tf(t,e.toTimestamp())}function Kt(t){return De(!!t),Ne.fromTimestamp(function(e){const n=Qo(e);return new ht(n.seconds,n.nanos)}(t))}function JE(t,e){return function(n){return new ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function CM(t){const e=ze.fromString(t);return De(UM(e)),e}function Sf(t,e){return JE(t.databaseId,e.path)}function ci(t,e){const n=CM(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(DM(n))}function N_(t,e){return JE(t.databaseId,e)}function NM(t){const e=CM(t);return e.length===4?ze.emptyPath():DM(e)}function Af(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DM(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sx(t,e,n){return{name:Sf(t,e),fields:n.value.mapValue.fields}}function LM(t,e,n){const r=ci(t,e.name),i=Kt(e.updateTime),o=new sn({mapValue:{fields:e.fields}}),s=tt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Jve(t,e){return"found"in e?function(n,r){De(!!r.found),r.found.name,r.found.updateTime;const i=ci(n,r.found.name),o=Kt(r.found.updateTime),s=new sn({mapValue:{fields:r.found.fields}});return tt.newFoundDocument(i,o,s)}(t,e):"missing"in e?function(n,r){De(!!r.missing),De(!!r.readTime);const i=ci(n,r.missing),o=Kt(r.readTime);return tt.newNoDocument(i,o)}(t,e):Se()}function e0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.gt?(De(l===void 0||typeof l=="string"),$t.fromBase64String(l||"")):(De(l===void 0||l instanceof Uint8Array),$t.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const l=u.code===void 0?de.UNKNOWN:SM(u.code);return new ge(l,u.message||"")}(s);n=new RM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ci(t,r.document.name),o=Kt(r.document.updateTime),s=new sn({mapValue:{fields:r.document.fields}}),a=tt.newFoundDocument(i,o,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new qh(u,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ci(t,r.document),o=r.readTime?Kt(r.readTime):Ne.min(),s=tt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ci(t,r.document),o=r.removedTargetIds||[];n=new qh([],o,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new Vve(i),s=r.targetId;n=new xM(s,o)}}return n}function If(t,e){let n;if(e instanceof wl)n={update:sx(t,e.key,e.value)};else if(e instanceof El)n={delete:Sf(t,e.key)};else if(e instanceof ro)n={update:sx(t,e.key,e.data),updateMask:a0e(e.fieldMask)};else{if(!(e instanceof ZE))return Se();n={verify:Sf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qu)return{fieldPath:o.field.canonicalString(),increment:s.yt};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Zve(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function D_(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?dt.updateTime(Kt(i.updateTime)):i.exists!==void 0?dt.exists(i.exists):dt.none()}(e.currentDocument):dt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;if("setToServerValue"in s)De(s.setToServerValue==="REQUEST_TIME"),a=new Uu;else if("appendMissingElements"in s){const l=s.appendMissingElements.values||[];a=new ca(l)}else if("removeAllFromArray"in s){const l=s.removeAllFromArray.values||[];a=new fa(l)}else"increment"in s?a=new qu(o,s.increment):Se();const u=It.fromServerFormat(s.fieldPath);return new bd(u,a)}(t,i)):[];if(e.update){e.update.name;const i=ci(t,e.update.name),o=new sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const u=a.fieldPaths||[];return new lr(u.map(l=>It.fromServerFormat(l)))}(e.updateMask);return new ro(i,o,s,n,r)}return new wl(i,o,n,r)}if(e.delete){const i=ci(t,e.delete);return new El(i,n)}if(e.verify){const i=ci(t,e.verify);return new ZE(i,n)}return Se()}function t0e(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Kt(r.updateTime):Kt(i);return o.isEqual(Ne.min())&&(o=Kt(i)),new Uve(o,r.transformResults||[])}(n,e))):[]}function $M(t,e){return{documents:[N_(t,e.path)]}}function MM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=N_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=N_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length===0)return;const l=u.map(f=>function(c){if(c.op==="=="){if(zk(c.value))return{unaryFilter:{field:Ua(c.field),op:"IS_NAN"}};if(Vk(c.value))return{unaryFilter:{field:Ua(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(zk(c.value))return{unaryFilter:{field:Ua(c.field),op:"IS_NOT_NAN"}};if(Vk(c.value))return{unaryFilter:{field:Ua(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(c.field),op:i0e(c.op),value:c.value}}}(f));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Ua(f.field),direction:r0e(f.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(u,l){return u.gt||yd(l)?l:{value:l}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function jM(t){let e=NM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=FM(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>function(c){return new _u(su(c.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(c.direction))}(f)));let a=null;n.limit&&(a=function(f){let c;return c=typeof f=="object"?f.value:f,yd(c)?null:c}(n.limit));let u=null;n.startAt&&(u=function(f){const c=!!f.before,d=f.values||[];return new Zo(d,c)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const c=!f.before,d=f.values||[];return new Zo(d,c)}(n.endAt)),fM(e,i,s,o,a,"F",u,l)}function n0e(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Se()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function FM(t){return t?t.unaryFilter!==void 0?[s0e(t)]:t.fieldFilter!==void 0?[o0e(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>FM(e)).reduce((e,n)=>e.concat(n)):Se():[]}function r0e(t){return Qve[t]}function i0e(t){return Yve[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function su(t){return It.fromServerFormat(t.fieldPath)}function o0e(t){return an.create(su(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}function s0e(t){switch(t.unaryFilter.op){case"IS_NAN":const e=su(t.unaryFilter.field);return an.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=su(t.unaryFilter.field);return an.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=su(t.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=su(t.unaryFilter.field);return an.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}function a0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ax(e)),e=u0e(t.get(n),e);return ax(e)}function u0e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ax(t){return t+""}function si(t){const e=t.length;if(De(e>=2),e===2)return De(t.charAt(0)===""&&t.charAt(1)===""),ze.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&Se(),t.charAt(s+1)){case"":const a=t.substring(o,s);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Se()}o=s+2}return new ze(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e){return[t,Ln(e)]}function qM(t,e,n){return[t,Ln(e),n]}const l0e={},c0e=["prefixPath","collectionGroup","readTime","documentId"],f0e=["prefixPath","collectionGroup","documentId"],d0e=["collectionGroup","readTime","prefixPath","documentId"],h0e=["canonicalId","targetId"],p0e=["targetId","path"],g0e=["path","targetId"],m0e=["collectionId","parent"],y0e=["indexId","uid"],v0e=["uid","sequenceNumber"],_0e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b0e=["indexId","uid","orderedDocumentKey"],w0e=["userId","collectionPath","documentId"],E0e=["userId","collectionPath","largestBatchId"],O0e=["userId","collectionGroup","largestBatchId"],BM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],T0e=[...BM,"documentOverlays"],VM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zM=VM,S0e=[...zM,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends iM{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Jt(t,e){const n=Ee(t);return $r.M(n.ie,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qve(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=EM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,(n,r)=>ex(n,r))&&ju(this.baseMutations,e.baseMutations,(n,r)=>ex(n,r))}}class tO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=Hve;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new tO(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r,i,o=Ne.min(),s=Ne.min(),a=$t.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.re=e}}function A0e(t,e){let n;if(e.document)n=LM(t.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),i=ha(e.noDocument.readTime);n=tt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const r=we.fromSegments(e.unknownDocument.path),i=ha(e.unknownDocument.version);n=tt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new ht(r[0],r[1]);return Ne.fromTimestamp(i)}(e.readTime)),n}function lx(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Sf(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Tf(i,o.version.toTimestamp())}}(t.re,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:da(e.version)};else{if(!e.isUnknownDocument())return Se();r.unknownDocument={path:n.path.toArray(),version:da(e.version)}}return r}function ng(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function da(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ha(t){const e=new ht(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Is(t,e){const n=(e.baseMutations||[]).map(o=>D_(t.re,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>D_(t.re,o)),i=ht.fromMillis(e.localWriteTimeMs);return new eO(e.batchId,i,n,r)}function cc(t){const e=ha(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ha(t.lastLimboFreeSnapshotVersion):Ne.min();let r;var i;return t.query.documents!==void 0?(De((i=t.query).documents.length===1),r=tr(bl(NM(i.documents[0])))):r=function(o){return tr(jM(o))}(t.query),new qo(r,t.targetId,0,t.lastListenSequenceNumber,e,n,$t.fromBase64String(t.resumeToken))}function WM(t,e){const n=da(e.snapshotVersion),r=da(e.lastLimboFreeSnapshotVersion);let i;i=Jp(e.target)?$M(t.re,e.target):MM(t.re,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:la(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function rO(t){const e=jM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tg(e,e.limit,"L"):e}function h0(t,e){return new nO(e.largestBatchId,D_(t.re,e.overlayMutation))}function cx(t,e){const n=e.path.lastSegment();return[t,Ln(e.path.popLast()),n]}function fx(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:da(r.readTime),documentKey:Ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0e{getBundleMetadata(e,n){return dx(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ha(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return dx(e).put({bundleId:(r=n).id,createTime:da(Kt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return hx(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:rO(i.bundledQuery),readTime:ha(i.readTime)};var i})}saveNamedQuery(e,n){return hx(e).put(function(r){return{name:r.name,readTime:da(Kt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function dx(t){return Jt(t,"bundles")}function hx(t){return Jt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){const r=n.uid||"";return new my(e,r)}getOverlay(e,n){return Gl(e).get(cx(this.userId,n)).next(r=>r?h0(this.It,r):null)}getOverlays(e,n){const r=oi();return le.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new nO(n,s);i.push(this.ue(e,a))}),le.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Ln(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Gl(e).Y("collectionPathOverlayIndex",a))}),le.waitFor(o)}getOverlaysForCollection(e,n,r){const i=oi(),o=Ln(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Gl(e).W("collectionPathOverlayIndex",s).next(a=>{for(const u of a){const l=h0(this.It,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=oi();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gl(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,f)=>{const c=h0(this.It,l);o.size()<i||c.largestBatchId===s?(o.set(c.getKey(),c),s=c.largestBatchId):f.done()}).next(()=>o)}ue(e,n){return Gl(e).put(function(r,i,o){const[s,a,u]=cx(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:If(r.re,o.mutation)}}(this.It,this.userId,n))}}function Gl(t){return Jt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),wf(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),typeof r=="string"?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(sa(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?uM(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):Se()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),we.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}ks.Te=new ks;function k0e(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function px(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=k0e(255&n[i]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}class x0e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Pe(r.value),r=n.next();this.ve()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=n.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const n=this.Ce(e),r=px(n);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ne(e){const n=this.Ce(e),r=px(n);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ae(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(n)}Pe(e){const n=255&e;n===0?(this.Fe(0),this.Fe(255)):n===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class R0e{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class P0e{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Kl{constructor(){this.Be=new x0e,this.Le=new R0e(this.Be),this.Ue=new P0e(this.Be)}seed(e){this.Be.seed(e)}qe(e){return e===0?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xs(this.indexId,this.documentKey,this.arrayValue,r)}}function vs(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=gx(t.arrayValue,e.arrayValue),n!==0?n:(n=gx(t.directionalValue,e.directionalValue),n!==0?n:we.comparator(t.documentKey,e.documentKey)))}function gx(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const r=n;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const n=x_(e);if(n!==void 0&&!this.ze(n))return!1;const r=Ss(e);let i=0,o=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.je!==void 0){const s=r[i];if(!this.He(this.je,s)||!this.Je(this.Ge[o++],s))return!1;++i}for(;i<r.length;++i){const s=r[i];if(o>=this.Ge.length||!this.Je(this.Ge[o++],s))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0e{constructor(){this.Ye=new iO}addToCollectionParentIndex(e,n){return this.Ye.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(hr.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class iO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Uint8Array(0);class D0e{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new iO,this.Ze=new hs(r=>la(r),(r,i)=>vd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const o={collectionId:r,parent:Ln(i)};return mx(e).put(o)}return le.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[J$(n),""],!1,!0);return mx(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(si(s.parent))}return r})}addFieldIndex(e,n){const r=dh(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Yl(e);return o.next(a=>{s.put(fx(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=dh(e),i=Yl(e),o=Ql(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ql(e);let i=!0;const o=new Map;return le.forEach(this.tn(n),s=>this.en(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Fe();const a=[];return le.forEach(o,(u,l)=>{var f;me("IndexedDbIndexManager",`Using index ${f=u,`id=${f.indexId}|cg=${f.collectionGroup}|f=${f.fields.map(b=>`${b.fieldPath}:${b.kind}`).join(",")}`} to execute ${la(n)}`);const c=function(b,v){const w=x_(v);if(w===void 0)return null;for(const O of eg(b,w.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(l,u),d=function(b,v){const w=new Map;for(const O of Ss(v))for(const T of eg(b,O.fieldPath))switch(T.op){case"==":case"in":w.set(O.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return w.set(O.fieldPath.canonicalString(),T.value),Array.from(w.values())}return null}(l,u),g=function(b,v){const w=[];let O=!0;for(const T of Ss(v)){const E=T.kind===0?Kk(b,T.fieldPath,b.startAt):Qk(b,T.fieldPath,b.startAt);w.push(E.value),O&&(O=E.inclusive)}return new Zo(w,O)}(l,u),y=function(b,v){const w=[];let O=!0;for(const T of Ss(v)){const E=T.kind===0?Qk(b,T.fieldPath,b.endAt):Kk(b,T.fieldPath,b.endAt);w.push(E.value),O&&(O=E.inclusive)}return new Zo(w,O)}(l,u),m=this.nn(u,l,g),_=this.nn(u,l,y),p=this.sn(u,l,d),h=this.rn(u.indexId,c,m,g.inclusive,_,y.inclusive,p);return le.forEach(h,b=>r.J(b,n.limit).next(v=>{v.forEach(w=>{const O=we.fromSegments(w.documentKey);s.has(O)||(s=s.add(O),a.push(O))})}))}).next(()=>a)}return le.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,r,i,o,s,a){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),f=[];for(let c=0;c<u;++c){const d=n?this.on(n[c/l]):fh,g=this.un(e,d,r[c%l],i),y=this.cn(e,d,o[c%l],s),m=a.map(_=>this.un(e,d,_,!0));f.push(...this.createRange(g,y,m))}return f}un(e,n,r,i){const o=new xs(e,we.empty(),n,r);return i?o:o.Ke()}cn(e,n,r,i){const o=new xs(e,we.empty(),n,r);return i?o.Ke():o}en(e,n){const r=new C0e(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.We(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;return le.forEach(this.tn(n),i=>this.en(e,i).next(o=>{o?r!==0&&o.fields.length<function(s){let a=new Ze(It.comparator),u=!1;for(const l of s.filters){const f=l;f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:a=a.add(f.field))}for(const l of s.orderBy)l.field.isKeyField()||(a=a.add(l.field));return a.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,n){const r=new Kl;for(const i of Ss(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.qe(i.kind);ks.Te.ce(o,s)}return r.$e()}on(e){const n=new Kl;return ks.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const r=new Kl;return ks.Te.ce(ua(this.databaseId,n),r.qe(function(i){const o=Ss(i);return o.length===0?0:o[o.length-1].kind}(e))),r.$e()}sn(e,n,r){if(r===null)return[];let i=[];i.push(new Kl);let o=0;for(const s of Ss(e)){const a=r[o++];for(const u of i)if(this.ln(n,s.fieldPath)&&Of(a))i=this.fn(i,s,a);else{const l=u.qe(s.kind);ks.Te.ce(a,l)}}return this.dn(i)}nn(e,n,r){return this.sn(e,n,r.position)}dn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}fn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new Kl;u.seed(a.$e()),ks.Te.ce(s,u.qe(n.kind)),o.push(u)}return o}ln(e,n){return!!e.filters.find(r=>r instanceof an&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=dh(e),i=Yl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return le.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(l,f){const c=f?new Zp(f.sequenceNumber,new hr(ha(f.readTime),new we(si(f.documentKey)),f.largestBatchId)):Zp.empty(),d=l.fields.map(([g,y])=>new mve(It.fromServerFormat(g),y));return new eM(l.indexId,l.collectionGroup,d,c)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:je(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=dh(e),o=Yl(e);return this._n(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>le.forEach(a,u=>o.put(fx(u.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?le.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),le.forEach(a,u=>this.wn(e,i,u).next(l=>{const f=this.mn(o,u);return l.isEqual(f)?le.resolve():this.gn(e,o,u,l,f)}))))})}yn(e,n,r,i){return Ql(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,n.key),documentKey:n.key.path.toArray()})}pn(e,n,r,i){return Ql(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Ql(e);let o=new Ze(vs);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,n)])},(s,a)=>{o=o.add(new xs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}mn(e,n){let r=new Ze(vs);const i=this.an(n,e);if(i==null)return r;const o=x_(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Of(s))for(const a of s.arrayValue.values||[])r=r.add(new xs(n.indexId,e.key,this.on(a),i))}else r=r.add(new xs(n.indexId,e.key,fh,i));return r}gn(e,n,r,i,o){me("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,u,l,f,c){const d=a.getIterator(),g=u.getIterator();let y=Fa(d),m=Fa(g);for(;y||m;){let _=!1,p=!1;if(y&&m){const h=l(y,m);h<0?p=!0:h>0&&(_=!0)}else y!=null?p=!0:_=!0;_?(f(m),m=Fa(g)):p?(c(y),y=Fa(d)):(y=Fa(d),m=Fa(g))}}(i,o,vs,a=>{s.push(this.yn(e,n,r,a))},a=>{s.push(this.pn(e,n,r,a))}),le.waitFor(s)}_n(e){let n=1;return Yl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>vs(s,a)).filter((s,a,u)=>!a||vs(s,u[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=vs(s,e),u=vs(s,n);if(a===0)i[0]=e.Ke();else if(a>0&&u<0)i.push(s),i.push(s.Ke());else if(u>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2)o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,fh,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,fh,[]]));return o}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(yx)}getMinOffset(e,n){return le.mapArray(this.tn(n),r=>this.en(e,r).next(i=>i||Se())).next(yx)}}function mx(t){return Jt(t,"collectionParents")}function Ql(t){return Jt(t,"indexEntries")}function dh(t){return Jt(t,"indexConfiguration")}function Yl(t){return Jt(t,"indexState")}function yx(t){De(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;HE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new hr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:s},(f,c,d)=>(a++,d.delete()));o.push(u.next(()=>{De(a===1)}));const l=[];for(const f of n.mutations){const c=qM(e,f.key.path,n.batchId);o.push(i.delete(c)),l.push(f.key)}return le.waitFor(o).next(()=>l)}function rg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class yy{constructor(e,n,r,i){this.userId=e,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,n,r,i){De(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new yy(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fo(e).Z({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Va(e),s=fo(e);return s.add({}).next(a=>{De(typeof a=="number");const u=new eO(a,n,r,i),l=function(d,g,y){const m=y.baseMutations.map(p=>If(d.re,p)),_=y.mutations.map(p=>If(d.re,p));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:m,mutations:_}}(this.It,this.userId,u),f=[];let c=new Ze((d,g)=>je(d.canonicalString(),g.canonicalString()));for(const d of i){const g=qM(this.userId,d.key.path,a);c=c.add(d.key.path.popLast()),f.push(s.put(l)),f.push(o.put(g,l0e))}return c.forEach(d=>{f.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.In[a]=u.keys()}),le.waitFor(f).next(()=>u)})}lookupMutationBatch(e,n){return fo(e).get(n).next(r=>r?(De(r.userId===this.userId),Is(this.It,r)):null)}Tn(e,n){return this.In[n]?le.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return fo(e).Z({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(De(a.batchId>=r),o=Is(this.It,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fo(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fo(e).W("userMutationsIndex",n).next(r=>r.map(i=>Is(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Bh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Va(e).Z({range:i},(s,a,u)=>{const[l,f,c]=s,d=si(f);if(l===this.userId&&n.path.isEqual(d))return fo(e).get(c).next(g=>{if(!g)throw Se();De(g.userId===this.userId),o.push(Is(this.It,g))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(je);const i=[];return n.forEach(o=>{const s=Bh(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=Va(e).Z({range:a},(l,f,c)=>{const[d,g,y]=l,m=si(g);d===this.userId&&o.path.isEqual(m)?r=r.add(y):c.done()});i.push(u)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Bh(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Ze(je);return Va(e).Z({range:s},(u,l,f)=>{const[c,d,g]=u,y=si(d);c===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(g)):f.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(o=>{i.push(fo(e).get(o).next(s=>{if(s===null)throw Se();De(s.userId===this.userId),r.push(Is(this.It,s))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return GM(e.ie,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Va(e).Z({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=si(o[1]);i.push(u)}else a.done()}).next(()=>{De(i.length===0)})})}containsKey(e,n){return KM(e,this.userId,n)}Rn(e){return QM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KM(t,e,n){const r=Bh(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Va(t).Z({range:o,X:!0},(a,u,l)=>{const[f,c,d]=a;f===e&&c===i&&(s=!0),l.done()}).next(()=>s)}function fo(t){return Jt(t,"mutations")}function Va(t){return Jt(t,"documentMutations")}function QM(t){return Jt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pa(0)}static vn(){return new pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new pa(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Ne.fromTimestamp(new ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qa(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(De(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return qa(e).Z((s,a)=>{const u=cc(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>le.waitFor(o)).next(()=>i)}forEachTarget(e,n){return qa(e).Z((r,i)=>{const o=cc(i);n(o)})}Vn(e){return _x(e).get("targetGlobalKey").next(n=>(De(n!==null),n))}Sn(e,n){return _x(e).put("targetGlobalKey",n)}Dn(e,n){return qa(e).put(WM(this.It,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=la(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return qa(e).Z({range:i,index:"queryTargetsIndex"},(s,a,u)=>{const l=cc(a);vd(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=bo(e);return n.forEach(s=>{const a=Ln(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),le.waitFor(i)}removeMatchingKeys(e,n,r){const i=bo(e);return le.forEach(n,o=>{const s=Ln(o.path);return le.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=bo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=bo(e);let o=Fe();return i.Z({range:r,X:!0},(s,a,u)=>{const l=si(s[1]),f=new we(l);o=o.add(f)}).next(()=>o)}containsKey(e,n){const r=Ln(n.path),i=IDBKeyRange.bound([r],[J$(r)],!1,!0);let o=0;return bo(e).Z({index:"documentTargetsIndex",X:!0,range:i},([s,a],u,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}se(e,n){return qa(e).get(n).next(r=>r?cc(r):null)}}function qa(t){return Jt(t,"targets")}function _x(t){return Jt(t,"targetGlobal")}function bo(t){return Jt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class $0e{constructor(e){this.xn=e,this.buffer=new Ze(bx),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M0e{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ds(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fs(n)}await this.Fn(3e5)})}}class j0e{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Qn.at);const r=new $0e(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(vx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vx):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let r,i,o,s,a,u,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,s=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,a=Date.now(),this.removeTargets(e,r,n))).next(c=>(o=c,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(l=Date.now(),k_()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${c} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:c})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0e{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new j0e(r,i)}(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return hh(e,r)}removeReference(e,n,r){return hh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return hh(e,n)}Gn(e,n){return function(r,i){let o=!1;return QM(r).tt(s=>KM(r,s,i).next(a=>(a&&(o=!0),le.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Kn(e,(s,a)=>{if(a<=n){const u=this.Gn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ne.min()),bo(e).delete([0,Ln(s.path)])))});i.push(u)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return hh(e,n)}Kn(e,n){const r=bo(e);let i,o=Qn.at;return r.Z({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:l})=>{s===0?(o!==Qn.at&&n(new we(si(i)),o),o=l,i=u):o=Qn.at}).next(()=>{o!==Qn.at&&n(new we(si(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hh(t,e){return bo(t).put(function(n,r){return{targetId:0,path:Ln(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return _s(e).put(r)}removeEntry(e,n,r){return _s(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],ng(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=tt.newInvalidDocument(n);return _s(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xl(n))},(i,o)=>{r=this.jn(n,o)}).next(()=>r)}Wn(e,n){let r={size:0,document:tt.newInvalidDocument(n)};return _s(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Xl(n))},(i,o)=>{r={document:this.jn(n,o),size:rg(o)}}).next(()=>r)}getEntries(e,n){let r=Yn();return this.zn(e,n,(i,o)=>{const s=this.jn(i,o);r=r.insert(i,s)}).next(()=>r)}Hn(e,n){let r=Yn(),i=new Et(we.comparator);return this.zn(e,n,(o,s)=>{const a=this.jn(o,s);r=r.insert(o,a),i=i.insert(o,rg(s))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return le.resolve();let i=new Ze(Ox);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(Xl(i.first()),Xl(i.last())),s=i.getIterator();let a=s.getNext();return _s(e).Z({index:"documentKeyIndex",range:o},(u,l,f)=>{const c=we.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&Ox(a,c)<0;)r(a,null),a=s.getNext();a&&a.isEqual(c)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?f.j(Xl(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),ng(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _s(e).W(IDBKeyRange.bound(i,o,!0)).next(s=>{let a=Yn();for(const u of s){const l=this.jn(we.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,n,r,i){let o=Yn();const s=Ex(n,r),a=Ex(n,hr.max());return _s(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,l,f)=>{const c=this.jn(we.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(c.key,c),o.size===i&&f.done()}).next(()=>o)}newChangeBuffer(e){return new q0e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wx(e).get("remoteDocumentGlobalKey").next(n=>(De(!!n),n))}Qn(e,n){return wx(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=A0e(this.It,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return tt.newInvalidDocument(e)}}function XM(t){return new U0e(t)}class q0e extends YM{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new hs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ze((o,s)=>je(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Xn.get(o);if(n.push(this.Yn.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=lx(this.Yn.It,s);i=i.add(o.path.popLast());const l=rg(u);r+=l-a.size,n.push(this.Yn.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=lx(this.Yn.It,s.convertToNoDocument(Ne.min()));n.push(this.Yn.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Yn.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((o,s)=>{this.Xn.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function wx(t){return Jt(t,"remoteDocumentGlobal")}function _s(t){return Jt(t,"remoteDocumentsV14")}function Xl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ex(t,e){const n=e.documentKey.path.toArray();return[t,ng(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ox(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=je(n[o],r[o]),i)return i;return i=je(n.length,r.length),i||(i=je(n[n.length-2],r[r.length-2]),i||je(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&kc(r.mutation,i,lr.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=lc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yn();const s=xc(),a=xc();return n.forEach((u,l)=>{const f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ro)?o=o.insert(l.key,l):f!==void 0&&(s.set(l.key,f.mutation.getFieldMask()),kc(f.mutation,l,f.mutation.getFieldMask(),ht.now()))}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var c;return a.set(l,new B0e(f,(c=s.get(l))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xc();let i=new Et((s,a)=>s-a),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let f=r.get(u)||lr.empty();f=a.applyToLocalView(l,f),r.set(u,f);const c=(i.get(a.batchId)||Fe()).add(u);i=i.insert(a.batchId,c)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,f=u.value,c=kM();f.forEach(d=>{if(!o.has(d)){const g=EM(n.get(d),r.get(d));g!==null&&c.set(d,g),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,c))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):le.resolve(oi());let a=-1,u=o;return s.next(l=>le.forEach(l,(f,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),o.get(f)?le.resolve():this.getBaseDocument(e,f,c).next(d=>{u=u.insert(f,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Fe())).next(f=>({batchId:a,changes:IM(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,i).next(s=>le.forEach(s,a=>{const u=function(l,f){return new no(f,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((f,c)=>{o=o.insert(f,c)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,tt.newInvalidDocument(l)))});let s=lc();return i.forEach((a,u)=>{const l=o.get(a);l!==void 0&&kc(l.mutation,u,lr.empty(),ht.now()),XE(n,u)&&(s=s.insert(a,u))}),s})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):le.resolve(tt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0e{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return le.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Kt(r.createTime)}),le.resolve()}getNamedQuery(e,n){return le.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:rO(r.bundledQuery),readTime:Kt(r.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0e{constructor(){this.overlays=new Et(we.comparator),this.es=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return le.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ue(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Et((l,f)=>l-f);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=oi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=oi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return le.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nO(n,r));let o=this.es.get(n);o===void 0&&(o=Fe(),this.es.set(n,o)),this.es.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.ns=new Ze(Ut.ss),this.rs=new Ze(Ut.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ut(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new we(new ze([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.rs.forEachInRange([r,i],s=>{this.cs(s),o.push(s.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new we(new ze([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Fe();return this.rs.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return we.comparator(e.key,n.key)||je(e._s,n._s)}static os(e,n){return je(e._s,n._s)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ze(Ut.ss)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new eO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.gs=this.gs.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],s=>{const a=this.ys(s._s);o.push(a)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(je);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,s],a=>{r=r.add(a._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new we(o),0);let a=new Ze(je);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},s),le.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return le.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ut(n,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0e{constructor(e){this.Es=e,this.docs=new Et(we.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tt.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,n,r){let i=Yn();const o=new we(n.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:a,value:{document:u}}=s.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||HE(nM(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Se()}As(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G0e(this)}getSize(e){return le.resolve(this.size)}}class G0e extends YM{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0e{constructor(e){this.persistence=e,this.Rs=new hs(n=>la(n),vd),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.bs=0,this.Ps=new oO,this.targetCount=0,this.vs=pa.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),le.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Dn(n),le.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(o).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Qn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new K0e(this),this.indexManager=new N0e,this.remoteDocumentCache=function(r){return new W0e(r)}(r=>this.referenceDelegate.xs(r)),this.It=new HM(n),this.Ns=new V0e(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z0e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new H0e(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new Q0e(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,n){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Q0e extends iM{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Fs=new oO,this.$s=null}static Bs(e){return new vy(e)}get Ls(){if(this.$s)return this.$s;throw Se()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),le.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=we.fromPath(r);return this.Us(e,i).next(o=>{o||n.removeEntry(i,Ne.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return le.or([()=>le.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0e{constructor(e){this.It=e}$(e,n,r,i){const o=new dy("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ux,{unique:!0}),a.createObjectStore("documentMutations")}(e),Tx(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=le.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),Tx(e)),s=s.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(a,u){return u.store("mutations").W().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ux,{unique:!0});const f=u.store("mutations"),c=l.map(d=>f.put(d));return le.waitFor(c)})}(e,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.qs(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),r<7&&i>=7&&(s=s.next(()=>this.Gs(o))),r<8&&i>=8&&(s=s.next(()=>this.Qs(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.js(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:w0e});u.createIndex("collectionPathOverlayIndex",E0e,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",O0e,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:c0e});u.createIndex("documentKeyIndex",f0e),u.createIndex("collectionGroupIndex",d0e)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.zs(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:y0e}).createIndex("sequenceNumberIndex",v0e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:_0e}).createIndex("documentKeyIndex",b0e,{unique:!1})}(e))),s}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=rg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>le.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>le.forEach(a,u=>{De(u.userId===o.userId);const l=Is(this.It,u);return GM(e,o.userId,l).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Z((s,a)=>{const u=new ze(s),l=function(f){return[0,Ln(f)]}(u);o.push(n.get(l).next(f=>f?le.resolve():(c=>n.put({targetId:0,path:Ln(c),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>le.waitFor(o))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:m0e});const r=n.store("collectionParents"),i=new iO,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:Ln(u)})}};return n.store("remoteDocuments").Z({X:!0},(s,a)=>{const u=new ze(s);return o(u.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([s,a,u],l)=>{const f=si(a);return o(f.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const o=cc(i),s=WM(this.It,o);return n.put(s)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((o,s)=>{const a=n.store("remoteDocumentsV14"),u=(l=s,l.document?new we(ze.fromString(l.document.name).popFirst(5)):l.noDocument?we.fromSegments(l.noDocument.path):l.unknownDocument?we.fromSegments(l.unknownDocument.path):Se()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(f))}).next(()=>le.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=XM(this.It),o=new JM(vy.Bs,this.It.re);return r.W().next(s=>{const a=new Map;return s.forEach(u=>{var l;let f=(l=a.get(u.userId))!==null&&l!==void 0?l:Fe();Is(this.It,u).keys().forEach(c=>f=f.add(c)),a.set(u.userId,f)}),le.forEach(a,(u,l)=>{const f=new Bt(l),c=my.oe(this.It,f),d=o.getIndexManager(f),g=yy.oe(f,this.It,d,o.referenceDelegate);return new ZM(i,g,c,d).recalculateAndSaveOverlaysForDocumentKeys(new L_(n,Qn.at),u).next()})})}}function Tx(t){t.createObjectStore("targetDocuments",{keyPath:p0e}).createIndex("documentTargetsIndex",g0e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",h0e,{unique:!0}),t.createObjectStore("targetGlobal")}const p0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sO{constructor(e,n,r,i,o,s,a,u,l,f,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=o,this.window=s,this.document=a,this.Js=l,this.Ys=f,this.Xs=c,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=d=>Promise.resolve(),!sO.C())throw new ge(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new F0e(this,i),this.ii=n+"main",this.It=new HM(u),this.ri=new $r(this.ii,this.Xs,new Y0e(this.It)),this.Cs=new L0e(this.referenceDelegate,this.It),this.remoteDocumentCache=XM(this.It),this.Ns=new I0e,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,f===!1&&At("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(de.FAILED_PRECONDITION,p0);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Qn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ph(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ds(e))return me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Zl(e).get("owner").next(n=>le.resolve(this.mi(n)))}gi(e){return ph(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Jt(n,"clientMetadata");return r.W().next(i=>{const o=this.Ii(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return le.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):Zl(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new ge(de.FAILED_PRECONDITION,p0);return!1}}return!(!this.networkEnabled||!this.inForeground)||ph(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&me("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new L_(e,Qn.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ph(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return yy.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new D0e(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return my.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){me("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(s=this.Xs)===15?S0e:s===14?zM:s===13?VM:s===12?T0e:s===11?BM:void Se();var s;let a;return this.ri.runTransaction(e,i,o,u=>(a=new L_(u,this.Ss?this.Ss.next():Qn.at),n==="readwrite-primary"?this.fi(a).next(l=>!!l||this.di(a)).next(l=>{if(!l)throw At(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ge(de.FAILED_PRECONDITION,rM);return r(a)}).next(l=>this.wi(a).next(()=>l)):this.Vi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}Vi(e){return Zl(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ge(de.FAILED_PRECONDITION,p0)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zl(e).put("owner",n)}static C(){return $r.C()}_i(e){const n=Zl(e);return n.get("owner").next(r=>this.mi(r)?(me("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):le.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(At(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),Cfe()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return At("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){At("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zl(t){return Jt(t,"owner")}function ph(t){return Jt(t,"clientMetadata")}function aO(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Fe(),i=Fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uO(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(o=>o||this.Oi(e,n,i,r)).next(o=>o||this.Mi(e,n))}ki(e,n){if(Zk(n))return le.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tg(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Fe(...o);return this.Ni.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(n,a);return this.$i(n,l,s,u.readTime)?this.ki(e,tg(n,null,"F")):this.Bi(e,l,n,u)}))})))}Oi(e,n,r,i){return Zk(n)||i.isEqual(Ne.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(o=>{const s=this.Fi(n,o);return this.$i(n,s,r,i)?this.Mi(e,n):(k_()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),C_(n)),this.Bi(e,s,n,tM(i,-1)))})}Fi(e,n){let r=new Ze(pM(e));return n.forEach((i,o)=>{XE(e,o)&&(r=r.add(o))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,n){return k_()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",C_(n)),this.Ni.getDocumentsMatchingQuery(e,n,hr.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Et(je),this.qi=new hs(o=>la(o),vd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function tj(t,e,n,r){return new X0e(t,e,n,r)}async function nj(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Fe();for(const l of i){s.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}for(const l of o){a.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:s,addedBatchIds:a}))})})}function Z0e(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){const f=u.batch,c=f.keys();let d=le.resolve();return c.forEach(g=>{d=d.next(()=>l.getEntry(a,g)).next(y=>{const m=u.docVersions.get(g);De(m!==null),y.version.compareTo(m)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),d.next(()=>s.mutationQueue.removeMutationBatch(a,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Fe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rj(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function J0e(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((f,c)=>{const d=i.get(c);if(!d)return;a.push(n.Cs.removeMatchingKeys(o,f.removedDocuments,c).next(()=>n.Cs.addMatchingKeys(o,f.addedDocuments,c)));let g=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(c)?g=g.withResumeToken($t.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(c,g),function(y,m,_){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,g,f)&&a.push(n.Cs.updateTargetData(o,g))});let u=Yn(),l=Fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(ij(o,s,e.documentUpdates).next(f=>{u=f.Wi,l=f.zi})),!r.isEqual(Ne.min())){const f=n.Cs.getLastRemoteSnapshotVersion(o).next(c=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return le.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ui=i,o))}function ij(t,e,n){let r=Fe(),i=Fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yn();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:s,zi:i}})}function e1e(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bu(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(o=>o?(i=o,le.resolve(i)):n.Cs.allocateTargetId(r).next(s=>(i=new qo(e,s,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Vu(t,e,n){const r=Ee(t),i=r.Ui.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ds(s))throw s;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function ig(t,e,n){const r=Ee(t);let i=Ne.min(),o=Fe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,l){const f=Ee(a),c=f.qi.get(l);return c!==void 0?le.resolve(f.Ui.get(c)):f.Cs.getTargetData(u,l)}(r,s,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Li.getDocumentsMatchingQuery(s,e,n?i:Ne.min(),n?o:Fe())).next(a=>(aj(r,hM(e),a),{documents:a,Hi:o})))}function oj(t,e){const n=Ee(t),r=Ee(n.Cs),i=n.Ui.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.se(o,e).next(s=>s?s.target:null))}function sj(t,e){const n=Ee(t),r=n.Ki.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,tM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(aj(n,e,i),i))}function aj(t,e,n){let r=t.Ki.get(e)||Ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ki.set(e,r)}async function t1e(t,e,n,r){const i=Ee(t);let o=Fe(),s=Yn();for(const l of n){const f=e.Ji(l.metadata.name);l.document&&(o=o.add(f));const c=e.Yi(l);c.setReadTime(e.Xi(l.metadata.readTime)),s=s.insert(f,c)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=await Bu(i,function(l){return tr(bl(ze.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>ij(l,a,s).next(f=>(a.apply(l),f)).next(f=>i.Cs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Cs.addMatchingKeys(l,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,f.Wi,f.zi)).next(()=>f.Wi)))}async function n1e(t,e,n=Fe()){const r=await Bu(t,tr(rO(e.bundledQuery))),i=Ee(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Kt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(o,e);const a=r.withResumeToken($t.EMPTY_BYTE_STRING,s);return i.Ui=i.Ui.insert(a.targetId,a),i.Cs.updateTargetData(o,a).next(()=>i.Cs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Cs.addMatchingKeys(o,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(o,e))})}function Sx(t,e){return`firestore_clients_${t}_${e}`}function Ax(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function g0(t,e){return`firestore_targets_${t}_${e}`}class og{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new ge(i.error.code,i.error.message))),s?new og(e,n,i.state,o):(At("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ge(r.error.code,r.error.message))),o?new Rc(e,r.state,i):(At("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=gy();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=aM(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new sg(e,o):(At("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class lO{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new lO(n.clientId,n.onlineState):(At("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $_{constructor(){this.activeTargetIds=gy()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m0{constructor(e,n,r,i,o){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Et(je),this.started=!1,this.cr=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=Sx(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new $_),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(Sx(this.persistenceKey,r));if(i){const o=sg.Zi(r,i);o&&(this.ur=this.ur.insert(o.clientId,o))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(g0(this.persistenceKey,e));if(r){const i=Rc.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(g0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return me("SharedClientState","READ",e,n),n}setItem(e,n){me("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if(me("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let o=Qn.at;if(i!=null)try{const s=JSON.parse(i);De(typeof s=="number"),o=s}catch(s){At("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);r!==Qn.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new og(this.currentUser,e,n,r),o=Ax(this.persistenceKey,this.currentUser,e);this.setItem(o,i.tr())}Er(e){const n=Ax(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=g0(this.persistenceKey,e),o=new Rc(e,n,r);this.setItem(i,o.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return sg.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return og.Zi(new Bt(o),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return Rc.Zi(i,n)}yr(e){return lO.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),o=this.Ir(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.Br(s,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=gy();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class uj{constructor(){this.Lr=new $_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1e{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1e{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,o){const s=this.ho(e,n);me("RestConnection","Sending: ",s,r);const a={};return this.lo(a,i,o),this.fo(e,s,a,r).then(u=>(me("RestConnection","Received: ",u),u),u=>{throw Mu("RestConnection",`${e} failed with error: `,u,"url: ",s,"request:",r),u})}_o(e,n,r,i,o,s){return this.ao(e,n,r,i,o)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,n){const r=i1e[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((o,s)=>{const a=new ive;a.setWithCredentials(!0),a.listenOnce(tve.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case d0.NO_ERROR:const l=a.getResponseJson();me("Connection","XHR received:",JSON.stringify(l)),o(l);break;case d0.TIMEOUT:me("Connection",'RPC "'+e+'" timed out'),s(new ge(de.DEADLINE_EXCEEDED,"Request time out"));break;case d0.HTTP_ERROR:const f=a.getStatus();if(me("Connection",'RPC "'+e+'" failed with status:',f,"response text:",a.getResponseText()),f>0){const c=a.getResponseJson().error;if(c&&c.status&&c.message){const d=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(y)>=0?y:de.UNKNOWN}(c.status);s(new ge(d,c.message))}else s(new ge(de.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ge(de.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{me("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jye(),s=eve(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new rve({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");me("Connection","Creating WebChannel: "+u,a);const l=o.createWebChannel(u,a);let f=!1,c=!1;const d=new o1e({Hr:y=>{c?me("Connection","Not sending because WebChannel is closed:",y):(f||(me("Connection","Opening WebChannel transport."),l.open(),f=!0),me("Connection","WebChannel sending:",y),l.send(y))},Jr:()=>l.close()}),g=(y,m,_)=>{y.listen(m,p=>{try{_(p)}catch(h){setTimeout(()=>{throw h},0)}})};return g(l,lh.EventType.OPEN,()=>{c||me("Connection","WebChannel transport opened.")}),g(l,lh.EventType.CLOSE,()=>{c||(c=!0,me("Connection","WebChannel transport closed"),d.io())}),g(l,lh.EventType.ERROR,y=>{c||(c=!0,Mu("Connection","WebChannel transport errored:",y),d.io(new ge(de.UNAVAILABLE,"The operation could not be completed")))}),g(l,lh.EventType.MESSAGE,y=>{var m;if(!c){const _=y.data[0];De(!!_);const p=_,h=p.error||((m=p[0])===null||m===void 0?void 0:m.error);if(h){me("Connection","WebChannel received error:",h);const b=h.status;let v=function(O){const T=kt[O];if(T!==void 0)return SM(T)}(b),w=h.message;v===void 0&&(v=de.INTERNAL,w="Unknown error status: "+b+" with message "+h.message),c=!0,d.io(new ge(v,w)),l.close()}else me("Connection","WebChannel received:",_),d.ro(_)}}),g(s,nve.STAT_EVENT,y=>{y.stat===Mk.PROXY?me("Connection","Detected buffering proxy"):y.stat===Mk.NOPROXY&&me("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof window<"u"?window:null}function Vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){return new Xve(t,!0)}class cO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i,o,s,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cO(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(At(n.toString()),At("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new ge(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a1e extends cj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.It=o}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=e0e(this.It,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Kt(o.readTime):Ne.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Af(this.It),n.addTarget=function(i,o){let s;const a=o.target;return s=Jp(a)?{documents:$M(i,a)}:{query:MM(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=PM(i,o.resumeToken):o.snapshotVersion.compareTo(Ne.min())>0&&(s.readTime=Tf(i,o.snapshotVersion.toTimestamp())),s}(this.It,e);const r=n0e(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Af(this.It),n.removeTarget=e,this.Bo(n)}}class u1e extends cj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.It=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=t0e(e.writeResults,e.commitTime),r=Kt(e.commitTime);return this.listener.Zo(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Af(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>If(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new ge(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(de.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection._o(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(de.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class c1e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(At(n),this.ou=!1):me("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1e{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr(s=>{r.enqueueAndForget(async()=>{ps(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ee(a);u._u.add(4),await Ol(u),u.gu.set("Unknown"),u._u.delete(4),await Td(u)}(this))})}),this.gu=new c1e(r,i)}}async function Td(t){if(ps(t))for(const e of t.wu)await e(!0)}async function Ol(t){for(const e of t.wu)await e(!1)}function _y(t,e){const n=Ee(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),hO(n)?dO(n):Sl(n).ko()&&fO(n,e))}function kf(t,e){const n=Ee(t),r=Sl(n);n.du.delete(e),r.ko()&&fj(n,e),n.du.size===0&&(r.ko()?r.Fo():ps(n)&&n.gu.set("Unknown"))}function fO(t,e){t.yu.Mt(e.targetId),Sl(t).zo(e)}function fj(t,e){t.yu.Mt(e),Sl(t).Ho(e)}function dO(t){t.yu=new Kve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Sl(t).start(),t.gu.uu()}function hO(t){return ps(t)&&!Sl(t).No()&&t.du.size>0}function ps(t){return Ee(t)._u.size===0}function dj(t){t.yu=void 0}async function d1e(t){t.du.forEach((e,n)=>{fO(t,e)})}async function h1e(t,e){dj(t),hO(t)?(t.gu.hu(e),dO(t)):t.gu.set("Unknown")}async function p1e(t,e,n){if(t.gu.set("Online"),e instanceof RM&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.du.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.du.delete(s),r.yu.removeTarget(s))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ag(t,r)}else if(e instanceof qh?t.yu.Gt(e):e instanceof xM?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(Ne.min()))try{const r=await rj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.yu.te(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken($t.EMPTY_BYTE_STRING,u.snapshotVersion)),fj(i,a);const l=new qo(u.target,a,1,u.sequenceNumber);fO(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await ag(t,r)}}async function ag(t,e,n){if(!ds(e))throw e;t._u.add(1),await Ol(t),t.gu.set("Offline"),n||(n=()=>rj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Td(t)})}function hj(t,e){return e().catch(n=>ag(t,n,e))}async function Tl(t){const e=Ee(t),n=Jo(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;g1e(e);)try{const i=await e1e(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,m1e(e,i)}catch(i){await ag(e,i)}pj(e)&&gj(e)}function g1e(t){return ps(t)&&t.fu.length<10}function m1e(t,e){t.fu.push(e);const n=Jo(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function pj(t){return ps(t)&&!Jo(t).No()&&t.fu.length>0}function gj(t){Jo(t).start()}async function y1e(t){Jo(t).eu()}async function v1e(t){const e=Jo(t);for(const n of t.fu)e.Xo(n.mutations)}async function _1e(t,e,n){const r=t.fu.shift(),i=tO.from(r,e,n);await hj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tl(t)}async function b1e(t,e){e&&Jo(t).Yo&&await async function(n,r){if(i=r.code,TM(i)&&i!==de.ABORTED){const o=n.fu.shift();Jo(n).Mo(),await hj(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Tl(n)}var i}(t,e),pj(t)&&gj(t)}async function kx(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=ps(n);n._u.add(3),await Ol(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Td(n)}async function M_(t,e){const n=Ee(t);e?(n._u.delete(2),await Td(n)):e||(n._u.add(2),await Ol(n),n.gu.set("Unknown"))}function Sl(t){return t.pu||(t.pu=function(e,n,r){const i=Ee(e);return i.su(),new a1e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:d1e.bind(null,t),Zr:h1e.bind(null,t),Wo:p1e.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),hO(t)?dO(t):t.gu.set("Unknown")):(await t.pu.stop(),dj(t))})),t.pu}function Jo(t){return t.Iu||(t.Iu=function(e,n,r){const i=Ee(e);return i.su(),new u1e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:y1e.bind(null,t),Zr:b1e.bind(null,t),tu:v1e.bind(null,t),Zo:_1e.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Tl(t)):(await t.Iu.stop(),t.fu.length>0&&(me("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new pO(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Al(t,e){if(At("AsyncQueue",`${e}: ${t}`),ds(t))return new ge(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.Tu=new Et(we.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Se():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class zu{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new zu(e,n,bu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(){this.Au=void 0,this.listeners=[]}}class E1e{constructor(){this.queries=new hs(e=>dM(e),_d),this.onlineState="Unknown",this.Ru=new Set}}async function gO(t,e){const n=Ee(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new w1e),i)try{o.Au=await n.onListen(r)}catch(s){const a=Al(s,`Initialization of query '${C_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&yO(n)}async function mO(t,e){const n=Ee(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function O1e(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Pu(i)&&(r=!0);s.Au=i}}r&&yO(n)}function T1e(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function yO(t){t.Ru.forEach(e=>{e.next()})}class vO{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.It=e}Ji(e){return ci(this.It,e)}Yi(e){return e.metadata.exists?LM(this.It,e.document,!1):tt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Kt(e)}}class A1e{constructor(e,n,r){this.Mu=e,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mj(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=ze.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new Rx(this.It);for(const i of e)if(i.metadata.queries){const o=r.Ji(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Fe()).add(o);n.set(s,a)}}return n}async complete(){const e=await t1e(this.localStore,new Rx(this.It),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await n1e(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function mj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class _j{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Fe(),this.mutatedKeys=Fe(),this.Gu=pM(e),this.Qu=new bu(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new xx,i=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const d=i.get(f),g=XE(this.query,c)?c:null,y=!!d&&this.mutatedKeys.has(d.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;d&&g?d.data.isEqual(g.data)?y!==m&&(r.track({type:3,doc:g}),_=!0):this.Hu(d,g)||(r.track({type:2,doc:g}),_=!0,(u&&this.Gu(g,u)>0||l&&this.Gu(g,l)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),_=!0):d&&!g&&(r.track({type:1,doc:d}),_=!0,(u||l)&&(a=!0)),_&&(g?(s=s.add(g),o=m?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Qu:s,zu:r,$i:a,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((l,f)=>function(c,d){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return g(c)-g(d)}(l.type,f.type)||this.Gu(l.doc,f.doc)),this.Ju(r);const s=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,u=a!==this.qu;return this.qu=a,o.length!==0||u?{snapshot:new zu(this.query,e.Qu,i,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Fe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new vj(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new yj(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=Fe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return zu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class I1e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k1e{constructor(e){this.key=e,this.nc=!1}}class x1e{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new hs(a=>dM(a),_d),this.rc=new Map,this.oc=new Set,this.uc=new Et(we.comparator),this.cc=new Map,this.ac=new oO,this.hc={},this.lc=new Map,this.fc=pa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function R1e(t,e){const n=OO(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const s=await Bu(n.localStore,tr(e));n.isPrimaryClient&&_y(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await _O(n,e,r,a==="current",s.resumeToken)}return i}async function _O(t,e,n,r,i){t._c=(c,d,g)=>async function(y,m,_,p){let h=m.view.Wu(_);h.$i&&(h=await ig(y.localStore,m.query,!1).then(({documents:w})=>m.view.Wu(w,h)));const b=p&&p.targetChanges.get(m.targetId),v=m.view.applyChanges(h,y.isPrimaryClient,b);return j_(y,m.targetId,v.Xu),v.snapshot}(t,c,d,g);const o=await ig(t.localStore,e,!0),s=new _j(e,o.Hi),a=s.Wu(o.documents),u=Ed.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);j_(t,n,l.Xu);const f=new I1e(e,n,s);return t.ic.set(e,f),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function P1e(t,e){const n=Ee(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(o=>!_d(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kf(n.remoteStore,r.targetId),Hu(n,r.targetId)}).catch(fs)):(Hu(n,r.targetId),await Vu(n.localStore,r.targetId,!0))}async function C1e(t,e,n){const r=TO(t);try{const i=await function(o,s){const a=Ee(o),u=ht.now(),l=s.reduce((d,g)=>d.add(g.key),Fe());let f,c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Yn(),y=Fe();return a.Gi.getEntries(d,l).next(m=>{g=m,g.forEach((_,p)=>{p.isValidDocument()||(y=y.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,g)).next(m=>{f=m;const _=[];for(const p of s){const h=Bve(p,f.get(p.key).overlayedDocument);h!=null&&_.push(new ro(p.key,h,lM(h.value.mapValue),dt.exists(!0)))}return a.mutationQueue.addMutationBatch(d,u,_,s)}).next(m=>{c=m;const _=m.applyToLocalDocumentSet(f,y);return a.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:c.batchId,changes:IM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.hc[o.currentUser.toKey()];u||(u=new Et(je)),u=u.insert(s,a),o.hc[o.currentUser.toKey()]=u}(r,i.batchId,n),await io(r,i.changes),await Tl(r.remoteStore)}catch(i){const o=Al(i,"Failed to persist write");n.reject(o)}}async function bj(t,e){const n=Ee(t);try{const r=await J0e(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.cc.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.nc=!0:i.modifiedDocuments.size>0?De(s.nc):i.removedDocuments.size>0&&(De(s.nc),s.nc=!1))}),await io(n,r,e)}catch(r){await fs(r)}}function Px(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((o,s)=>{const a=s.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Ee(o);a.onlineState=s;let u=!1;a.queries.forEach((l,f)=>{for(const c of f.listeners)c.bu(s)&&(u=!0)}),u&&yO(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N1e(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let s=new Et(we.comparator);s=s.insert(o,tt.newNoDocument(o,Ne.min()));const a=Fe().add(o),u=new wd(Ne.min(),new Map,new Ze(je),s,a);await bj(r,u),r.uc=r.uc.remove(o),r.cc.delete(e),EO(r)}else await Vu(r.localStore,e,!1).then(()=>Hu(r,e,n)).catch(fs)}async function D1e(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await Z0e(n.localStore,e);wO(n,r,null),bO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await io(n,i)}catch(i){await fs(i)}}async function L1e(t,e,n){const r=Ee(t);try{const i=await function(o,s){const a=Ee(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,s).next(f=>(De(f!==null),l=f.keys(),a.mutationQueue.removeMutationBatch(u,f))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);wO(r,e,n),bO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await io(r,i)}catch(i){await fs(i)}}async function $1e(t,e){const n=Ee(t);ps(n.remoteStore)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const s=Ee(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=Al(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function bO(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function wO(t,e,n){const r=Ee(t);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Hu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||wj(t,r)})}function wj(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(kf(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),EO(t))}function j_(t,e,n){for(const r of n)r instanceof yj?(t.ac.addReference(r.key,e),M1e(t,r)):r instanceof vj?(me("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||wj(t,r.key)):Se()}function M1e(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(me("SyncEngine","New document in limbo: "+n),t.oc.add(r),EO(t))}function EO(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new we(ze.fromString(e)),r=t.fc.next();t.cc.set(r,new k1e(n)),t.uc=t.uc.insert(n,r),_y(t.remoteStore,new qo(tr(bl(n.path)),r,2,Qn.at))}}async function io(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.ic.isEmpty()||(r.ic.forEach((a,u)=>{s.push(r._c(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const f=uO.Ci(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.sc.Wo(i),await async function(a,u){const l=Ee(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>le.forEach(u,c=>le.forEach(c.Si,d=>l.persistence.referenceDelegate.addReference(f,c.targetId,d)).next(()=>le.forEach(c.Di,d=>l.persistence.referenceDelegate.removeReference(f,c.targetId,d)))))}catch(f){if(!ds(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const c=f.targetId;if(!f.fromCache){const d=l.Ui.get(c),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);l.Ui=l.Ui.insert(c,y)}}}(r.localStore,o))}async function j1e(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await nj(n.localStore,e);n.currentUser=e,function(i,o){i.lc.forEach(s=>{s.forEach(a=>{a.reject(new ge(de.CANCELLED,o))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await io(n,r.ji)}}function F1e(t,e){const n=Ee(t),r=n.cc.get(e);if(r&&r.nc)return Fe().add(r.key);{let i=Fe();const o=n.rc.get(e);if(!o)return i;for(const s of o){const a=n.ic.get(s);i=i.unionWith(a.view.ju)}return i}}async function U1e(t,e){const n=Ee(t),r=await ig(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&j_(n,e.targetId,i.Xu),i}async function q1e(t,e){const n=Ee(t);return sj(n.localStore,e).then(r=>io(n,r))}async function B1e(t,e,n,r){const i=Ee(t),o=await function(s,a){const u=Ee(s),l=Ee(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>l.Tn(f,a).next(c=>c?u.localDocuments.getDocuments(f,c):le.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Tl(i.remoteStore):n==="acknowledged"||n==="rejected"?(wO(i,e,r||null),bO(i,e),function(s,a){Ee(Ee(s).mutationQueue).An(a)}(i.localStore,e)):Se(),await io(i,o)):me("SyncEngine","Cannot apply mutation batch with id: "+e)}async function V1e(t,e){const n=Ee(t);if(OO(n),TO(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Cx(n,r.toArray());n.dc=!0,await M_(n.remoteStore,!0);for(const o of i)_y(n.remoteStore,o)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Hu(n,s),Vu(n.localStore,s,!0))),kf(n.remoteStore,s)}),await i,await Cx(n,r),function(o){const s=Ee(o);s.cc.forEach((a,u)=>{kf(s.remoteStore,u)}),s.ac.fs(),s.cc=new Map,s.uc=new Et(we.comparator)}(n),n.dc=!1,await M_(n.remoteStore,!1)}}async function Cx(t,e,n){const r=Ee(t),i=[],o=[];for(const s of e){let a;const u=r.rc.get(s);if(u&&u.length!==0){a=await Bu(r.localStore,tr(u[0]));for(const l of u){const f=r.ic.get(l),c=await U1e(r,f);c.snapshot&&o.push(c.snapshot)}}else{const l=await oj(r.localStore,s);a=await Bu(r.localStore,l),await _O(r,Ej(l),s,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(o),i}function Ej(t){return fM(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function z1e(t){const e=Ee(t);return Ee(Ee(e.localStore).persistence).vi()}async function H1e(t,e,n,r){const i=Ee(t);if(i.dc)return void me("SyncEngine","Ignoring unexpected query state notification.");const o=i.rc.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await sj(i.localStore,hM(o[0])),a=wd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$t.EMPTY_BYTE_STRING);await io(i,s,a);break}case"rejected":await Vu(i.localStore,e,!0),Hu(i,e,r);break;default:Se()}}async function W1e(t,e,n){const r=OO(t);if(r.dc){for(const i of e){if(r.rc.has(i)){me("SyncEngine","Adding an already active target "+i);continue}const o=await oj(r.localStore,i),s=await Bu(r.localStore,o);await _O(r,Ej(o),s.targetId,!1,s.resumeToken),_y(r.remoteStore,s)}for(const i of n)r.rc.has(i)&&await Vu(r.localStore,i,!1).then(()=>{kf(r.remoteStore,i),Hu(r,i)}).catch(fs)}}function OO(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N1e.bind(null,e),e.sc.Wo=O1e.bind(null,e.eventManager),e.sc.wc=T1e.bind(null,e.eventManager),e}function TO(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L1e.bind(null,e),e}function G1e(t,e,n){const r=Ee(t);(async function(i,o,s){try{const a=await o.getMetadata();if(await function(c,d){const g=Ee(c),y=Kt(d.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",m=>g.Ns.getBundleMetadata(m,d.id)).then(m=>!!m&&m.createTime.compareTo(y)>=0)}(i.localStore,a))return await o.close(),s._completeWith(function(c){return{taskState:"Success",documentsLoaded:c.totalDocuments,bytesLoaded:c.totalBytes,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}(a)),Promise.resolve(new Set);s._updateProgress(mj(a));const u=new A1e(a,i.localStore,o.It);let l=await o.mc();for(;l;){const c=await u.Fu(l);c&&s._updateProgress(c),l=await o.mc()}const f=await u.complete();return await io(i,f.Lu,void 0),await function(c,d){const g=Ee(c);return g.persistence.runTransaction("Save bundle","readwrite",y=>g.Ns.saveBundleMetadata(y,d))}(i.localStore,a),s._completeWith(f.progress),Promise.resolve(f.Bu)}catch(a){return Mu("SyncEngine",`Loading bundle failed with ${a}`),s._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Oj{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Od(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return tj(this.persistence,new ej,e.initialUser,this.It)}yc(e){return new JM(vy.Bs,this.It)}gc(e){return new uj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Tj extends Oj{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await TO(this.Ac.syncEngine),await Tl(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return tj(this.persistence,new ej,e.initialUser,this.It)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new M0e(r,e.asyncQueue,n)}Ec(e,n){const r=new bve(n,this.persistence);return new _ve(e.asyncQueue,r)}yc(e){const n=aO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new sO(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,lj(),Vh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new uj}}class K1e extends Tj{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof m0&&(this.sharedClientState.syncEngine={Fr:B1e.bind(null,n),$r:H1e.bind(null,n),Br:W1e.bind(null,n),vi:z1e.bind(null,n),Mr:q1e.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await V1e(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=lj();if(!m0.C(n))throw new ge(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new m0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class SO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Px(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j1e.bind(null,this.syncEngine),await M_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E1e}createDatastore(e){const n=Od(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new s1e(i));var i;return function(o,s,a,u){return new l1e(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Px(this.syncEngine,a,0),s=Ix.C()?new Ix:new r1e,new f1e(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,l){const f=new x1e(r,i,o,s,a,u);return l&&(f.dc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);me("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Ol(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e,n){if(!n)throw new ge(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sj(t,e,n,r){if(e===!0&&r===!0)throw new ge(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nx(t){if(!we.isDocumentKey(t))throw new ge(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dx(t){if(we.isDocumentKey(t))throw new ge(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function by(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=by(t);throw new ge(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Aj(t,e){if(e<=0)throw new ge(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;class $x{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ave;switch(n.type){case"gapi":const r=n.client;return new fve(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Lx.get(e);n&&(me("ComponentProvider","Removing Datastore"),Lx.delete(e),n.terminate())}(this),Promise.resolve()}}function Q1e(t,e,n,r={}){var i;const o=(t=Ge(t,Sd))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Mu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Bt.MOCK_USER;else{s=jD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Bt(u)}t._authCredentials=new uve(new X$(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class Tn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tn(this.firestore,e,this._query)}}class fi extends Tn{constructor(e,n,r){super(e,n,bl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new we(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function Ij(t,e,...n){if(t=ke(t),AO("collection","path",e),t instanceof Sd){const r=ze.fromString(e,...n);return Dx(r),new fi(t,null,r)}{if(!(t instanceof at||t instanceof fi))throw new ge(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Dx(r),new fi(t.firestore,null,r)}}function Y1e(t,e){if(t=Ge(t,Sd),AO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ge(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tn(t,null,function(n){return new no(ze.emptyPath(),n)}(e))}function ug(t,e,...n){if(t=ke(t),arguments.length===1&&(e=Z$.R()),AO("doc","path",e),t instanceof Sd){const r=ze.fromString(e,...n);return Nx(r),new at(t,null,new we(r))}{if(!(t instanceof at||t instanceof fi))throw new ge(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Nx(r),new at(t.firestore,t instanceof fi?t.converter:null,new we(r))}}function kj(t,e){return t=ke(t),e=ke(e),(t instanceof at||t instanceof fi)&&(e instanceof at||e instanceof fi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function xj(t,e){return t=ke(t),e=ke(e),t instanceof Tn&&e instanceof Tn&&t.firestore===e.firestore&&_d(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):At("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1e{constructor(e,n){this.Pc=e,this.It=n,this.metadata=new Gt,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new S1e(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const o=Ee(r),s=Af(o.It)+"/documents",a={documents:i.map(c=>Sf(o.It,c))},u=await o._o("BatchGetDocuments",s,a,i.length),l=new Map;u.forEach(c=>{const d=Jve(o.It,c);l.set(d.key.toString(),d)});const f=[];return i.forEach(c=>{const d=l.get(c.toString());De(!!d),f.push(d)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new El(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=we.fromPath(r);this.mutations.push(new ZE(i,this.precondition(i)))}),await async function(n,r){const i=Ee(n),o=Af(i.It)+"/documents",s={writes:r.map(a=>If(i.It,a))};await i.ao("Commit",o,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ge(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?dt.exists(!1):dt.updateTime(n):dt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new ge(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(n)}return dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1e{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.kc=r.maxAttempts,this.xo=new cO(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new Z1e(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!yd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!TM(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=Z$.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Al(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rj(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Pj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IO(t);me("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>kx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>kx(e.remoteStore,o)),t.onlineComponents=e}async function IO(t){return t.offlineComponents||(me("FirestoreClient","Using default OfflineComponentProvider"),await Rj(t,new Oj)),t.offlineComponents}async function Ey(t){return t.onlineComponents||(me("FirestoreClient","Using default OnlineComponentProvider"),await Pj(t,new SO)),t.onlineComponents}function Cj(t){return IO(t).then(e=>e.persistence)}function kO(t){return IO(t).then(e=>e.localStore)}function Nj(t){return Ey(t).then(e=>e.remoteStore)}function xO(t){return Ey(t).then(e=>e.syncEngine)}function t_e(t){return Ey(t).then(e=>e.datastore)}async function Wu(t){const e=await Ey(t),n=e.eventManager;return n.onListen=R1e.bind(null,e.syncEngine),n.onUnlisten=P1e.bind(null,e.syncEngine),n}function n_e(t){return t.asyncQueue.enqueue(async()=>{const e=await Cj(t),n=await Nj(t);return e.setNetworkEnabled(!0),function(r){const i=Ee(r);return i._u.delete(0),Td(i)}(n)})}function r_e(t){return t.asyncQueue.enqueue(async()=>{const e=await Cj(t),n=await Nj(t);return e.setNetworkEnabled(!1),async function(r){const i=Ee(r);i._u.add(0),await Ol(i),i.gu.set("Offline")}(n)})}function i_e(t,e){const n=new Gt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await function(a,u){const l=Ee(a);return l.persistence.runTransaction("read document","readonly",f=>l.localDocuments.getDocument(f,u))}(r,i);s.isFoundDocument()?o.resolve(s):s.isNoDocument()?o.resolve(null):o.reject(new ge(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const a=Al(s,`Failed to get document '${i} from cache`);o.reject(a)}}(await kO(t),e,n)),n.promise}function Dj(t,e,n={}){const r=new Gt;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new wy({next:c=>{o.enqueueAndForget(()=>mO(i,f));const d=c.docs.has(s);!d&&c.fromCache?u.reject(new ge(de.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&c.fromCache&&a&&a.source==="server"?u.reject(new ge(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(c)},error:c=>u.reject(c)}),f=new vO(bl(s.path),l,{includeMetadataChanges:!0,Nu:!0});return gO(i,f)}(await Wu(t),t.asyncQueue,e,n,r)),r.promise}function o_e(t,e){const n=new Gt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await ig(r,i,!0),a=new _j(i,s.Hi),u=a.Wu(s.documents),l=a.applyChanges(u,!1);o.resolve(l.snapshot)}catch(s){const a=Al(s,`Failed to execute query '${i} against cache`);o.reject(a)}}(await kO(t),e,n)),n.promise}function Lj(t,e,n={}){const r=new Gt;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,u){const l=new wy({next:c=>{o.enqueueAndForget(()=>mO(i,f)),c.fromCache&&a.source==="server"?u.reject(new ge(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(c)},error:c=>u.reject(c)}),f=new vO(s,l,{includeMetadataChanges:!0,Nu:!0});return gO(i,f)}(await Wu(t),t.asyncQueue,e,n,r)),r.promise}function s_e(t,e){const n=new wy(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){Ee(r).Ru.add(i),i.next()}(await Wu(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){Ee(r).Ru.delete(i)}(await Wu(t),n))}}function a_e(t,e,n,r){const i=function(o,s){let a;return a=typeof o=="string"?new TextEncoder().encode(o):o,function(u,l){return new X1e(u,l)}(function(u,l){if(u instanceof Uint8Array)return Mx(u,l);if(u instanceof ArrayBuffer)return Mx(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),s)}(n,Od(e));t.asyncQueue.enqueueAndForget(async()=>{G1e(await xO(t),i,r)})}function u_e(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=Ee(n);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ns.getNamedQuery(o,r))}(await kO(t),e))}class l_e{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new cO(this,"async_queue_retry"),this.Wc=()=>{const n=Vh();n&&me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Vh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Vh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Gt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ds(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw At("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=pO.createAndSchedule(this,e,n,r,o=>this.Yc(o));return this.qc.push(i),i}zc(){this.Kc&&Se()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function F_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class c_e{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e=-1;class Ot extends Sd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l_e,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$j(this),this._firestoreClient.terminate()}}function en(t){return t._firestoreClient||$j(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $j(t){var e;const n=t._freezeSettings(),r=function(i,o,s,a){return new Ove(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new e_e(t._authCredentials,t._appCheckCredentials,t._queue,r)}function d_e(t,e){jj(t=Ge(t,Ot));const n=en(t),r=t._freezeSettings(),i=new SO;return Mj(n,i,new Tj(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function h_e(t){jj(t=Ge(t,Ot));const e=en(t),n=t._freezeSettings(),r=new SO;return Mj(e,r,new K1e(r,n.cacheSizeBytes))}function Mj(t,e,n){const r=new Gt;return t.asyncQueue.enqueue(async()=>{try{await Rj(t,n),await Pj(t,e),r.resolve()}catch(i){const o=i;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:typeof DOMException<"u"&&s instanceof DOMException?s.code===22||s.code===20||s.code===11:!0}(o))throw o;Mu("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}}).then(()=>r.promise)}function p_e(t){if(t._initialized&&!t._terminated)throw new ge(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!$r.C())return Promise.resolve();const r=n+"main";await $r.delete(r)}(aO(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function g_e(t){return function(e){const n=new Gt;return e.asyncQueue.enqueueAndForget(async()=>$1e(await xO(e),n)),n.promise}(en(t=Ge(t,Ot)))}function m_e(t){return n_e(en(t=Ge(t,Ot)))}function y_e(t){return r_e(en(t=Ge(t,Ot)))}function v_e(t,e){const n=en(t=Ge(t,Ot)),r=new c_e;return a_e(n,t._databaseId,e,r),r}function __e(t,e){return u_e(en(t=Ge(t,Ot)),e).then(n=>n?new Tn(t,null,n.query):null)}function jj(t){if(t._initialized||t._terminated)throw new ge(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi($t.fromBase64String(e))}catch(n){throw new ge(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_e=/^__.*__$/;class w_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new wl(e,this.data,n,this.fieldTransforms)}}class Fj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Ty{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return lg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Uj(this.sa)&&b_e.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class E_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Od(e)}da(e,n,r,i=!1){return new Ty({sa:e,methodName:n,fa:r,path:It.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Na(t){const e=t._freezeSettings(),n=Od(t._databaseId);return new E_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sy(t,e,n,r,i,o={}){const s=t.da(o.merge||o.mergeFields?2:0,e,n,i);NO("Data must be an object, but it was:",s,r);const a=Vj(r,s);let u,l;if(o.merge)u=new lr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const c of o.mergeFields){const d=U_(e,c,n);if(!s.contains(d))throw new ge(de.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Hj(f,d)||f.push(d)}u=new lr(f),l=s.fieldTransforms.filter(c=>u.covers(c.field))}else u=null,l=s.fieldTransforms;return new w_e(new sn(a),u,l)}class Ad extends Ca{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function qj(t,e,n){return new Ty({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class RO extends Ca{_toFieldTransform(e){return new bd(e.path,new Uu)}isEqual(e){return e instanceof RO}}class O_e extends Ca{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=qj(this,e,!0),r=this._a.map(o=>Da(o,n)),i=new ca(r);return new bd(e.path,i)}isEqual(e){return this===e}}class T_e extends Ca{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=qj(this,e,!0),r=this._a.map(o=>Da(o,n)),i=new fa(r);return new bd(e.path,i)}isEqual(e){return this===e}}class S_e extends Ca{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new qu(e.It,yM(e.It,this.wa));return new bd(e.path,n)}isEqual(e){return this===e}}function PO(t,e,n,r){const i=t.da(1,e,n);NO("Data must be an object, but it was:",i,r);const o=[],s=sn.empty();Pa(r,(u,l)=>{const f=DO(e,u,n);l=ke(l);const c=i.ca(f);if(l instanceof Ad)o.push(f);else{const d=Da(l,c);d!=null&&(o.push(f),s.set(f,d))}});const a=new lr(o);return new Fj(s,a,i.fieldTransforms)}function CO(t,e,n,r,i,o){const s=t.da(1,e,n),a=[U_(e,r,n)],u=[i];if(o.length%2!=0)throw new ge(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(U_(e,o[d])),u.push(o[d+1]);const l=[],f=sn.empty();for(let d=a.length-1;d>=0;--d)if(!Hj(l,a[d])){const g=a[d];let y=u[d];y=ke(y);const m=s.ca(g);if(y instanceof Ad)l.push(g);else{const _=Da(y,m);_!=null&&(l.push(g),f.set(g,_))}}const c=new lr(l);return new Fj(f,c,s.fieldTransforms)}function Bj(t,e,n,r=!1){return Da(n,t.da(r?4:3,e))}function Da(t,e){if(zj(t=ke(t)))return NO("Unsupported field value:",e,t),Vj(t,e);if(t instanceof Ca)return function(n,r){if(!Uj(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Da(s,r.aa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ke(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return yM(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ht.fromDate(n);return{timestampValue:Tf(r.It,i)}}if(n instanceof ht){const i=new ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tf(r.It,i)}}if(n instanceof Oy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yi)return{bytesValue:PM(r.It,n._byteString)};if(n instanceof at){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${by(n)}`)}(t,e)}function Vj(t,e){const n={};return oM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const o=Da(i,e.ra(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Oy||t instanceof yi||t instanceof at||t instanceof Ca)}function NO(t,e,n){if(!zj(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=by(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function U_(t,e,n){if((e=ke(e))instanceof es)return e._internalPath;if(typeof e=="string")return DO(t,e);throw lg("Field path arguments must be of type string or ",t,!1,void 0,n)}const A_e=new RegExp("[~\\*/\\[\\]]");function DO(t,e,n){if(e.search(A_e)>=0)throw lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new es(...e.split("."))._internalPath}catch{throw lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lg(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ge(de.INVALID_ARGUMENT,a+t+u)}function Hj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I_e extends xf{data(){return super.data()}}function Ay(t,e){return typeof e=="string"?DO(t,e):e instanceof es?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}function ho(t,...e){for(const n of e)t=n._apply(t);return t}class k_e extends Id{constructor(e,n,r){super(),this.ma=e,this.ga=n,this.ya=r,this.type="where"}_apply(e){const n=Na(e.firestore),r=function(i,o,s,a,u,l,f){let c;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new ge(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Fx(f,l);const g=[];for(const y of f)g.push(jx(a,i,y));c={arrayValue:{values:g}}}else c=jx(a,i,f)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Fx(f,l),c=Bj(s,o,f,l==="in"||l==="not-in");const d=an.create(u,l,c);return function(g,y){if(y.dt()){const _=QE(g);if(_!==null&&!_.isEqual(y.field))throw new ge(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${y.field.toString()}'`);const p=KE(g);p!==null&&Xj(g,y.field,p)}const m=function(_,p){for(const h of _.filters)if(p.indexOf(h.op)>=0)return h.op;return null}(g,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(m!==null)throw m===y.op?new ge(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${y.op.toString()}' filter.`):new ge(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${y.op.toString()}' filters with '${m.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Tn(e.firestore,e.converter,function(i,o){const s=i.filters.concat([o]);return new no(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function x_e(t,e,n){const r=e,i=Ay("where",t);return new k_e(i,r,n)}class R_e extends Id{constructor(e,n){super(),this.ma=e,this.pa=n,this.type="orderBy"}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new ge(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ge(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new _u(i,o);return function(a,u){if(KE(a)===null){const l=QE(a);l!==null&&Xj(a,l,u.field)}}(r,s),s}(e._query,this.ma,this.pa);return new Tn(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new no(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function P_e(t,e="asc"){const n=e,r=Ay("orderBy",t);return new R_e(r,n)}class Gj extends Id{constructor(e,n,r){super(),this.type=e,this.Ia=n,this.Ta=r}_apply(e){return new Tn(e.firestore,e.converter,tg(e._query,this.Ia,this.Ta))}}function C_e(t){return Aj("limit",t),new Gj("limit",t,"F")}function N_e(t){return Aj("limitToLast",t),new Gj("limitToLast",t,"L")}class Kj extends Id{constructor(e,n,r){super(),this.type=e,this.Ea=n,this.Aa=r}_apply(e){const n=Yj(e,this.type,this.Ea,this.Aa);return new Tn(e.firestore,e.converter,function(r,i){return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function D_e(...t){return new Kj("startAt",t,!0)}function L_e(...t){return new Kj("startAfter",t,!1)}class Qj extends Id{constructor(e,n,r){super(),this.type=e,this.Ea=n,this.Aa=r}_apply(e){const n=Yj(e,this.type,this.Ea,this.Aa);return new Tn(e.firestore,e.converter,function(r,i){return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function $_e(...t){return new Qj("endBefore",t,!1)}function M_e(...t){return new Qj("endAt",t,!0)}function Yj(t,e,n,r){if(n[0]=ke(n[0]),n[0]instanceof xf)return function(i,o,s,a,u){if(!a)throw new ge(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const l=[];for(const f of Fu(i))if(f.field.isKeyField())l.push(ua(o,a.key));else{const c=a.data.field(f.field);if(GE(c))throw new ge(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(c===null){const d=f.field.canonicalString();throw new ge(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}l.push(c)}return new Zo(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Na(t.firestore);return function(o,s,a,u,l,f){const c=o.explicitOrderBy;if(l.length>c.length)throw new ge(de.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let g=0;g<l.length;g++){const y=l[g];if(c[g].field.isKeyField()){if(typeof y!="string")throw new ge(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof y}`);if(!YE(o)&&y.indexOf("/")!==-1)throw new ge(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${y}' contains a slash.`);const m=o.path.child(ze.fromString(y));if(!we.isDocumentKey(m))throw new ge(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const _=new we(m);d.push(ua(s,_))}else{const m=Bj(a,u,y);d.push(m)}}return new Zo(d,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function jx(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new ge(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&n.indexOf("/")!==-1)throw new ge(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!we.isDocumentKey(r))throw new ge(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ua(t,new we(r))}if(n instanceof at)return ua(t,n._key);throw new ge(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(n)}.`)}function Fx(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ge(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xj(t,e,n){if(!n.isEqual(e))throw new ge(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){const r={};return Pa(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Oy(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sM(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(UM(r));const i=new Yo(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||At(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class j_e extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yi extends xf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ay("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pc extends Yi{data(e={}){return super.data(e)}}class ts{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Pc(r._firestore,r._userDataWriter,s.doc.key,s.doc,new js(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Pc(r._firestore,r._userDataWriter,s.doc.key,s.doc,new js(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:F_e(s.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function Zj(t,e){return t instanceof Yi&&e instanceof Yi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ts&&e instanceof ts&&t._firestore===e._firestore&&xj(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_e(t){t=Ge(t,at);const e=Ge(t.firestore,Ot);return Dj(en(e),t._key).then(n=>$O(e,t,n))}class La extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function q_e(t){t=Ge(t,at);const e=Ge(t.firestore,Ot),n=en(e),r=new La(e);return i_e(n,t._key).then(i=>new Yi(e,r,t._key,i,new js(i!==null&&i.hasLocalMutations,!0),t.converter))}function B_e(t){t=Ge(t,at);const e=Ge(t.firestore,Ot);return Dj(en(e),t._key,{source:"server"}).then(n=>$O(e,t,n))}function V_e(t){t=Ge(t,Tn);const e=Ge(t.firestore,Ot),n=en(e),r=new La(e);return Wj(t._query),Lj(n,t._query).then(i=>new ts(e,r,t,i))}function z_e(t){t=Ge(t,Tn);const e=Ge(t.firestore,Ot),n=en(e),r=new La(e);return o_e(n,t._query).then(i=>new ts(e,r,t,i))}function H_e(t){t=Ge(t,Tn);const e=Ge(t.firestore,Ot),n=en(e),r=new La(e);return Lj(n,t._query,{source:"server"}).then(i=>new ts(e,r,t,i))}function Ux(t,e,n){t=Ge(t,at);const r=Ge(t.firestore,Ot),i=Iy(t.converter,e,n);return kd(r,[Sy(Na(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dt.none())])}function qx(t,e,n,...r){t=Ge(t,at);const i=Ge(t.firestore,Ot),o=Na(i);let s;return s=typeof(e=ke(e))=="string"||e instanceof es?CO(o,"updateDoc",t._key,e,n,r):PO(o,"updateDoc",t._key,e),kd(i,[s.toMutation(t._key,dt.exists(!0))])}function W_e(t){return kd(Ge(t.firestore,Ot),[new El(t._key,dt.none())])}function G_e(t,e){const n=Ge(t.firestore,Ot),r=ug(t),i=Iy(t.converter,e);return kd(n,[Sy(Na(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dt.exists(!1))]).then(()=>r)}function Jj(t,...e){var n,r,i;t=ke(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||F_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(F_(e[s])){const c=e[s];e[s]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[s+1]=(r=c.error)===null||r===void 0?void 0:r.bind(c),e[s+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let u,l,f;if(t instanceof at)l=Ge(t.firestore,Ot),f=bl(t._key.path),u={next:c=>{e[s]&&e[s]($O(l,t,c))},error:e[s+1],complete:e[s+2]};else{const c=Ge(t,Tn);l=Ge(c.firestore,Ot),f=c._query;const d=new La(l);u={next:g=>{e[s]&&e[s](new ts(l,d,c,g))},error:e[s+1],complete:e[s+2]},Wj(t._query)}return function(c,d,g,y){const m=new wy(y),_=new vO(d,m,g);return c.asyncQueue.enqueueAndForget(async()=>gO(await Wu(c),_)),()=>{m.bc(),c.asyncQueue.enqueueAndForget(async()=>mO(await Wu(c),_))}}(en(l),f,a,u)}function K_e(t,e){return s_e(en(t=Ge(t,Ot)),F_(e)?e:{next:e})}function kd(t,e){return function(n,r){const i=new Gt;return n.asyncQueue.enqueueAndForget(async()=>C1e(await xO(n),r,i)),i.promise}(en(t),e)}function $O(t,e,n){const r=n.docs.get(e._key),i=new La(t);return new Yi(t,i,e._key,r,new js(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_e={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_e{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Na(e)}set(e,n,r){this._verifyNotCommitted();const i=wo(e,this._firestore),o=Iy(i.converter,n,r),s=Sy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,dt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=wo(e,this._firestore);let s;return s=typeof(n=ke(n))=="string"||n instanceof es?CO(this._dataReader,"WriteBatch.update",o._key,n,r,i):PO(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,dt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wo(e,this._firestore);return this._mutations=this._mutations.concat(new El(n._key,dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wo(t,e){if((t=ke(t)).firestore!==e)throw new ge(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_e extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Na(e)}get(e){const n=wo(e,this._firestore),r=new j_e(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Se();const o=i[0];if(o.isFoundDocument())return new xf(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new xf(this._firestore,r,n._key,null,n.converter);throw Se()})}set(e,n,r){const i=wo(e,this._firestore),o=Iy(i.converter,n,r),s=Sy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=wo(e,this._firestore);let s;return s=typeof(n=ke(n))=="string"||n instanceof es?CO(this._dataReader,"Transaction.update",o._key,n,r,i):PO(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=wo(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=wo(e,this._firestore),r=new La(this._firestore);return super.get(e).then(i=>new Yi(this._firestore,r,n._key,i._document,new js(!1,!1),n.converter))}}function Z_e(t,e,n){t=Ge(t,Ot);const r=Object.assign(Object.assign({},Q_e),n);return function(i){if(i.maxAttempts<1)throw new ge(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,s){const a=new Gt;return i.asyncQueue.enqueueAndForget(async()=>{const u=await t_e(i);new J1e(i.asyncQueue,u,s,o,a).run()}),a.promise}(en(t),i=>e(new X_e(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_e(){return new Ad("deleteField")}function ebe(){return new RO("serverTimestamp")}function tbe(...t){return new O_e("arrayUnion",t)}function nbe(...t){return new T_e("arrayRemove",t)}function rbe(t){return new S_e("increment",t)}(function(t,e=!0){(function(n){_l=n})(as),Gi(new kr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ot(new lve(n.getProvider("auth-internal")),new hve(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ge(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Sr(jk,"3.7.2",t),Sr(jk,"3.7.2","esm2017")})();const ibe="@firebase/firestore-compat",obe="0.2.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ge("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){if(typeof Uint8Array>"u")throw new ge("unimplemented","Uint8Arrays are not available in this environment.")}function Vx(){if(!wve())throw new ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Rf{constructor(e){this._delegate=e}static fromBase64String(e){return Vx(),new Rf(yi.fromBase64String(e))}static fromUint8Array(e){return Bx(),new Rf(yi.fromUint8Array(e))}toBase64(){return Vx(),this._delegate.toBase64()}toUint8Array(){return Bx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){return sbe(t,["next","error","complete"])}function sbe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class abe{enableIndexedDbPersistence(e,n){return d_e(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return h_e(e._delegate)}clearIndexedDbPersistence(e){return p_e(e._delegate)}}class eF{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Mu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Q1e(this._delegate,e,n,r)}enableNetwork(){return m_e(this._delegate)}disableNetwork(){return y_e(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return g_e(this._delegate)}onSnapshotsInSync(e){return K_e(this._delegate,e)}get app(){if(!this._appCompat)throw new ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gu(this,Ij(this._delegate,e))}catch(n){throw Rn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Er(this,ug(this._delegate,e))}catch(n){throw Rn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xn(this,Y1e(this._delegate,e))}catch(n){throw Rn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Z_e(this._delegate,n=>e(new tF(this,n)))}batch(){return en(this._delegate),new nF(new Y_e(this._delegate,e=>kd(this._delegate,e)))}loadBundle(e){return v_e(this._delegate,e)}namedQuery(e){return __e(this._delegate,e).then(n=>n?new xn(this,n):null)}}class ky extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(new yi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Er.forKey(n,this.firestore,null)}}function ube(t){ove(t)}class tF{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ky(e)}get(e){const n=Fs(e);return this._delegate.get(n).then(r=>new Pf(this._firestore,new Yi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Fs(e);return r?(MO("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Fs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Fs(e);return this._delegate.delete(n),this}}class nF{constructor(e){this._delegate=e}set(e,n,r){const i=Fs(e);return r?(MO("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Fs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Fs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ga{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Pc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cf(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ga.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new ga(e,new ky(e),n),i.set(n,o)),o}}ga.INSTANCES=new WeakMap;class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ky(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Er(n,new at(n._delegate,r,new we(e)))}static forKey(e,n,r){return new Er(n,new at(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Gu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gu(this.firestore,Ij(this._delegate,e))}catch(n){throw Rn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof at?kj(this._delegate,e):!1}set(e,n){n=MO("DocumentReference.set",n);try{return n?Ux(this._delegate,e,n):Ux(this._delegate,e)}catch(r){throw Rn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?qx(this._delegate,e):qx(this._delegate,e,n,...r)}catch(i){throw Rn(i,"updateDoc()","DocumentReference.update()")}}delete(){return W_e(this._delegate)}onSnapshot(...e){const n=rF(e),r=iF(e,i=>new Pf(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Jj(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=q_e(this._delegate):(e==null?void 0:e.source)==="server"?n=B_e(this._delegate):n=U_e(this._delegate),n.then(r=>new Pf(this.firestore,new Yi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(ga.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rn(t,e,n){return t.message=t.message.replace(e,n),t}function rF(t){for(const e of t)if(typeof e=="object"&&!q_(e))return e;return{}}function iF(t,e){var n,r;let i;return q_(t[0])?i=t[0]:q_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Pf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Er(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Zj(this._delegate,e._delegate)}}class Cf extends Pf{data(e){const n=this._delegate.data(e);return sve(n!==void 0),n}}class xn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ky(e)}where(e,n,r){try{return new xn(this.firestore,ho(this._delegate,x_e(e,n,r)))}catch(i){throw Rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new xn(this.firestore,ho(this._delegate,P_e(e,n)))}catch(r){throw Rn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xn(this.firestore,ho(this._delegate,C_e(e)))}catch(n){throw Rn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new xn(this.firestore,ho(this._delegate,N_e(e)))}catch(n){throw Rn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xn(this.firestore,ho(this._delegate,D_e(...e)))}catch(n){throw Rn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xn(this.firestore,ho(this._delegate,L_e(...e)))}catch(n){throw Rn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xn(this.firestore,ho(this._delegate,$_e(...e)))}catch(n){throw Rn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xn(this.firestore,ho(this._delegate,M_e(...e)))}catch(n){throw Rn(n,"endAt()","Query.endAt()")}}isEqual(e){return xj(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=z_e(this._delegate):(e==null?void 0:e.source)==="server"?n=H_e(this._delegate):n=V_e(this._delegate),n.then(r=>new B_(this.firestore,new ts(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=rF(e),r=iF(e,i=>new B_(this.firestore,new ts(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Jj(this._delegate,n,r)}withConverter(e){return new xn(this.firestore,e?this._delegate.withConverter(ga.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class lbe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new xn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new lbe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Cf(this._firestore,r))})}isEqual(e){return Zj(this._delegate,e._delegate)}}class Gu extends xn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Er(this.firestore,e):null}doc(e){try{return e===void 0?new Er(this.firestore,ug(this._delegate)):new Er(this.firestore,ug(this._delegate,e))}catch(n){throw Rn(n,"doc()","CollectionReference.doc()")}}add(e){return G_e(this._delegate,e).then(n=>new Er(this.firestore,n))}isEqual(e){return kj(this._delegate,e._delegate)}withConverter(e){return new Gu(this.firestore,e?this._delegate.withConverter(ga.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fs(t){return Ge(t,at)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(...e){this._delegate=new es(...e)}static documentId(){return new jO(It.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof es?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._delegate=e}static serverTimestamp(){const e=ebe();return e._methodName="FieldValue.serverTimestamp",new Rs(e)}static delete(){const e=J_e();return e._methodName="FieldValue.delete",new Rs(e)}static arrayUnion(...e){const n=tbe(...e);return n._methodName="FieldValue.arrayUnion",new Rs(n)}static arrayRemove(...e){const n=nbe(...e);return n._methodName="FieldValue.arrayRemove",new Rs(n)}static increment(e){const n=rbe(e);return n._methodName="FieldValue.increment",new Rs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cbe={Firestore:eF,GeoPoint:Oy,Timestamp:ht,Blob:Rf,Transaction:tF,WriteBatch:nF,DocumentReference:Er,DocumentSnapshot:Pf,Query:xn,QueryDocumentSnapshot:Cf,QuerySnapshot:B_,CollectionReference:Gu,FieldPath:jO,FieldValue:Rs,setLogLevel:ube,CACHE_SIZE_UNLIMITED:f_e};function fbe(t,e){t.INTERNAL.registerComponent(new kr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cbe)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dbe(t){fbe(t,(e,n)=>new eF(e,n,new abe)),t.registerVersion(ibe,obe)}dbe(Oi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebasestorage.googleapis.com",sF="storageBucket",hbe=2*60*1e3,pbe=10*60*1e3,gbe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends bn{constructor(e,n,r=0){super(y0(e),`Firebase Storage: ${n} (${y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function y0(t){return"storage/"+t}function FO(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt("unknown",t)}function mbe(t){return new Tt("object-not-found","Object '"+t+"' does not exist.")}function ybe(t){return new Tt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vbe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt("unauthenticated",t)}function _be(){return new Tt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function bbe(t){return new Tt("unauthorized","User does not have permission to access '"+t+"'.")}function aF(){return new Tt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function uF(){return new Tt("canceled","User canceled the upload/download.")}function wbe(t){return new Tt("invalid-url","Invalid URL '"+t+"'.")}function Ebe(t){return new Tt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Obe(){return new Tt("no-default-bucket","No default bucket found. Did you set the '"+sF+"' property when initializing the app?")}function lF(){return new Tt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tbe(){return new Tt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Sbe(){return new Tt("no-download-url","The given file does not have any download URLs.")}function wu(t){return new Tt("invalid-argument",t)}function cF(){return new Tt("app-deleted","The Firebase app was deleted.")}function fF(t){return new Tt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cc(t,e){return new Tt("invalid-format","String does not match format '"+t+"': "+e)}function Jl(t){throw new Tt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(r.path==="")return r;throw Ebe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(v){v.path_=decodeURIComponent(v.path)}const f="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${c}/${f}/b/${i}/o${d}`,"i"),y={bucket:1,path:3},m=n===oF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${m}/${i}/${_}`,"i"),b=[{regex:a,indices:u,postModify:o},{regex:g,indices:y,postModify:l},{regex:p,indices:{bucket:1,path:2},postModify:l}];for(let v=0;v<b.length;v++){const w=b[v],O=w.regex.exec(e);if(O){const T=O[w.indices.bucket];let E=O[w.indices.path];E||(E=""),r=new _n(T,E),w.postModify(r);break}}if(r==null)throw wbe(e);return r}}class Abe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ibe(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function f(..._){l||(l=!0,e.apply(null,_))}function c(_){i=setTimeout(()=>{i=null,t(g,u())},_)}function d(){o&&clearTimeout(o)}function g(_,...p){if(l){d();return}if(_){d(),f.call(null,_,...p);return}if(u()||s){d(),f.call(null,_,...p);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,c(b)}let y=!1;function m(_){y||(y=!0,d(),!l&&(i!==null?(_||(a=2),clearTimeout(i),c(0)):_||(a=1)))}return c(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function kbe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xbe(t){return t!==void 0}function Rbe(t){return typeof t=="function"}function Pbe(t){return typeof t=="object"&&!Array.isArray(t)}function xy(t){return typeof t=="string"||t instanceof String}function zx(t){return UO()&&t instanceof Blob}function UO(){return typeof Blob<"u"&&!jm()}function V_(t,e,n,r){if(r<e)throw wu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cbe{constructor(e,n,r,i,o,s,a,u,l,f,c,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ks.NO_ERROR,u=o.getStatus();if((!a||hF(u,this.additionalRetryCodes_))&&this.retry){const f=o.getErrorCode()===Ks.ABORT;r(!1,new gh(!1,null,f));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new gh(l,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());xbe(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=FO();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?cF():uF();s(u)}else{const u=aF();s(u)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=Ibe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kbe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Nbe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dbe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Lbe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $be(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Mbe(t,e,n,r,i,o,s=!0){const a=dF(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return Lbe(l,e),Nbe(l,n),Dbe(l,o),$be(l,r),new Cbe(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Fbe(...t){const e=jbe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(UO())return new Blob(t);throw new Tt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ube(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qbe(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class v0{constructor(e,n){this.data=e,this.contentType=n||null}}function pF(t,e){switch(t){case Or.RAW:return new v0(gF(e));case Or.BASE64:case Or.BASE64URL:return new v0(mF(t,e));case Or.DATA_URL:return new v0(Vbe(e),zbe(e))}throw FO()}function gF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Bbe(t){let e;try{e=decodeURIComponent(t)}catch{throw Cc(Or.DATA_URL,"Malformed data URL.")}return gF(e)}function mF(t,e){switch(t){case Or.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Cc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Cc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qbe(e)}catch{throw Cc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cc(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Hbe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Vbe(t){const e=new yF(t);return e.base64?mF(Or.BASE64,e.rest):Bbe(e.rest)}function zbe(t){return new yF(t).contentType}function Hbe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){let r=0,i="";zx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zx(this.data_)){const r=this.data_,i=Ube(r,e,n);return i===null?null:new xi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xi(r,!0)}}static getBlob(...e){if(UO()){const n=e.map(r=>r instanceof xi?r.data_:r);return new xi(Fbe.apply(null,n))}else{const n=e.map(s=>xy(s)?pF(Or.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new xi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){let e;try{e=JSON.parse(t)}catch{return null}return Pbe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wbe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Gbe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kbe(t,e){return e}class An{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Kbe}}let mh=null;function Qbe(t){return!xy(t)||t.length<2?t:vF(t)}function Ry(){if(mh)return mh;const t=[];t.push(new An("bucket")),t.push(new An("generation")),t.push(new An("metageneration")),t.push(new An("name","fullPath",!0));function e(o,s){return Qbe(s)}const n=new An("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new An("size");return i.xform=r,t.push(i),t.push(new An("timeCreated")),t.push(new An("updated")),t.push(new An("md5Hash",null,!0)),t.push(new An("cacheControl",null,!0)),t.push(new An("contentDisposition",null,!0)),t.push(new An("contentEncoding",null,!0)),t.push(new An("contentLanguage",null,!0)),t.push(new An("contentType",null,!0)),t.push(new An("metadata","customMetadata",!0)),mh=t,mh}function Ybe(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new _n(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Xbe(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Ybe(r,t),r}function _F(t,e,n){const r=qO(e);return r===null?null:Xbe(t,r,n)}function Zbe(t,e,n,r){const i=qO(e);if(i===null||!xy(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=t.bucket,c=t.fullPath,d="/b/"+s(f)+"/o/"+s(c),g=gs(d,n,r),y=dF({alt:"media",token:l});return g+y})[0]}function BO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="prefixes",Wx="items";function Jbe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Hx])for(const i of n[Hx]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new _n(e,o));r.prefixes.push(s)}if(n[Wx])for(const i of n[Wx]){const o=t._makeStorageReference(new _n(e,i.name));r.items.push(o)}return r}function ewe(t,e,n){const r=qO(n);return r===null?null:Jbe(t,e,r)}class oo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){if(!t)throw FO()}function Py(t,e){function n(r,i){const o=_F(t,i,e);return di(o!==null),o}return n}function twe(t,e){function n(r,i){const o=ewe(t,e,i);return di(o!==null),o}return n}function nwe(t,e){function n(r,i){const o=_F(t,i,e);return di(o!==null),Zbe(o,i,t.host,t._protocol)}return n}function Il(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_be():i=vbe():n.getStatus()===402?i=ybe(t.bucket):n.getStatus()===403?i=bbe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Cy(t){const e=Il(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=mbe(t.path)),o.serverResponse=i.serverResponse,o}return n}function bF(t,e,n){const r=e.fullServerUrl(),i=gs(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new oo(i,o,Py(t,n),s);return a.errorHandler=Cy(e),a}function rwe(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=e.bucketOnlyServerUrl(),a=gs(s,t.host,t._protocol),u="GET",l=t.maxOperationRetryTime,f=new oo(a,u,twe(t,e.bucket),l);return f.urlParams=o,f.errorHandler=Il(e),f}function iwe(t,e,n){const r=e.fullServerUrl(),i=gs(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new oo(i,o,nwe(t,n),s);return a.errorHandler=Cy(e),a}function owe(t,e,n,r){const i=e.fullServerUrl(),o=gs(i,t.host,t._protocol),s="PATCH",a=BO(n,r),u={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,f=new oo(o,s,Py(t,r),l);return f.headers=u,f.body=a,f.errorHandler=Cy(e),f}function swe(t,e){const n=e.fullServerUrl(),r=gs(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(u,l){}const a=new oo(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Cy(e),a}function awe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=awe(null,e)),r}function uwe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let v=0;v<2;v++)b=b+Math.random().toString().slice(2);return b}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const l=wF(e,r,i),f=BO(l,n),c="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",g=xi.getBlob(c,r,d);if(g===null)throw lF();const y={name:l.fullPath},m=gs(o,t.host,t._protocol),_="POST",p=t.maxUploadRetryTime,h=new oo(m,_,Py(t,n),p);return h.urlParams=y,h.headers=s,h.body=g.uploadData(),h.errorHandler=Il(e),h}class cg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function VO(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{di(!1)}return di(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lwe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=wF(e,r,i),a={name:s.fullPath},u=gs(o,t.host,t._protocol),l="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=BO(s,n),d=t.maxUploadRetryTime;function g(m){VO(m);let _;try{_=m.getResponseHeader("X-Goog-Upload-URL")}catch{di(!1)}return di(xy(_)),_}const y=new oo(u,l,g,d);return y.urlParams=a,y.headers=f,y.body=c,y.errorHandler=Il(e),y}function cwe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(l){const f=VO(l,["active","final"]);let c=null;try{c=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{di(!1)}c||di(!1);const d=Number(c);return di(!isNaN(d)),new cg(d,r.size(),f==="final")}const s="POST",a=t.maxUploadRetryTime,u=new oo(n,s,o,a);return u.headers=i,u.errorHandler=Il(e),u}const Gx=256*1024;function fwe(t,e,n,r,i,o,s,a){const u=new cg(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Tbe();const l=u.total-u.current;let f=l;i>0&&(f=Math.min(f,i));const c=u.current,d=c+f;let g="";f===0?g="finalize":l===f?g="upload, finalize":g="upload";const y={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${u.current}`},m=r.slice(c,d);if(m===null)throw lF();function _(v,w){const O=VO(v,["active","final"]),T=u.current+f,E=r.size();let k;return O==="final"?k=Py(e,o)(v,w):k=null,new cg(T,E,O==="final",k)}const p="POST",h=e.maxUploadRetryTime,b=new oo(n,p,_,h);return b.headers=y,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=Il(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dwe={STATE_CHANGED:"state_changed"},Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _0(t){switch(t){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;case"error":return Pn.ERROR;default:return Pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hwe{constructor(e,n,r){if(Rbe(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pwe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gwe extends pwe{initXhr(){this.xhr_.responseType="text"}}function ei(){return new gwe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ry(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(hF(i.status,[]))if(o)i=aF();else{this.sleepTime=Math.max(this.sleepTime*2,gbe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=lwe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ei,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=cwe(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,ei,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Gx*this._chunkMultiplier,n=new cg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=fwe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(s,ei,i,o,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Gx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=bF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ei,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=uwe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ei,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=uF(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new hwe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_0(this._state)){case Pn.SUCCESS:Ba(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:const n=this._reject;Ba(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_0(this._state)){case Pn.RUNNING:case Pn.PAUSED:e.next&&Ba(e.next.bind(e,this.snapshot))();break;case Pn.SUCCESS:e.complete&&Ba(e.complete.bind(e))();break;case Pn.CANCELED:case Pn.ERROR:e.error&&Ba(e.error.bind(e,this._error))();break;default:e.error&&Ba(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof _n?this._location=n:this._location=_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vF(this._location.path)}get storage(){return this._service}get parent(){const e=Wbe(this._location.path);if(e===null)return null;const n=new _n(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fF(e)}}function mwe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new EF(t,new xi(e),n)}function ywe(t){const e={prefixes:[],items:[]};return OF(t,e).then(()=>e)}async function OF(t,e,n){const i=await TF(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await OF(t,e,i.nextPageToken)}function TF(t,e){e!=null&&typeof e.maxResults=="number"&&V_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=rwe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ei)}function vwe(t){t._throwIfRoot("getMetadata");const e=bF(t.storage,t._location,Ry());return t.storage.makeRequestWithTokens(e,ei)}function _we(t,e){t._throwIfRoot("updateMetadata");const n=owe(t.storage,t._location,e,Ry());return t.storage.makeRequestWithTokens(n,ei)}function bwe(t){t._throwIfRoot("getDownloadURL");const e=iwe(t.storage,t._location,Ry());return t.storage.makeRequestWithTokens(e,ei).then(n=>{if(n===null)throw Sbe();return n})}function wwe(t){t._throwIfRoot("deleteObject");const e=swe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ei)}function SF(t,e){const n=Gbe(t._location.path,e),r=new _n(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ewe(t){return/^[A-Za-z]+:\/\//.test(t)}function Owe(t,e){return new ma(t,e)}function AF(t,e){if(t instanceof zO){const n=t;if(n._bucket==null)throw Obe();const r=new ma(n,n._bucket);return e!=null?AF(r,e):r}else return e!==void 0?SF(t,e):t}function Twe(t,e){if(e&&Ewe(e)){if(t instanceof zO)return Owe(t,e);throw wu("To use ref(service, url), the first argument must be a Storage instance.")}else return AF(t,e)}function Kx(t,e){const n=e==null?void 0:e[sF];return n==null?null:_n.makeFromBucketSpec(n,t)}function Swe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:jD(i,t.app.options.projectId))}class zO{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=oF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hbe,this._maxUploadRetryTime=pbe,this._requests=new Set,i!=null?this._bucket=_n.makeFromBucketSpec(i,this._host):this._bucket=Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Abe(cF());{const s=Mbe(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Qx="@firebase/storage",Yx="0.9.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe="storage";function Iwe(t,e,n){return t=ke(t),mwe(t,e,n)}function kwe(t){return t=ke(t),vwe(t)}function xwe(t,e){return t=ke(t),_we(t,e)}function Rwe(t,e){return t=ke(t),TF(t,e)}function Pwe(t){return t=ke(t),ywe(t)}function Cwe(t){return t=ke(t),bwe(t)}function Nwe(t){return t=ke(t),wwe(t)}function Xx(t,e){return t=ke(t),Twe(t,e)}function Dwe(t,e){return SF(t,e)}function Lwe(t,e,n,r={}){Swe(t,e,n,r)}function $we(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zO(n,r,i,e,as)}function Mwe(){Gi(new kr(Awe,$we,"PUBLIC").setMultipleInstances(!0)),Sr(Qx,Yx,""),Sr(Qx,Yx,"esm2017")}Mwe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yh(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new yh(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(typeof n=="function"?o=s=>n(new yh(s,this,this._ref)):o={next:n.next?s=>n.next(new yh(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class Jx{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ui(e,this._service))}get items(){return this._delegate.items.map(e=>new Ui(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=Dwe(this._delegate,e);return new Ui(n,this.storage)}get root(){return new Ui(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Ui(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Zx(Iwe(this._delegate,e,n),this)}putString(e,n=Or.RAW,r){this._throwIfRoot("putString");const i=pF(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new Zx(new EF(this._delegate,new xi(i.data,!0),o),this)}listAll(){return Pwe(this._delegate).then(e=>new Jx(e,this.storage))}list(e){return Rwe(this._delegate,e||void 0).then(n=>new Jx(n,this.storage))}getMetadata(){return kwe(this._delegate)}updateMetadata(e){return xwe(this._delegate,e)}getDownloadURL(){return Cwe(this._delegate)}delete(){return this._throwIfRoot("delete"),Nwe(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw fF(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(eR(e))throw wu("ref() expected a child path but got a URL, use refFromURL instead.");return new Ui(Xx(this._delegate,e),this)}refFromURL(e){if(!eR(e))throw wu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_n.makeFromUrl(e,this._delegate.host)}catch{throw wu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ui(Xx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Lwe(this._delegate,e,n,r)}}function eR(t){return/^[A-Za-z]+:\/\//.test(t)}const jwe="@firebase/storage-compat",Fwe="0.1.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uwe="storage-compat";function qwe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new IF(n,r)}function Bwe(t){const e={TaskState:Pn,TaskEvent:dwe,StringFormat:Or,Storage:IF,Reference:Ui};t.INTERNAL.registerComponent(new kr(Uwe,qwe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(jwe,Fwe)}Bwe(Oi);const Vwe={apiKey:"AIzaSyAkfoVPY7KHRfTONsgCSeoWDk4DisytmY0",authDomain:"blog-4cd65.firebaseapp.com",projectId:"blog-4cd65",storageBucket:"blog-4cd65.appspot.com",messagingSenderId:"801967607293",appId:"1:801967607293:web:74aa1468b705af0f885d94",measurementId:"G-MTC5L9T9ST"};Oi.initializeApp(Vwe);Oi.firestore();Oi.storage();const zwe=Z5({firebase:Wt.exports.firebaseReducer,firestore:qw.firestoreReducer}),Hwe={userProfile:"users",useFirestoreForProfile:!0},kF=Y5(zwe),Wwe={firebase:Oi,config:Hwe,dispatch:kF.dispatch,createFirestoreInstance:qw.createFirestoreInstance},Gwe=w0.createRoot(document.getElementById("root"));Gwe.render(fe(K5,{store:kF,children:fe(Wt.exports.ReactReduxFirebaseProvider,{...Wwe,children:fe(r5,{children:fe(pse,{})})})}));
